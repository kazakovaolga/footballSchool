/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";var e,t,n={4444:function(e,t,n){n.d(t,{BH:function(){return a},G6:function(){return p},L:function(){return o},LL:function(){return v},Sg:function(){return u},ZR:function(){return y},b$:function(){return h},eu:function(){return g},hl:function(){return m},m9:function(){return T},ne:function(){return S},pd:function(){return E},ru:function(){return d},tV:function(){return s},uI:function(){return l},vZ:function(){return A},w1:function(){return f},xO:function(){return C},xb:function(){return w},z$:function(){return c},zd:function(){return I}});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,c=i>>2,l=(3&i)<<4|s>>4;let d=(15&s)<<2|u>>6,h=63&u;a||(h=64,o||(d=64)),r.push(n[c],n[l],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const u=i<<2|o>>4;if(r.push(u),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function d(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){const e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function p(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m(){return"object"==typeof indexedDB}function g(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class y extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(b,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new y(r,s,n)}}const b=/\{\$([^}]+)}/g;function w(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(_(n)&&_(o)){if(!A(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function _(e){return null!==e&&"object"==typeof e}function C(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function I(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function E(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function S(e,t){const n=new x(e,t);return n.subscribe.bind(n)}class x{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function k(){}function T(e){return e&&e._delegate?e._delegate:e}},9162:function(e,t,n){function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[G]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===K}(e)||Array.isArray(e)||!!e[$]||!!e.constructor[$]||h(e)||f(e))}function s(e){return i(e)||r(23,e),e[G].t}function a(e,t,n){void 0===n&&(n=!1),0===u(e)?(n?Object.keys:H)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function u(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:f(e)?3:0}function c(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t,n){var r=u(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return U&&e instanceof Map}function f(e){return V&&e instanceof Set}function p(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=W(e);delete t[G];for(var n=H(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),v(e)||i(e)||!o(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&a(e,(function(e,t){return g(t,!0)}),!0)),e}function y(){r(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=Q[e];return t||r(18,e),t}function w(){return j}function A(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){C(e),e.p.forEach(E),e.p=null}function C(e){e===j&&(j=e.l)}function I(e){return j={p:[],l:j,h:e,m:!0,_:0}}function E(e){var t=e[G];0===t.i||1===t.i?t.j():t.O=!0}function S(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,i),i?(n[G].P&&(_(t),r(4)),o(e)&&(e=x(t,e),t.l||T(t,e)),t.u&&b("Patches").M(n[G].t,e,t.u,t.s)):e=x(t,n,[]),_(t),t.u&&t.v(t.u,t.s),e!==q?e:void 0}function x(e,t,n){if(v(t))return t;var r=t[G];if(!r)return a(t,(function(i,o){return k(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return T(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;a(3===r.i?new Set(i):i,(function(t,o){return k(e,r,i,t,o,n)})),T(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function k(e,t,n,r,s,a){if(i(s)){var u=x(e,s,a&&t&&3!==t.i&&!c(t.D,r)?a.concat(r):void 0);if(l(n,r,u),!i(u))return;e.m=!1}if(o(s)&&!v(s)){if(!e.h.F&&e._<1)return;x(e,s),t&&t.A.l||T(e,s)}}function T(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&g(t,n)}function N(e,t){var n=e[G];return(n?p(n):e)[t]}function D(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function O(e){e.P||(e.P=!0,e.l&&O(e.l))}function P(e){e.o||(e.o=m(e.t))}function R(e,t,n){var r=h(t)?b("MapSet").N(t,n):f(t)?b("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Y;n&&(i=[r],o=J);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return r.k=u,r.j=a,u}(t,n):b("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function L(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[G],i=u(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=M(t,i),r.I=!1}else n=M(t,i);return a(n,(function(t,i){r&&function(e,t){return 2===u(e)?e.get(t):e[t]}(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}n.r(t),n.d(t,{MiddlewareArray:function(){return qe},TaskAbortError:function(){return Pt},__DO_NOT_USE__ActionTypes:function(){return ue},addListener:function(){return qt},applyMiddleware:function(){return ge},bindActionCreators:function(){return pe},clearAllListeners:function(){return $t},combineReducers:function(){return he},compose:function(){return me},configureStore:function(){return Je},createAction:function(){return Xe},createAsyncThunk:function(){return mt},createDraftSafeSelector:function(){return Ue},createEntityAdapter:function(){return ct},createImmutableStateInvariantMiddleware:function(){return Ke},createListenerMiddleware:function(){return Wt},createNextState:function(){return te},createReducer:function(){return nt},createSelector:function(){return _e},createSerializableStateInvariantMiddleware:function(){return Qe},createSlice:function(){return rt},createStore:function(){return le},current:function(){return L},findNonSerializableValue:function(){return We},freeze:function(){return g},getDefaultMiddleware:function(){return Ye},getType:function(){return et},isAllOf:function(){return bt},isAnyOf:function(){return vt},isAsyncThunkAction:function(){return St},isDraft:function(){return i},isFulfilled:function(){return Et},isImmutableDefault:function(){return Ge},isPending:function(){return _t},isPlain:function(){return He},isPlainObject:function(){return ze},isRejected:function(){return Ct},isRejectedWithValue:function(){return It},legacy_createStore:function(){return de},miniSerializeError:function(){return pt},nanoid:function(){return lt},original:function(){return s},removeListener:function(){return Gt},unwrapResult:function(){return gt}});var F,j,B="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,V="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,q=B?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),$=B?Symbol.for("immer-draftable"):"__$immer_draftable",G=B?Symbol.for("immer-state"):"__$immer_state",K=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),H="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,W=Object.getOwnPropertyDescriptors||function(e){var t={};return H(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Q={},Y={get:function(e,t){if(t===G)return e;var n=p(e);if(!c(n,t))return function(e,t,n){var r,i=D(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===N(e.t,t)?(P(e),e.o[t]=R(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=D(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=N(p(e),t),o=null==i?void 0:i[G];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||c(e.t,t)))return!0;P(e),O(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==N(e.t,t)||t in e.t?(e.D[t]=!1,P(e),O(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},J={};a(Y,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return J.set.call(this,e,t,void 0)},J.set=function(e,t,n){return Y.set.call(this,e[0],t,n,e[0])};var X=function(){function e(e){var t=this;this.g=z,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var s=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=s);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var c=I(t),l=R(t,e,void 0),d=!0;try{u=n(l),d=!1}finally{d?_(c):C(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return A(c,i),S(e,c)}),(function(e){throw _(c),e})):(A(c,i),S(u,c))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===q&&(u=void 0),t.F&&g(u,!0),i){var h=[],f=[];b("Patches").M(e,u,h,f),i(h,f)}return u}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=L(e));var t=I(this),n=R(this,e,void 0);return n[G].C=!0,C(t),n},t.finishDraft=function(e,t){var n=(e&&e[G]).A;return A(n,t),S(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!z&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),Z=new X,ee=Z.produce;Z.produceWithPatches.bind(Z),Z.setAutoFreeze.bind(Z),Z.setUseProxies.bind(Z),Z.applyPatches.bind(Z),Z.createDraft.bind(Z),Z.finishDraft.bind(Z);const te=ee;function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var se="function"==typeof Symbol&&Symbol.observable||"@@observable",ae=function(){return Math.random().toString(36).substring(7).split("").join(".")},ue={INIT:"@@redux/INIT"+ae(),REPLACE:"@@redux/REPLACE"+ae(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ae()}};function ce(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function le(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(oe(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(oe(1));return n(le)(e,t)}if("function"!=typeof e)throw new Error(oe(2));var i=e,o=t,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function l(){if(u)throw new Error(oe(3));return o}function d(e){if("function"!=typeof e)throw new Error(oe(4));if(u)throw new Error(oe(5));var t=!0;return c(),a.push(e),function(){if(t){if(u)throw new Error(oe(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!ce(e))throw new Error(oe(7));if(void 0===e.type)throw new Error(oe(8));if(u)throw new Error(oe(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(oe(10));i=e,h({type:ue.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(oe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[se]=function(){return this},e}return h({type:ue.INIT}),(r={dispatch:h,subscribe:d,getState:l,replaceReducer:f})[se]=p,r}var de=le;function he(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:ue.INIT}))throw new Error(oe(12));if(void 0===n(void 0,{type:ue.PROBE_UNKNOWN_ACTION()}))throw new Error(oe(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],c=n[u],l=e[u],d=c(l,t);if(void 0===d)throw t&&t.type,new Error(oe(14));i[u]=d,r=r||d!==l}return(r=r||s.length!==Object.keys(e).length)?i:e}}function fe(e,t){return function(){return t(e.apply(this,arguments))}}function pe(e,t){if("function"==typeof e)return fe(e,t);if("object"!=typeof e||null===e)throw new Error(oe(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=fe(i,t))}return n}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(oe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=me.apply(void 0,o)(n.dispatch),ie(ie({},n),{},{dispatch:r})}}}var ye="NOT_FOUND",ve=function(e,t){return e===t};function be(e,t){var n,r,i="object"==typeof t?t:{equalityCheck:t},o=i.equalityCheck,s=void 0===o?ve:o,a=i.maxSize,u=void 0===a?1:a,c=i.resultEqualityCheck,l=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(s),d=1===u?(n=l,{get:function(e){return r&&n(r.key,e)?r.value:ye},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return ye}return{get:r,put:function(t,i){r(t)===ye&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(u,l);function h(){var t=d.get(arguments);if(t===ye){if(t=e.apply(null,arguments),c){var n=d.getEntries(),r=n.find((function(e){return c(e.value,t)}));r&&(t=r.value)}d.put(arguments,t)}return t}return h.clearCache=function(){return d.clear()},h}function we(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,s=0,a={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(a=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=a,l=c.memoizeOptions,d=void 0===l?n:l,h=Array.isArray(d)?d:[d],f=we(r),p=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(h)),m=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(m,{resultFunc:u,memoizedResultFunc:p,dependencies:f,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),m};return i}var _e=Ae(be);function Ce(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var Ie=Ce();Ie.withExtraArgument=Ce;const Ee=Ie;var Se,xe=(Se=function(e,t){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Se(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ke=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Te=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ne=Object.defineProperty,De=Object.defineProperties,Oe=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Me=function(e,t,n){return t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Fe=function(e,t){for(var n in t||(t={}))Re.call(t,n)&&Me(e,n,t[n]);if(Pe)for(var r=0,i=Pe(t);r<i.length;r++)n=i[r],Le.call(t,n)&&Me(e,n,t[n]);return e},je=function(e,t){return De(e,Oe(t))},Be=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(e){i(e)}},s=function(e){try{a(n.throw(e))}catch(e){i(e)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},Ue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_e.apply(void 0,e),r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,Te([i(e)?L(e):e],t))};return r},Ve="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?me:me.apply(null,arguments)};function ze(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var qe=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return xe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Te([void 0],e[0].concat(this)))):new(t.bind.apply(t,Te([void 0],e.concat(this))))},t}(Array);function $e(e){return o(e)?te(e,(function(){})):e}function Ge(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function Ke(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function He(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||ze(e)}function We(e,t,n,r,i){var o;if(void 0===t&&(t=""),void 0===n&&(n=He),void 0===i&&(i=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;for(var s=null!=r?r(e):Object.entries(e),a=i.length>0,u=0,c=s;u<c.length;u++){var l=c[u],d=l[0],h=l[1],f=t?t+"."+d:d;if(!(a&&i.indexOf(f)>=0)){if(!n(h))return{keyPath:f,value:h};if("object"==typeof h&&(o=We(h,f,n,r,i)))return o}}return!1}function Qe(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function Ye(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new qe);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(Ee):r.push(Ee.withExtraArgument(n.extraArgument))),r}function Je(e){var t,n=function(e){return Ye(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,u=r.devTools,c=void 0===u||u,l=r.preloadedState,d=void 0===l?void 0:l,h=r.enhancers,f=void 0===h?void 0:h;if("function"==typeof o)t=o;else{if(!ze(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=he(o)}var p=a;"function"==typeof p&&(p=p(n));var m=ge.apply(void 0,p),g=me;c&&(g=Ve(Fe({trace:!1},"object"==typeof c&&c)));var y=[m];return Array.isArray(f)?y=Te([m],f):"function"==typeof f&&(y=f(y)),le(t,d,g.apply(void 0,y))}function Xe(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Fe(Fe({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ze(e){return["type","payload","error","meta"].indexOf(e)>-1}function et(e){return""+e}function tt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function nt(e,t,n,r){void 0===n&&(n=[]);var s,a="function"==typeof t?tt(t):[t,n,r],u=a[0],c=a[1],l=a[2];if(function(e){return"function"==typeof e}(e))s=function(){return $e(e())};else{var d=$e(e);s=function(){return d}}function h(e,t){void 0===e&&(e=s());var n=Te([u[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(i(e))return void 0===(r=n(e,t))?e:r;if(o(e))return te(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return h.getInitialState=s,h}function rt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:$e(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},u={};function c(){var t="function"==typeof e.extraReducers?tt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,l=Fe(Fe({},i),a);return nt(r,l,s,c)}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,u[e]=r?Xe(c,r):Xe(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}function it(e){return function(t,n){var r=function(t){var r;ze(r=n)&&"string"==typeof r.type&&Object.keys(r).every(Ze)?e(n.payload,t):e(n,t)};return i(t)?(r(t),t):te(t,r)}}function ot(e,t){return t(e)}function st(e){return Array.isArray(e)||(e=Object.values(e)),e}function at(e,t,n){for(var r=[],i=[],o=0,s=e=st(e);o<s.length;o++){var a=s[o],u=ot(a,t);u in n.entities?i.push({id:u,changes:a}):r.push(a)}return[r,i]}function ut(e){function t(t,n){var r=ot(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,i=e=st(e);r<i.length;r++)t(i[r],n)}function r(t,n){var r=ot(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function i(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function o(t,n){var r={},i={};if(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:Fe(Fe({},i[e.id]?i[e.id].changes:null),e.changes)})})),(t=Object.values(i)).length>0){var o=t.filter((function(t){return function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),s=ot(o,e),a=s!==n.id;return a&&(t[n.id]=s,delete r.entities[n.id]),r.entities[s]=o,a}(r,t,n)})).length>0;o&&(n.ids=Object.keys(n.entities))}}function s(t,r){var i=at(t,e,r),s=i[0];o(i[1],r),n(s,r)}return{removeAll:(a=function(e){Object.assign(e,{ids:[],entities:{}})},u=it((function(e,t){return a(t)})),function(e){return u(e,void 0)}),addOne:it(t),addMany:it(n),setOne:it(r),setMany:it((function(e,t){for(var n=0,i=e=st(e);n<i.length;n++)r(i[n],t)})),setAll:it((function(e,t){e=st(e),t.ids=[],t.entities={},n(e,t)})),updateOne:it((function(e,t){return o([e],t)})),updateMany:it(o),upsertOne:it((function(e,t){return s([e],t)})),upsertMany:it(s),removeOne:it((function(e,t){return i([e],t)})),removeMany:it(i)};var a,u}function ct(e){void 0===e&&(e={});var t=Fe({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},o={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=Ue(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},s=Ue(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:s,selectById:Ue(n,i,o)};var a=Ue(e,n);return{selectIds:Ue(e,t),selectEntities:a,selectAll:Ue(e,r),selectTotal:Ue(e,s),selectById:Ue(a,i,o)}}},s=r?function(e,t){var n=ut(e);function r(t,n){var r=(t=st(t)).filter((function(t){return!(ot(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(e,t){0!==(e=st(e)).length&&a(e,t)}function o(t,n){for(var r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.entities[s.id];if(a){r=!0,Object.assign(a,s.changes);var c=e(a);s.id!==c&&(delete n.entities[s.id],n.entities[c]=a)}}r&&u(n)}function s(t,n){var i=at(t,e,n),s=i[0];o(i[1],n),r(s,n)}function a(t,n){t.forEach((function(t){n.entities[e(t)]=t})),u(n)}function u(n){var r=Object.values(n.entities);r.sort(t);var i=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,i)||(n.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:it((function(e,t){return r([e],t)})),updateOne:it((function(e,t){return o([e],t)})),upsertOne:it((function(e,t){return s([e],t)})),setOne:it((function(e,t){return i([e],t)})),setMany:it(i),setAll:it((function(e,t){e=st(e),t.entities={},t.ids=[],r(e,t)})),addMany:it(r),updateMany:it(o),upsertMany:it(s)}}(n,r):ut(n);return Fe(Fe(Fe({selectId:n,sortComparer:r},i),o),s)}var lt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},dt=["name","message","stack","code"],ht=function(e,t){this.payload=e,this.meta=t},ft=function(e,t){this.payload=e,this.meta=t},pt=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=dt;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function mt(e,t,n){var r=Xe(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:je(Fe({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Xe(e+"/pending",(function(e,t,n){return{payload:void 0,meta:je(Fe({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Xe(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||pt)(e||"Rejected"),meta:je(Fe({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(a,u,c){var l,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):lt(),h=new s,f=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1,m=function(){return Be(this,null,(function(){var s,l,m,g,y;return ke(this,(function(v){switch(v.label){case 0:return v.trys.push([0,4,,5]),null===(b=g=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:u,extra:c}))||"object"!=typeof b||"function"!=typeof b.then?[3,2]:[4,g];case 1:g=v.sent(),v.label=2;case 2:if(!1===g)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,a(i(d,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:d,arg:e},{getState:u,extra:c}))),[4,Promise.race([f,Promise.resolve(t(e,{dispatch:a,getState:u,extra:c,requestId:d,signal:h.signal,rejectWithValue:function(e,t){return new ht(e,t)},fulfillWithValue:function(e,t){return new ft(e,t)}})).then((function(t){if(t instanceof ht)throw t;return t instanceof ft?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return m=v.sent(),[3,5];case 4:return y=v.sent(),m=y instanceof ht?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||a(m),[2,m]}var b}))}))}();return Object.assign(m,{abort:function(e){p&&(l=e,h.abort())},requestId:d,arg:e,unwrap:function(){return m.then(gt)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function gt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var yt=function(e,t){return function(e){return e&&"function"==typeof e.match}(e)?e.match(t):e(t)};function vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return yt(e,t)}))}}function bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return yt(e,t)}))}}function wt(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function At(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function _t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wt(e,["pending"])}:At(e)?function(t){var n=e.map((function(e){return e.pending}));return vt.apply(void 0,n)(t)}:_t()(e[0])}function Ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wt(e,["rejected"])}:At(e)?function(t){var n=e.map((function(e){return e.rejected}));return vt.apply(void 0,n)(t)}:Ct()(e[0])}function It(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||At(e)?function(t){return bt(Ct.apply(void 0,e),n)(t)}:It()(e[0])}function Et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wt(e,["fulfilled"])}:At(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return vt.apply(void 0,n)(t)}:Et()(e[0])}function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wt(e,["pending","fulfilled","rejected"])}:At(e)?function(t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];n.push(o.pending,o.rejected,o.fulfilled)}return vt.apply(void 0,n)(t)}:St()(e[0])}var xt=function(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function")},kt=function(){},Tt=function(e,t){return void 0===t&&(t=kt),e.catch(t),e},Nt=function(e,t){e.addEventListener("abort",t,{once:!0})},Dt=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ot="listener-cancelled",Pt=function(e){this.code=e,this.name="TaskAbortError",this.message="task cancelled (reason: "+e+")"},Rt=function(e){if(e.aborted)throw new Pt(e.reason)},Lt=function(e){return Tt(new Promise((function(t,n){var r=function(){return n(new Pt(e.reason))};e.aborted?r():Nt(e,r)})))},Mt=function(e){return function(t){return Tt(Promise.race([Lt(e),t]).then((function(t){return Rt(e),t})))}},Ft=function(e){var t=Mt(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}},jt=Object.assign,Bt={},Ut="listenerMiddleware",Vt=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=Xe(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return xt(o,"options.listener"),{predicate:i,type:t,effect:o}},zt=function(e,t,n){try{e(t,n)}catch(e){setTimeout((function(){throw e}),0)}},qt=Xe(Ut+"/add"),$t=Xe(Ut+"/removeAll"),Gt=Xe(Ut+"/remove"),Kt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Te([Ut+"/error"],e))},Ht=function(e){e.pending.forEach((function(e){Dt(e,Ot)}))};function Wt(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,i=e.onError,o=void 0===i?Kt:i;xt(o,"onError");var s=function(e){for(var t=0,r=Array.from(n.values());t<r.length;t++){var i=r[t];if(e(i))return i}},a=function(e){var t=s((function(t){return t.effect===e.effect}));return t||(t=function(e){var t=Vt(e),n=t.type,r=t.predicate,i=t.effect;return{id:lt(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}}(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&Ht(e)}}(t)},u=function(e){var t=Vt(e),n=t.type,r=t.effect,i=t.predicate,o=s((function(e){return("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r}));return o&&(o.unsubscribe(),e.cancelActive&&Ht(o)),!!o},c=function(e,i,s,u){return Be(t,null,(function(){var t,c,l;return ke(this,(function(d){switch(d.label){case 0:t=new AbortController,c=function(e,t){return function(n,r){return Tt(function(n,r){return Be(void 0,null,(function(){var i,o,s,a;return ke(this,(function(u){switch(u.label){case 0:Rt(t),i=function(){},o=new Promise((function(t){i=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}})})),s=[Lt(t),o],null!=r&&s.push(new Promise((function(e){return setTimeout(e,r,null)}))),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Promise.race(s)];case 2:return a=u.sent(),Rt(t),[2,a];case 3:return i(),[7];case 4:return[2]}}))}))}(n,r))}}(a,t.signal),d.label=1;case 1:return d.trys.push([1,3,4,5]),e.pending.add(t),[4,Promise.resolve(e.effect(i,jt({},s,{getOriginalState:u,condition:function(e,t){return c(e,t).then(Boolean)},take:c,delay:Ft(t.signal),pause:Mt(t.signal),extra:r,signal:t.signal,fork:(h=t.signal,function(e){xt(e,"taskExecutor");var t,n=new AbortController;t=n,Nt(h,(function(){return Dt(t,h.reason)}));var r,i,o=(r=function(){return Be(void 0,null,(function(){var t;return ke(this,(function(r){switch(r.label){case 0:return Rt(h),Rt(n.signal),[4,e({pause:Mt(n.signal),delay:Ft(n.signal),signal:n.signal})];case 1:return t=r.sent(),Rt(n.signal),[2,t]}}))}))},i=function(){return Dt(n,"task-completed")},Be(void 0,null,(function(){var e;return ke(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,r()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof Pt?"cancelled":"rejected",error:e}];case 4:return null==i||i(),[7];case 5:return[2]}}))})));return{result:Mt(h)(o),cancel:function(){Dt(n,"task-cancelled")}}}),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,n,r){e!==t&&(Dt(e,Ot),r.delete(e))}))}})))];case 2:return d.sent(),[3,5];case 3:return(l=d.sent())instanceof Pt||zt(o,l,{raisedBy:"effect"}),[3,5];case 4:return Dt(t,"listener-completed"),e.pending.delete(t),[7];case 5:return[2]}var h}))}))},l=function(e){return function(){e.forEach(Ht),e.clear()}}(n);return{middleware:function(e){return function(t){return function(r){if(qt.match(r))return a(r.payload);if(!$t.match(r)){if(Gt.match(r))return u(r.payload);var i,s=e.getState(),d=function(){if(s===Bt)throw new Error(Ut+": getOriginalState can only be called synchronously");return s};try{if(i=t(r),n.size>0)for(var h=e.getState(),f=Array.from(n.values()),p=0,m=f;p<m.length;p++){var g=m[p],y=!1;try{y=g.predicate(r,h,s)}catch(e){y=!1,zt(o,e,{raisedBy:"predicate"})}y&&c(g,r,e,d)}}finally{s=Bt}return i}l()}}},startListening:a,stopListening:u,clearListeners:l}}!function(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[G];return Y.get(t,e)},set:function(t){var n=this[G];Y.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][G];if(!i.P)switch(i.i){case 5:r(i)&&O(i);break;case 4:n(i)&&O(i)}}}function n(e){for(var t=e.t,n=e.k,r=H(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==G){var s=t[o];if(void 0===s&&!c(t,o))return!0;var a=n[o],u=a&&a[G];if(u?u.t!==s:!d(a,s))return!0}}var l=!!t[G];return r.length!==H(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};!function(e,t){Q[e]||(Q[e]=t)}("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=W(n);delete o[G];for(var s=H(o),a=0;a<s.length;a++){var u=s[a];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:w(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,G,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[G].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[G];if(n){var i=n.t,o=n.k,s=n.D,u=n.i;if(4===u)a(o,(function(t){t!==G&&(void 0!==i[t]||c(i,t)?s[t]||e(o[t]):(s[t]=!0,O(n)))})),a(i,(function(e){void 0!==o[e]||c(o,e)||(s[e]=!1,O(n))}));else if(5===u){if(r(n)&&(O(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var d=i.length;d<o.length;d++)s[d]=!0;for(var h=Math.min(o.length,i.length),f=0;f<h;f++)o.hasOwnProperty(f)||(s[f]=!0),void 0===s[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}()},9164:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".footer{display:flex;gap:150px;flex-wrap:wrap;justify-content:flex-start;width:70%}.auth{margin-top:0 px;margin-left:200px;background-color:aqua}@media screen and (min-width: 576px)and (max-width: 768px){.footer{gap:160px;flex-wrap:wrap;justify-content:left}}@media screen and (max-width: 576px){.footer{gap:160px;flex-wrap:wrap;justify-content:left}}@media screen and (min-width: 768px)and (max-width: 992px){.footer{gap:180px}}.header{font-size:xx-large;font-weight:bold;padding-left:15px}.signOut{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#eee;border:1px solid #bdbdbd;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:background-color .15s ease-in-out}.signOut:hover{background-color:#bdbdbd}.app__container{display:flex;justify-content:left;align-items:center;flex-direction:column;background-color:#cff7e5;margin-top:10%}.date__container{background-color:var(--background-color-calendar);font-size:25px;color:var(--color-text);border-radius:25px;padding:5px 25px;margin-bottom:15px}","",{version:3,sources:["webpack://./src/Pages/About/index.scss"],names:[],mappings:"AAMA,QACE,YAAA,CACA,SAAA,CACA,cAAA,CACA,0BAAA,CACA,SAAA,CAGF,MACI,eAAA,CACA,iBAAA,CACA,qBAAA,CAEJ,2DACE,QAnBA,SAAA,CACA,cAAA,CACA,oBAAA,CAAA,CAsBF,qCACE,QAzBA,SAAA,CACA,cAAA,CACA,oBAAA,CAAA,CA4BF,2DACE,QACE,SAAA,CAAA,CAIJ,QACE,kBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,SACE,oBAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CACA,qBAAA,CACA,cAAA,CACA,wBAAA,CACA,qBAAA,CACA,gBAAA,CACA,qBAAA,CACA,wBAAA,CACA,sBAAA,CACA,cAAA,CACA,oBAAA,CACA,4CAAA,CAEF,eACE,wBAAA,CAGF,gBACE,YAAA,CACA,oBAAA,CACA,kBAAA,CACA,qBAAA,CACA,wBAAA,CACA,cAAA,CAGF,iBACE,iDAAA,CACA,cAAA,CACA,uBAAA,CACA,kBAAA,CACA,gBAAA,CACA,kBAAA",sourcesContent:["@mixin flex-box-parameters {\n  gap: 160px;\n  flex-wrap: wrap;\n  justify-content: left;\n}\n\n.footer {\n  display: flex;\n  gap: 150px;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  width: 70%;\n}\n\n.auth {\n    margin-top: 0 px;\n    margin-left: 200px;\n    background-color: aqua;\n}\n@media screen and (min-width:  576px) and (max-width: 768px) {\n  .footer {\n    @include flex-box-parameters;\n  }\n}\n\n@media screen and (max-width: 576px) {\n  .footer {\n    @include flex-box-parameters;\n  }\n}\n\n@media screen and (min-width: 768px) and (max-width: 992px) {\n  .footer {\n    gap: 180px;\n  }\n}\n\n.header {\n  font-size: xx-large;\n  font-weight: bold;\n  padding-left: 15px;\n}\n\n.signOut {\n  display: inline-block;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  background-color: #eee;\n  border: 1px solid #bdbdbd;\n  padding: .375rem .75rem;\n  font-size: 1rem;\n  border-radius: .25rem;\n  transition: background-color .15s ease-in-out;\n}\n.signOut:hover {\n  background-color: #bdbdbd;\n}\n\n.app__container {\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  flex-direction: column;\n  background-color: #cff7e5;\n  margin-top: 10%;\n}\n\n.date__container {\n  background-color: var(--background-color-calendar);\n  font-size: 25px;\n  color: var(--color-text);\n  border-radius: 25px;\n  padding: 5px 25px;\n  margin-bottom: 15px;\n}\n\n"],sourceRoot:""}]),s.locals={};const a=s},5807:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".feedback-form{padding-left:15px}.feedback-form__label{color:#4caf50;font-size:x-large}.feedback-form__input{width:20rem;height:2rem;color:#111;background-color:#fff;border-color:#bdbdbd;outline:0;box-shadow:0 0 0 .2rem #bdbdbd}","",{version:3,sources:["webpack://./src/Pages/Feedback/index.scss"],names:[],mappings:"AAAA,eACI,iBAAA,CAGJ,sBACI,aAAA,CACA,iBAAA,CAGJ,sBACI,WAAA,CACA,WAAA,CACA,UAAA,CACA,qBAAA,CACA,oBAAA,CACA,SAAA,CACA,8BAAA",sourcesContent:[".feedback-form {\n    padding-left: 15px;\n}\n\n.feedback-form__label {\n    color: #4caf50;\n    font-size: x-large;\n}\n\n.feedback-form__input {\n    width: 20rem;\n    height: 2rem;\n    color: #111;\n    background-color: #fff;\n    border-color: #bdbdbd;\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem #bdbdbd;\n}"],sourceRoot:""}]),s.locals={};const a=s},7500:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".registration{background-color:#4caf50;color:#111;font-size:xx-large;text-align:left;width:200px;padding-left:15px;border-radius:15px}","",{version:3,sources:["webpack://./src/Pages/LoginPage/index.scss"],names:[],mappings:"AAMA,cACE,wBANM,CAON,UARM,CASN,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBAAA,CACA,kBAAA",sourcesContent:["$black: #111;\n$green: #4caf50;\n$small: 576px;\n$medium: 768px;\n$large: 992px;\n\n.registration {\n  background-color: $green;\n  color: $black;\n  font-size: xx-large;\n  text-align: left;\n  width: 200px;\n  padding-left: 15px;\n  border-radius: 15px;\n}\n"],sourceRoot:""}]),s.locals={};const a=s},4816:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".accountExist{background-color:#4caf50;color:#111;font-size:x-large;text-align:left;width:30%;padding-left:15px;border-radius:15px}","",{version:3,sources:["webpack://./src/Pages/Register/index.scss"],names:[],mappings:"AAMA,cACE,wBANM,CAON,UARM,CASN,iBAAA,CACA,eAAA,CACA,SAAA,CACA,iBAAA,CACA,kBAAA",sourcesContent:["$black: #111;\n$green: #4caf50;\n$small: 576px;\n$medium: 768px;\n$large: 992px;\n\n.accountExist {\n  background-color: $green;\n  color: $black;\n  font-size: x-large;\n  text-align: left;\n  width: 30%;\n  padding-left: 15px;\n  border-radius: 15px;\n}\n\n"],sourceRoot:""}]),s.locals={};const a=s},3820:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".sendMessage-form{padding-left:15px}.sendMessage-form__label{color:#4caf50;font-size:x-large}.sendMessage-form__input{width:20rem;height:2rem;color:#111;background-color:#fff;border-color:#bdbdbd;outline:0;box-shadow:0 0 0 .2rem #bdbdbd}","",{version:3,sources:["webpack://./src/Pages/SendMessageToParents/index.scss"],names:[],mappings:"AAKA,kBACI,iBAAA,CAGJ,yBACI,aAPI,CAQJ,iBAAA,CAGJ,yBACI,WAAA,CACA,WAAA,CACA,UAfI,CAgBJ,qBAjBI,CAkBJ,oBAnBG,CAoBH,SAAA,CACA,8BAAA",sourcesContent:["$grey: #bdbdbd;\n$white: #fff;\n$black: #111;\n$green: #4caf50;\n\n.sendMessage-form {\n    padding-left: 15px;\n}\n\n.sendMessage-form__label {\n    color: $green;\n    font-size: x-large;\n}\n\n.sendMessage-form__input {\n    width: 20rem;\n    height: 2rem;\n    color: $black;\n    background-color: $white;\n    border-color: $grey;\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem $grey;\n}"],sourceRoot:""}]),s.locals={};const a=s},4014:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".studentInfo__back{padding-top:100px;padding-left:15px}.studentInfo__logo{width:90%;height:20%}","",{version:3,sources:["webpack://./src/Pages/StudentInfo/index.scss"],names:[],mappings:"AAAA,mBACI,iBAAA,CACA,iBAAA,CAGJ,mBACI,SAAA,CACA,UAAA",sourcesContent:[".studentInfo__back {\n    padding-top: 100px;\n    padding-left: 15px;\n}\n\n.studentInfo__logo {\n    width: 90%;\n    height: 20%;\n}"],sourceRoot:""}]),s.locals={};const a=s},6702:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".studentsList{padding-left:15px;display:grid;grid-template-columns:repeat(4, 1fr);gap:10px;width:100%}@media screen and (max-width: 576px){.studentsList{grid-template-columns:repeat(2, 1fr);width:50%}}@media screen and (min-width: 576px)and (max-width: 768px){.studentsList{grid-template-columns:repeat(2, 1fr);width:50%}}@media screen and (min-width: 768px)and (max-width: 992px){.studentsList{grid-template-columns:repeat(3, 1fr);width:50%}}.studentsList__div{justify-self:center;align-self:center}.studentsList__div-p{font-size:medium}","",{version:3,sources:["webpack://./src/Pages/StudentsList/index.scss"],names:[],mappings:"AAKA,cACE,iBAAA,CACA,YAAA,CACA,oCAAA,CACA,QAAA,CACA,UAAA,CAGF,qCACE,cACE,oCAAA,CACA,SAbc,CAAA,CAiBlB,2DACE,cACE,oCAAA,CACA,SApBc,CAAA,CAwBlB,2DACE,cACE,oCAAA,CACA,SA3Bc,CAAA,CA+BlB,mBACI,mBAAA,CACA,iBAAA,CAGF,qBACE,gBAAA",sourcesContent:["$small: 576px;\n$medium: 768px;\n$large: 992px;\n$width_flex_item: 50%;\n\n.studentsList {\n  padding-left: 15px;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 10px;\n  width: 100%;\n}\n\n@media screen and (max-width: $small) {\n  .studentsList {\n    grid-template-columns: repeat(2, 1fr);\n    width: $width_flex_item;\n  }\n}\n\n@media screen and (min-width: $small) and (max-width: $medium) {\n  .studentsList {\n    grid-template-columns: repeat(2, 1fr);\n    width: $width_flex_item;\n  }\n}\n\n@media screen and (min-width: $medium) and (max-width: $large) {\n  .studentsList {\n    grid-template-columns: repeat(3, 1fr);\n    width: $width_flex_item;\n  }\n}\n\n.studentsList__div {\n    justify-self: center;\n    align-self: center;\n  }\n\n  .studentsList__div-p {\n    font-size: medium;\n  }\n  "],sourceRoot:""}]),s.locals={};const a=s},2106:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".studentsListControl{padding-left:15px;display:grid;grid-template-columns:repeat(4, 1fr);gap:10px;width:100%}@media screen and (max-width: 576px){.studentsListControl{grid-template-columns:repeat(2, 1fr);width:50%}}@media screen and (min-width: 576px)and (max-width: 768px){.studentsListControl{grid-template-columns:repeat(2, 1fr);width:50%}}@media screen and (min-width: 768px)and (max-width: 992px){.studentsListControl{grid-template-columns:repeat(3, 1fr);width:50%}}.studentsListControl__div{justify-self:center;align-self:center}.studentsListControl__div-p{font-size:medium}","",{version:3,sources:["webpack://./src/Pages/StudentsListControl/index.scss"],names:[],mappings:"AAKA,qBACE,iBAAA,CACA,YAAA,CACA,oCAAA,CACA,QAAA,CACA,UAAA,CAGF,qCACE,qBACE,oCAAA,CACA,SAbc,CAAA,CAiBlB,2DACE,qBACE,oCAAA,CACA,SApBc,CAAA,CAwBlB,2DACE,qBACE,oCAAA,CACA,SA3Bc,CAAA,CA+BlB,0BACI,mBAAA,CACA,iBAAA,CAGF,4BACE,gBAAA",sourcesContent:["$small: 576px;\n$medium: 768px;\n$large: 992px;\n$width_flex_item: 50%;\n\n.studentsListControl {\n  padding-left: 15px;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 10px;\n  width: 100%;\n}\n\n@media screen and (max-width: $small) {\n  .studentsListControl {\n    grid-template-columns: repeat(2, 1fr);\n    width: $width_flex_item;\n  }\n}\n\n@media screen and (min-width: $small) and (max-width: $medium) {\n  .studentsListControl {\n    grid-template-columns: repeat(2, 1fr);\n    width: $width_flex_item;\n  }\n}\n\n@media screen and (min-width: $medium) and (max-width: $large) {\n  .studentsListControl {\n    grid-template-columns: repeat(3, 1fr);\n    width: $width_flex_item;\n  }\n}\n\n.studentsListControl__div {\n    justify-self: center;\n    align-self: center;\n  }\n\n  .studentsListControl__div-p {\n    font-size: medium;\n  }\n  "],sourceRoot:""}]),s.locals={};const a=s},7865:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".addStudentFormInput{display:block;width:30%;height:calc(2.25rem + 2px);padding:.375rem .75rem;font-family:inherit;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #bdbdbd;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.addStudentButton{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#eee;border:1px solid #bdbdbd;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:background-color .15s ease-in-out}.addStudentButton:hover{background-color:#bdbdbd}.headerAddStudent{background-color:#bdbdbd;width:30%}","",{version:3,sources:["webpack://./src/components/AddStudentForm/index.scss"],names:[],mappings:"AAAA,qBACI,aAAA,CACA,SAAA,CACA,0BAAA,CACA,sBAAA,CACA,mBAAA,CACA,cAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,qBAAA,CACA,2BAAA,CACA,wBAAA,CACA,oBAAA,CACA,oEAAA,CAGJ,kBACI,oBAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CACA,qBAAA,CACA,cAAA,CACA,wBAAA,CACA,qBAAA,CACA,gBAAA,CACA,qBAAA,CACA,wBAAA,CACA,sBAAA,CACA,cAAA,CACA,oBAAA,CACA,4CAAA,CAEF,wBACE,wBAAA,CAEF,kBACE,wBAAA,CACA,SAAA",sourcesContent:[".addStudentFormInput {\n    display: block;\n    width: 30%;\n    height: calc(2.25rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-family: inherit;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid #bdbdbd;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n.addStudentButton {\n    display: inline-block;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    background-color: #eee;\n    border: 1px solid #bdbdbd;\n    padding: .375rem .75rem;\n    font-size: 1rem;\n    border-radius: .25rem;\n    transition: background-color .15s ease-in-out;\n  }\n  .addStudentButton:hover {\n    background-color: #bdbdbd;\n  }\n  .headerAddStudent{\n    background-color: #bdbdbd;\n    width: 30%;\n  }"],sourceRoot:""}]),s.locals={};const a=s},822:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".article__header-about{background-color:#bc8f8f;color:#111;font-size:xx-large;text-align:left;width:60%;padding-left:15px;border-radius:15px}@media screen and (max-width: 576px){.article__header-about{margin-bottom:16px;font-size:32px}}@media screen and (min-width: 576px)and (max-width: 768px){.article__header-about{margin-bottom:16px;font-size:32px}}.article__header{background-color:#4caf50}","",{version:3,sources:["webpack://./src/components/Article/index.scss"],names:[],mappings:"AAWA,uBACE,wBAAA,CACA,UAbM,CAcN,kBAAA,CACA,eAAA,CACA,SAAA,CACA,iBAAA,CACA,kBAAA,CAGF,qCACE,uBAfA,kBAAA,CACA,cAAA,CAAA,CAmBF,2DACE,uBArBA,kBAAA,CACA,cAAA,CAAA,CAyBF,iBACE,wBAjCM",sourcesContent:["$black: #111;\n$green: #4caf50;\n$small: 576px;\n$medium: 768px;\n$large: 992px;\n\n@mixin about-parameters {\n  margin-bottom: 16px;\n  font-size: 32px;\n}\n\n.article__header-about {\n  background-color: rosybrown;\n  color: $black;\n  font-size: xx-large;\n  text-align: left;\n  width: 60%;\n  padding-left: 15px;\n  border-radius: 15px;\n}\n\n@media screen and (max-width: $small) {\n  .article__header-about {\n    @include about-parameters;\n  }\n}\n\n@media screen and (min-width: $small) and (max-width: $medium) {\n  .article__header-about {\n    @include about-parameters;\n  }\n}\n\n.article__header{\n  background-color: $green;\n}"],sourceRoot:""}]),s.locals={};const a=s},5724:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".calendar{width:400px;border-radius:5px;text-transform:capitalize;background-color:var(--background-color-calendar)}.calendar__header{position:relative;border-radius:5px 5px 0 0;background-color:var(--background-color-calendar-header);color:var(--color-text);padding:10px;display:flex;justify-content:space-between;align-items:center;box-shadow:0px 2px 10px -1px rgba(0,0,0,.2)}.calendar__header__arrow__left{width:5px;height:10px;cursor:pointer;background-image:var(--images-arrow)}.calendar__header__arrow__right{width:5px;height:10px;cursor:pointer;background-image:var(--images-arrow);transform:rotate(-180deg)}.calendar__body{border-radius:0 0 5px 5px;padding:5px}.calendar__week__names{height:50px;font-weight:900;font-size:20px;color:var(--color-additional);text-align:center;align-items:center;display:grid;grid-template-columns:repeat(7, 1fr);gap:1px 1px}.calendar__days{font-size:20px;font-weight:400;color:var(--color-text);text-align:center;display:grid;text-align:center;align-items:center;grid-template-columns:repeat(7, 1fr);grid-template-rows:1fr;gap:1px 1px}.calendar__day{border-radius:5px;padding:5.5px 0px;cursor:pointer}.calendar__day:hover{background-color:var(--color-additional7)}.calendar__additional__day{padding:5.5px;font-weight:300;cursor:pointer;color:var(--color-placeholder)}.calendar__pick__item{padding:9px 0px;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:5px}.calendar__pick__item:hover{background-color:var(--color-additional7)}.calendar__today__item{background-color:var(--background-color-calendar-header)}.calendar__selected__item{color:var(--color-text);background-color:var(--color-additional)}.calendar__selected__item:hover{background-color:var(--color-additional)}.calendar__pick__items__container{font-weight:400;color:var(--color-text);text-align:center;display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:repeat(4, 1fr);gap:1px 1px;font-size:20px}.calendar__unchoosable__year{font-weight:300;padding:9px 16px;color:var(--color-placeholder)}","",{version:3,sources:["webpack://./src/components/Calendar/index.scss"],names:[],mappings:"AAAA,UACI,WAAA,CACA,iBAAA,CACA,yBAAA,CACA,iDAAA,CAGF,kBACE,iBAAA,CACA,yBAAA,CACA,wDAAA,CACA,uBAAA,CACA,YAAA,CACA,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,2CAAA,CAGF,+BACE,SAAA,CACA,WAAA,CACA,cAAA,CACA,oCAAA,CAGF,gCACE,SAAA,CACA,WAAA,CACA,cAAA,CACA,oCAAA,CACA,yBAAA,CAGF,gBACE,yBAAA,CACA,WAAA,CAGF,uBACE,WAAA,CACA,eAAA,CACA,cAAA,CACA,6BAAA,CACA,iBAAA,CACA,kBAAA,CACA,YAAA,CACA,oCAAA,CACA,WAAA,CAGF,gBACE,cAAA,CACA,eAAA,CACA,uBAAA,CACA,iBAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,oCAAA,CACA,sBAAA,CACA,WAAA,CAGF,eACE,iBAAA,CACA,iBAAA,CACA,cAAA,CAGF,qBACE,yCAAA,CAGF,2BACE,aAAA,CACA,eAAA,CACA,cAAA,CACA,8BAAA,CAGF,sBACE,eAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,cAAA,CACA,iBAAA,CAGF,4BACE,yCAAA,CAGF,uBACE,wDAAA,CAGF,0BACE,uBAAA,CACA,wCAAA,CAEF,gCACE,wCAAA,CAGF,kCACE,eAAA,CACA,uBAAA,CACA,iBAAA,CACA,YAAA,CACA,oCAAA,CACA,iCAAA,CACA,WAAA,CACA,cAAA,CAGF,6BACE,eAAA,CACA,gBAAA,CACA,8BAAA",sourcesContent:[".calendar {\n    width: 400px;\n    border-radius: 5px;\n    text-transform: capitalize;\n    background-color: var(--background-color-calendar);\n  }\n  \n  .calendar__header {\n    position: relative;\n    border-radius: 5px 5px 0 0;\n    background-color: var(--background-color-calendar-header);\n    color: var(--color-text);\n    padding: 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    box-shadow: 0px 2px 10px -1px rgba(0, 0, 0, 0.2);\n  }\n  \n  .calendar__header__arrow__left {\n    width: 5px;\n    height: 10px;\n    cursor: pointer;\n    background-image: var(--images-arrow);\n  }\n  \n  .calendar__header__arrow__right {\n    width: 5px;\n    height: 10px;\n    cursor: pointer;\n    background-image: var(--images-arrow);\n    transform: rotate(-180deg);\n  }\n  \n  .calendar__body {\n    border-radius: 0 0 5px 5px;\n    padding: 5px;\n  }\n  \n  .calendar__week__names {\n    height: 50px;\n    font-weight: 900;\n    font-size: 20px;\n    color: var(--color-additional);\n    text-align: center;\n    align-items: center;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    gap: 1px 1px;\n  }\n  \n  .calendar__days {\n    font-size: 20px;\n    font-weight: 400;\n    color: var(--color-text);\n    text-align: center;\n    display: grid;\n    text-align: center;\n    align-items: center;\n    grid-template-columns: repeat(7, 1fr);\n    grid-template-rows: 1fr;\n    gap: 1px 1px;\n  }\n  \n  .calendar__day {\n    border-radius: 5px;\n    padding: 5.5px 0px;\n    cursor: pointer;\n  }\n  \n  .calendar__day:hover {\n    background-color: var(--color-additional7);\n  }\n  \n  .calendar__additional__day {\n    padding: 5.5px;\n    font-weight: 300;\n    cursor: pointer;\n    color: var(--color-placeholder);\n  }\n  \n  .calendar__pick__item {\n    padding: 9px 0px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border-radius: 5px;\n  }\n  \n  .calendar__pick__item:hover {\n    background-color: var(--color-additional7);\n  }\n  \n  .calendar__today__item {\n    background-color: var(--background-color-calendar-header);\n  }\n  \n  .calendar__selected__item {\n    color: var(--color-text);\n    background-color: var(--color-additional);\n  }\n  .calendar__selected__item:hover {\n    background-color: var(--color-additional);\n  }\n  \n  .calendar__pick__items__container {\n    font-weight: 400;\n    color: var(--color-text);\n    text-align: center;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: repeat(4, 1fr);\n    gap: 1px 1px;\n    font-size: 20px;\n  }\n  \n  .calendar__unchoosable__year {\n    font-weight: 300;\n    padding: 9px 16px;\n    color: var(--color-placeholder);\n  }"],sourceRoot:""}]),s.locals={};const a=s},1681:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".footer__div{width:10%;height:10%;align-items:flex-start;background-color:#fff}","",{version:3,sources:["webpack://./src/components/Contacts/index.scss"],names:[],mappings:"AAEA,aACE,SAAA,CACA,UAAA,CACA,sBAAA,CACA,qBANM",sourcesContent:["$white: #fff;\n\n.footer__div {\n  width: 10%;\n  height: 10%;\n  align-items: flex-start;\n  background-color: $white;\n}\n"],sourceRoot:""}]),s.locals={};const a=s},7356:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".emailFormInput{display:block;width:30%;height:calc(2.25rem + 2px);padding:.375rem .75rem;font-family:inherit;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #bdbdbd;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.emailFormButton{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#eee;border:1px solid #bdbdbd;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:background-color .15s ease-in-out}.emailFormButton:hover{background-color:#bdbdbd}","",{version:3,sources:["webpack://./src/components/EmailForm/index.scss"],names:[],mappings:"AAAA,gBACI,aAAA,CACA,SAAA,CACA,0BAAA,CACA,sBAAA,CACA,mBAAA,CACA,cAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,qBAAA,CACA,2BAAA,CACA,wBAAA,CACA,oBAAA,CACA,oEAAA,CAGJ,iBACI,oBAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CACA,qBAAA,CACA,cAAA,CACA,wBAAA,CACA,qBAAA,CACA,gBAAA,CACA,qBAAA,CACA,wBAAA,CACA,sBAAA,CACA,cAAA,CACA,oBAAA,CACA,4CAAA,CAEF,uBACE,wBAAA",sourcesContent:[".emailFormInput {\n    display: block;\n    width: 30%;\n    height: calc(2.25rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-family: inherit;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid #bdbdbd;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n.emailFormButton {\n    display: inline-block;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    background-color: #eee;\n    border: 1px solid #bdbdbd;\n    padding: .375rem .75rem;\n    font-size: 1rem;\n    border-radius: .25rem;\n    transition: background-color .15s ease-in-out;\n  }\n  .emailFormButton:hover {\n    background-color: #bdbdbd;\n  }"],sourceRoot:""}]),s.locals={};const a=s},2652:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".emblem{width:200px;height:200px}@media screen and (max-width: 576px){.emblem{padding-left:20%;padding-top:3%}}","",{version:3,sources:["webpack://./src/components/Emblem/index.scss"],names:[],mappings:"AAEA,QACE,WAAA,CACA,YAAA,CAGF,qCACE,QACE,gBAAA,CACA,cAAA,CAAA",sourcesContent:["$small: 576px;\n\n.emblem {\n  width: 200px;\n  height: 200px;\n}\n\n@media screen and (max-width: $small) {\n  .emblem {\n    padding-left: 20%;\n    padding-top: 3%;\n  }\n}\n"],sourceRoot:""}]),s.locals={};const a=s},1022:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".loginFormInput{display:block;width:30%;height:calc(2.25rem + 2px);padding:.375rem .75rem;font-family:inherit;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #bdbdbd;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.loginFormButton{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#eee;border:1px solid #bdbdbd;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:background-color .15s ease-in-out}.loginFormButton:hover{background-color:#bdbdbd}","",{version:3,sources:["webpack://./src/components/Form/index.scss"],names:[],mappings:"AAAA,gBACI,aAAA,CACA,SAAA,CACA,0BAAA,CACA,sBAAA,CACA,mBAAA,CACA,cAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,qBAAA,CACA,2BAAA,CACA,wBAAA,CACA,oBAAA,CACA,oEAAA,CAIJ,iBACI,oBAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CACA,qBAAA,CACA,cAAA,CACA,wBAAA,CACA,qBAAA,CACA,gBAAA,CACA,qBAAA,CACA,wBAAA,CACA,sBAAA,CACA,cAAA,CACA,oBAAA,CACA,4CAAA,CAEF,uBACE,wBAAA",sourcesContent:[".loginFormInput {\n    display: block;\n    width: 30%;\n    height: calc(2.25rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-family: inherit;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid #bdbdbd;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n/*  */\n.loginFormButton {\n    display: inline-block;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    background-color: #eee;\n    border: 1px solid #bdbdbd;\n    padding: .375rem .75rem;\n    font-size: 1rem;\n    border-radius: .25rem;\n    transition: background-color .15s ease-in-out;\n  }\n  .loginFormButton:hover {\n    background-color: #bdbdbd;\n  }"],sourceRoot:""}]),s.locals={};const a=s},3890:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".header{font-size:xx-large;font-weight:bold;padding-left:15px}","",{version:3,sources:["webpack://./src/components/Header/index.scss"],names:[],mappings:"AAAA,QACI,kBAAA,CACA,gBAAA,CACA,iBAAA",sourcesContent:[".header {\n    font-size: xx-large;\n    font-weight: bold;\n    padding-left: 15px;\n  }"],sourceRoot:""}]),s.locals={};const a=s},2764:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".navigation__list{list-style-type:none;margin:0;padding:0;overflow:hidden;background-color:#bdbdbd;position:sticky;top:20;width:100%}.navigation__list-element{float:left}.navigation__list-element a{display:block;color:#fff;text-align:center;padding:14px 16px;text-decoration:none}.navigation__list-element a:hover:not(.navigation__list-element-active){background-color:#111}.navigation__list-element-active{background-color:#4caf50}","",{version:3,sources:["webpack://./src/components/List/index.scss"],names:[],mappings:"AAKA,kBACE,oBAAA,CACA,QAAA,CACA,SAAA,CACA,eAAA,CACA,wBAPK,CAQL,eAAA,CACA,MAAA,CACA,UAAA,CAGF,0BACE,UAAA,CAEA,4BACE,aAAA,CACA,UArBI,CAsBJ,iBAAA,CACA,iBAAA,CACA,oBAAA,CAGE,wEACE,qBA3BA,CAiCR,iCACE,wBAjCM",sourcesContent:["$white: #fff;\n$black: #111;\n$green: #4caf50;\n$grey: #bdbdbd;\n\n.navigation__list {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  background-color: $grey;\n  position: sticky;\n  top: 20;\n  width: 100%;\n}\n\n.navigation__list-element {\n  float: left;\n\n  a {\n    display: block;\n    color: $white;\n    text-align: center;\n    padding: 14px 16px;\n    text-decoration: none;\n\n    &:hover {\n      &:not(.navigation__list-element-active) {\n        background-color: $black;\n      }\n    }\n  }\n}\n\n.navigation__list-element-active {\n  background-color: $green;\n}\n"],sourceRoot:""}]),s.locals={};const a=s},5163:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".navigation__list{list-style-type:none;margin:0;padding:0;overflow:hidden;background-color:#4caf50;position:sticky;top:20;width:100%}.navigation__list-element{float:left}.navigation__list-element a{display:block;color:#fff;text-align:center;padding:14px 16px;text-decoration:none}.navigation__list-element a:hover:not(.navigation__list-element-active){background-color:#111}.navigation__list-element-active{background-color:#4caf50}","",{version:3,sources:["webpack://./src/components/List4Trainer/index.scss"],names:[],mappings:"AAKA,kBACE,oBAAA,CACA,QAAA,CACA,SAAA,CACA,eAAA,CACA,wBARM,CASN,eAAA,CACA,MAAA,CACA,UAAA,CAGF,0BACE,UAAA,CAEA,4BACE,aAAA,CACA,UArBI,CAsBJ,iBAAA,CACA,iBAAA,CACA,oBAAA,CAGE,wEACE,qBA3BA,CAiCR,iCACE,wBAjCM",sourcesContent:["$white: #fff;\n$black: #111;\n$green: #4caf50;\n$grey: #bdbdbd;\n\n.navigation__list {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  background-color: $green;\n  position: sticky;\n  top: 20;\n  width: 100%;\n}\n\n.navigation__list-element {\n  float: left;\n\n  a {\n    display: block;\n    color: $white;\n    text-align: center;\n    padding: 14px 16px;\n    text-decoration: none;\n\n    &:hover {\n      &:not(.navigation__list-element-active) {\n        background-color: $black;\n      }\n    }\n  }\n}\n\n.navigation__list-element-active {\n  background-color: $green;\n}\n"],sourceRoot:""}]),s.locals={};const a=s},9179:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,'.navigation{display:inline-block;height:180px;color:"pink";font-family:Georgia,"Times New Roman",Times,serif;font-size:x-large;font-weight:bolder;text-align:left;vertical-align:top}',"",{version:3,sources:["webpack://./src/components/Navigation/index.scss"],names:[],mappings:"AAEA,YACE,oBAAA,CACA,YAAA,CACA,YAAA,CACA,iDAAA,CACA,iBAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA",sourcesContent:["$black: #111;\n\n.navigation {\n  display: inline-block;\n  height: 180px;\n  color: 'pink';\n  font-family: Georgia, \"Times New Roman\", Times, serif;\n  font-size: x-large;\n  font-weight: bolder;\n  text-align: left;\n  vertical-align: top;\n}\n"],sourceRoot:""}]),s.locals={};const a=s},5788:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".sendFormInput{display:block;width:30%;height:calc(2.25rem + 2px);padding:.375rem .75rem;font-family:inherit;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #bdbdbd;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.sendFormButton{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#eee;border:1px solid #bdbdbd;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:background-color .15s ease-in-out}.sendFormButton:hover{background-color:#bdbdbd}","",{version:3,sources:["webpack://./src/components/SendForm/index.scss"],names:[],mappings:"AAAA,eACI,aAAA,CACA,SAAA,CACA,0BAAA,CACA,sBAAA,CACA,mBAAA,CACA,cAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,qBAAA,CACA,2BAAA,CACA,wBAAA,CACA,oBAAA,CACA,oEAAA,CAGJ,gBACI,oBAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CACA,qBAAA,CACA,cAAA,CACA,wBAAA,CACA,qBAAA,CACA,gBAAA,CACA,qBAAA,CACA,wBAAA,CACA,sBAAA,CACA,cAAA,CACA,oBAAA,CACA,4CAAA,CAEF,sBACE,wBAAA",sourcesContent:[".sendFormInput {\n    display: block;\n    width: 30%;\n    height: calc(2.25rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-family: inherit;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid #bdbdbd;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n.sendFormButton {\n    display: inline-block;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #212529;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    background-color: #eee;\n    border: 1px solid #bdbdbd;\n    padding: .375rem .75rem;\n    font-size: 1rem;\n    border-radius: .25rem;\n    transition: background-color .15s ease-in-out;\n  }\n  .sendFormButton:hover {\n    background-color: #bdbdbd;\n  }"],sourceRoot:""}]),s.locals={};const a=s},4387:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),s.locals={};const a=s},448:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".slider{max-width:90%;position:relative;margin-left:15px;height:500px}.slider .slider__item{animation-name:fade;animation-duration:1.5s}.slider .slider__item img{object-fit:cover;width:100%;height:500px}.slider .next{right:0;border-radius:3px 0 0 3px}.slider .previous,.slider .next{cursor:pointer;position:absolute;top:50%;width:auto;margin-top:-22px;padding:16px;color:#fff;font-weight:bold;font-size:16px;transition:.6s ease;border-radius:0 3px 3px 0}.slider .previous:hover,.slider .next:hover{background-color:rgba(0,0,0,.2)}","",{version:3,sources:["webpack://./src/components/Slider/index.scss"],names:[],mappings:"AAAA,QACI,aAAA,CACA,iBAAA,CACA,gBAAA,CACA,YAAA,CAEA,sBACE,mBAAA,CACA,uBAAA,CAEA,0BACE,gBAAA,CACA,UAAA,CACA,YAAA,CAIJ,cACE,OAAA,CACA,yBAAA,CAIJ,gCAEE,cAAA,CACA,iBAAA,CACA,OAAA,CACA,UAAA,CACA,gBAAA,CACA,YAAA,CACA,UAAA,CACA,gBAAA,CACA,cAAA,CACA,mBAAA,CACA,yBAAA,CAGF,4CAEE,+BAAA",sourcesContent:[".slider {\n    max-width: 90%;\n    position: relative;\n    margin-left: 15px;\n    height: 500px;\n  \n    .slider__item {\n      animation-name: fade;\n      animation-duration: 1.5s;\n  \n      img {\n        object-fit: cover;\n        width: 100%;\n        height: 500px;\n      }\n    }\n  \n    .next {\n      right: 0;\n      border-radius: 3px 0 0 3px;\n    }\n  }\n  \n  .slider .previous,\n  .slider .next {\n    cursor: pointer;\n    position: absolute;\n    top: 50%;\n    width: auto;\n    margin-top: -22px;\n    padding: 16px;\n    color: white;\n    font-weight: bold;\n    font-size: 16px;\n    transition: 0.6s ease;\n    border-radius: 0 3px 3px 0;\n  }\n  \n  .slider .previous:hover,\n  .slider .next:hover {\n    background-color: rgb(0 0 0 / 20%);\n  }\n  "],sourceRoot:""}]),s.locals={};const a=s},1551:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7537),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".app{background-color:#fff;overflow-x:hidden;margin:0 auto}","",{version:3,sources:["webpack://./src/index.scss"],names:[],mappings:"AAEA,KACE,qBAHM,CAIN,iBAAA,CACA,aAAA",sourcesContent:["$white: #fff;\n\n.app {\n  background-color: $white;\n  overflow-x: hidden;\n  margin: 0 auto;\n}\n"],sourceRoot:""}]),s.locals={};const a=s},3645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},7537:function(e){e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),s=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(s).concat([o]).join("\n")}return[t].join("\n")}},5365:function(e,t,n){n.r(t),n.d(t,{default:function(){return l},init:function(){return i},send:function(){return u},sendForm:function(){return c}});const r={_origin:"https://api.emailjs.com"},i=(e,t="https://api.emailjs.com")=>{r._userID=e,r._origin=t},o=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class s{constructor(e){this.status=e.status,this.text=e.responseText}}const a=(e,t,n={})=>new Promise(((i,o)=>{const a=new XMLHttpRequest;a.addEventListener("load",(({target:e})=>{const t=new s(e);200===t.status||"OK"===t.text?i(t):o(t)})),a.addEventListener("error",(({target:e})=>{o(new s(e))})),a.open("POST",r._origin+e,!0),Object.keys(n).forEach((e=>{a.setRequestHeader(e,n[e])})),a.send(t)})),u=(e,t,n,i)=>{const s=i||r._userID;o(s,e,t);const u={lib_version:"3.2.0",user_id:s,service_id:e,template_id:t,template_params:n};return a("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})},c=(e,t,n,i)=>{const s=i||r._userID,u=(e=>{let t;if(t="string"==typeof e?document.querySelector(e):e,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(n);o(s,e,t);const c=new FormData(u);return c.append("lib_version","3.2.0"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",s),a("/api/v1.0/email/send-form",c)},l={init:i,send:u,sendForm:c}},5503:function(e,t,n){n.r(t),n.d(t,{FirebaseError:function(){return r.ZR},SDK_VERSION:function(){return r.Jn},_DEFAULT_ENTRY_NAME:function(){return r.l4},_addComponent:function(){return r.H9},_addOrOverwriteComponent:function(){return r.Vr},_apps:function(){return r.Af},_clearComponents:function(){return r.Z8},_components:function(){return r.lz},_getProvider:function(){return r.qX},_registerComponent:function(){return r.Xd},_removeServiceInstance:function(){return r.wN},deleteApp:function(){return r.P2},getApp:function(){return r.Mq},getApps:function(){return r.C6},initializeApp:function(){return r.ZF},onLog:function(){return r.TP},registerVersion:function(){return r.KN},setLogLevel:function(){return r.Ub}});var r=n(389);(0,r.KN)("firebase","9.10.0","app")},5427:function(e,t,n){n.r(t),n.d(t,{ActionCodeOperation:function(){return h},ActionCodeURL:function(){return Le},AuthCredential:function(){return Se},AuthErrorCodes:function(){return g},EmailAuthCredential:function(){return Ne},EmailAuthProvider:function(){return Fe},FacebookAuthProvider:function(){return Ve},FactorId:function(){return u},GithubAuthProvider:function(){return qe},GoogleAuthProvider:function(){return ze},OAuthCredential:function(){return Oe},OAuthProvider:function(){return Ue},OperationType:function(){return d},PhoneAuthCredential:function(){return Re},PhoneAuthProvider:function(){return Mn},PhoneMultiFactorGenerator:function(){return Sr},ProviderId:function(){return c},RecaptchaVerifier:function(){return Tn},SAMLAuthProvider:function(){return Ge},SignInMethod:function(){return l},TwitterAuthProvider:function(){return Ke},applyActionCode:function(){return pt},beforeAuthStateChanged:function(){return jt},browserLocalPersistence:function(){return Zt},browserPopupRedirectResolver:function(){return Ir},browserSessionPersistence:function(){return tn},checkActionCode:function(){return mt},confirmPasswordReset:function(){return ft},connectAuthEmulator:function(){return Ce},createUserWithEmailAndPassword:function(){return yt},debugErrorMap:function(){return f},deleteUser:function(){return qt},fetchSignInMethodsForEmail:function(){return _t},getAdditionalUserInfo:function(){return Lt},getAuth:function(){return Dr},getIdToken:function(){return K},getIdTokenResult:function(){return H},getMultiFactorResolver:function(){return Kt},getRedirectResult:function(){return rr},inMemoryPersistence:function(){return oe},indexedDBLocalPersistence:function(){return yn},initializeAuth:function(){return T},isSignInWithEmailLink:function(){return wt},linkWithCredential:function(){return st},linkWithPhoneNumber:function(){return On},linkWithPopup:function(){return Kn},linkWithRedirect:function(){return nr},multiFactor:function(){return Qt},onAuthStateChanged:function(){return Bt},onIdTokenChanged:function(){return Ft},parseActionCodeURL:function(){return Me},prodErrorMap:function(){return p},reauthenticateWithCredential:function(){return at},reauthenticateWithPhoneNumber:function(){return Pn},reauthenticateWithPopup:function(){return Gn},reauthenticateWithRedirect:function(){return tr},reload:function(){return ee},sendEmailVerification:function(){return Ct},sendPasswordResetEmail:function(){return ht},sendSignInLinkToEmail:function(){return bt},setPersistence:function(){return Mt},signInAnonymously:function(){return Ye},signInWithCredential:function(){return ot},signInWithCustomToken:function(){return ut},signInWithEmailAndPassword:function(){return vt},signInWithEmailLink:function(){return At},signInWithPhoneNumber:function(){return Dn},signInWithPopup:function(){return $n},signInWithRedirect:function(){return er},signOut:function(){return zt},unlink:function(){return et},updateCurrentUser:function(){return Vt},updateEmail:function(){return St},updatePassword:function(){return xt},updatePhoneNumber:function(){return Ln},updateProfile:function(){return Et},useDeviceLanguage:function(){return Ut},verifyBeforeUpdateEmail:function(){return It},verifyPasswordResetCode:function(){return gt}});var r=n(4444),i=n(389);function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create,Object.create;var s=n(3333),a=n(8463);const u={PHONE:"phone"},c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},l={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},d={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},h={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const f=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},p=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},m=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),g={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},y=new s.Yd("@firebase/auth");function v(e,...t){y.logLevel<=s.in.ERROR&&y.error(`Auth (${i.Jn}): ${e}`,...t)}function b(e,...t){throw C(e,...t)}function w(e,...t){return C(e,...t)}function A(e,t,n){const i=Object.assign(Object.assign({},p()),{[t]:n});return new r.LL("auth","Firebase",i).create(t,{appName:e.name})}function _(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&b(e,"argument-error"),A(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function C(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return m.create(e,...t)}function I(e,t,...n){if(!e)throw C(t,...n)}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function S(e,t){e||E(t)}const x=new Map;function k(e){S(e instanceof Function,"Expected a class definition");let t=x.get(e);return t?(S(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,x.set(e,t),t)}function T(e,t){const n=(0,i.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!=t?t:{}))return e;b(e,"already-initialized")}return n.initialize({options:t})}function N(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function D(){return"http:"===O()||"https:"===O()}function O(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class P{constructor(e,t){this.shortDelay=e,this.longDelay=t,S(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(D()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function R(e,t){S(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class L{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},F=new P(3e4,6e4);function j(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function B(e,t,n,i,o={}){return U(e,o,(async()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),L.fetch()(z(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},o))}))}async function U(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},M),t);try{const t=new q(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw $(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw $(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw $(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw A(e,a,s);b(e,a)}}catch(t){if(t instanceof r.ZR)throw t;b(e,"network-request-failed")}}async function V(e,t,n,r,i={}){const o=await B(e,t,n,r,i);return"mfaPendingCredential"in o&&b(e,"multi-factor-auth-required",{_serverResponse:o}),o}function z(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?R(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(w(this.auth,"network-request-failed"))),F.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function $(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=w(e,t,r);return i.customData._tokenResponse=n,i}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function K(e,t=!1){return(0,r.m9)(e).getIdToken(t)}async function H(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),o=Q(i);I(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"==typeof o.firebase?o.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:G(W(o.auth_time)),issuedAtTime:G(W(o.iat)),expirationTime:G(W(o.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function W(e){return 1e3*Number(e)}function Q(e){var t;const[n,i,o]=e.split(".");if(void 0===n||void 0===i||void 0===o)return v("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(i);return e?JSON.parse(e):(v("Failed to decode base64 JWT payload"),null)}catch(e){return v("Caught error parsing JWT payload as JSON",null===(t=e)||void 0===t?void 0:t.toString()),null}}async function Y(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===(e=t)||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class X{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Z(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Y(e,async function(e,t){return B(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));I(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=(c=e.providerData,l=a,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const d=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==u?void 0:u.length)),f=!!d&&h,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new X(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function ee(e){const t=(0,r.m9)(e);await Z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(void 0!==e.idToken,"internal-error"),I(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Q(e);return I(t,"internal-error"),I(void 0!==t.exp,"internal-error"),I(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return I(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(e,t){const n=await U(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=z(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new te;return n&&(I("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(I("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(I("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return E("not implemented")}}function ne(e,t){I("string"==typeof e||void 0===e,"internal-error",{appName:t})}class re{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new X(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Y(this,this.stsTokenManager.getToken(this.auth,e));return I(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return H(this,e)}reload(){return ee(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new re(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Y(this,async function(e,t){return B(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:A,stsTokenManager:_}=t;I(v&&_,e,"internal-error");const C=te.fromJSON(this.name,_);I("string"==typeof v,e,"internal-error"),ne(l,e.name),ne(d,e.name),I("boolean"==typeof b,e,"internal-error"),I("boolean"==typeof w,e,"internal-error"),ne(h,e.name),ne(f,e.name),ne(p,e.name),ne(m,e.name),ne(g,e.name),ne(y,e.name);const E=new re({uid:v,auth:e,email:d,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:y});return A&&Array.isArray(A)&&(E.providerData=A.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new te;r.updateFromServerResponse(t);const i=new re({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Z(i),i}}class ie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ie.type="NONE";const oe=ie;function se(e,t,n){return`firebase:${e}:${t}:${n}`}class ae{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=se(this.userKey,r.apiKey,i),this.fullPersistenceKey=se("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?re._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ae(k(oe),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||k(oe);const o=se(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=re._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new ae(i,e,n)):new ae(i,e,n)}}function ue(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(he(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ce(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pe(t))return"Blackberry";if(me(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||de(t))&&!t.includes("edge/"))return"Chrome";if(fe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ce(e=(0,r.z$)()){return/firefox\//i.test(e)}function le(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function de(e=(0,r.z$)()){return/crios\//i.test(e)}function he(e=(0,r.z$)()){return/iemobile/i.test(e)}function fe(e=(0,r.z$)()){return/android/i.test(e)}function pe(e=(0,r.z$)()){return/blackberry/i.test(e)}function me(e=(0,r.z$)()){return/webos/i.test(e)}function ge(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ye(e=(0,r.z$)()){return ge(e)||fe(e)||me(e)||pe(e)||/windows phone/i.test(e)||he(e)}function ve(e,t=[]){let n;switch(e){case"Browser":n=ue((0,r.z$)());break;case"Worker":n=`${ue((0,r.z$)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}class be{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const n=[];try{for(const t of this.queue)await t(e),t.onAbort&&n.push(t.onAbort)}catch(e){n.reverse();for(const e of n)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(t=e)||void 0===t?void 0:t.message})}}}class we{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=k(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ae.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return I(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){var t;try{await Z(e)}catch(e){if("auth/network-request-failed"!==(null===(t=e)||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&I(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&I(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(k(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&k(e)||this._popupRedirectResolver;I(t,this,"argument-error"),this.redirectPersistenceManager=await ae.create(this,[k(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return I(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Ae(e){return(0,r.m9)(e)}class _e{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(e,t,n){const r=Ae(e);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=Ie(t),{host:s,port:a}=function(e){const t=Ie(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ee(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ee(t)}}}(t),u=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ie(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ee(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Se{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function xe(e,t){return B(e,"POST","/v1/accounts:resetPassword",j(e,t))}async function ke(e,t){return B(e,"POST","/v1/accounts:update",t)}async function Te(e,t){return B(e,"POST","/v1/accounts:sendOobCode",j(e,t))}class Ne extends Se{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ne(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ne(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return V(e,"POST","/v1/accounts:signInWithPassword",j(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return V(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{email:this._email,oobCode:this._password});default:b(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ke(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return V(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:b(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function De(e,t){return V(e,"POST","/v1/accounts:signInWithIdp",j(e,t))}class Oe extends Se{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):b("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Oe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.xO)(t)}return e}}const Pe={USER_NOT_FOUND:"user-not-found"};class Re extends Se{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Re({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Re({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return V(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await V(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t));if(n.temporaryProof)throw $(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return V(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Pe)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Re({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Le{constructor(e){var t,n,i,o,s,a;const u=(0,r.zd)((0,r.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);I(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,r.zd)((0,r.pd)(e)).link,n=t?(0,r.zd)((0,r.pd)(t)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(e)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||t||e}(e);try{return new Le(t)}catch(e){return null}}}function Me(e){return Le.parseLink(e)}class Fe{constructor(){this.providerId=Fe.PROVIDER_ID}static credential(e,t){return Ne._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Le.parseLink(t);return I(n,"argument-error"),Ne._fromEmailAndCode(e,n.code,n.tenantId)}}Fe.PROVIDER_ID="password",Fe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class je{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Be extends je{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ue extends Be{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return I("providerId"in t&&"signInMethod"in t,"argument-error"),Oe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return I(e.idToken||e.accessToken,"argument-error"),Oe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ue.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ue.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new Ue(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class Ve extends Be{constructor(){super("facebook.com")}static credential(e){return Oe._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ve.credential(e.oauthAccessToken)}catch(e){return null}}}Ve.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ve.PROVIDER_ID="facebook.com";class ze extends Be{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oe._fromParams({providerId:ze.PROVIDER_ID,signInMethod:ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ze.credentialFromTaggedObject(e)}static credentialFromError(e){return ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ze.credential(t,n)}catch(e){return null}}}ze.GOOGLE_SIGN_IN_METHOD="google.com",ze.PROVIDER_ID="google.com";class qe extends Be{constructor(){super("github.com")}static credential(e){return Oe._fromParams({providerId:qe.PROVIDER_ID,signInMethod:qe.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qe.credentialFromTaggedObject(e)}static credentialFromError(e){return qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qe.credential(e.oauthAccessToken)}catch(e){return null}}}qe.GITHUB_SIGN_IN_METHOD="github.com",qe.PROVIDER_ID="github.com";class $e extends Se{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new $e(n,i):null}static _create(e,t){return new $e(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ge extends je{constructor(e){I(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ge.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ge.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=$e.fromJSON(e);return I(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return $e._create(n,t)}catch(e){return null}}}class Ke extends Be{constructor(){super("twitter.com")}static credential(e,t){return Oe._fromParams({providerId:Ke.PROVIDER_ID,signInMethod:Ke.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ke.credentialFromTaggedObject(e)}static credentialFromError(e){return Ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ke.credential(t,n)}catch(e){return null}}}async function He(e,t){return V(e,"POST","/v1/accounts:signUp",j(e,t))}Ke.TWITTER_SIGN_IN_METHOD="twitter.com",Ke.PROVIDER_ID="twitter.com";class We{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await re._fromIdTokenResponse(e,n,r),o=Qe(n);return new We({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qe(n);return new We({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function Ye(e){var t;const n=Ae(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new We({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await He(n,{returnSecureToken:!0}),i=await We._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class Je extends r.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Je.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Je(e,t,n,r)}}function Xe(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Je._fromErrorAndOperation(e,n,t,r);throw n}))}function Ze(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function et(e,t){const n=(0,r.m9)(e);await nt(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return B(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=Ze(i||[]);return n.providerData=n.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function tt(e,t,n=!1){const r=await Y(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return We._forOperation(e,"link",r)}async function nt(e,t,n){await Z(t);const r=!1===e?"provider-already-linked":"no-such-provider";I(Ze(t.providerData).has(n)===e,t.auth,r)}async function rt(e,t,n=!1){var r;const{auth:i}=e,o="reauthenticate";try{const r=await Y(e,Xe(i,o,t,e),n);I(r.idToken,i,"internal-error");const s=Q(r.idToken);I(s,i,"internal-error");const{sub:a}=s;return I(e.uid===a,i,"user-mismatch"),We._forOperation(e,o,r)}catch(e){throw"auth/user-not-found"===(null===(r=e)||void 0===r?void 0:r.code)&&b(i,"user-mismatch"),e}}async function it(e,t,n=!1){const r="signIn",i=await Xe(e,r,t),o=await We._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ot(e,t){return it(Ae(e),t)}async function st(e,t){const n=(0,r.m9)(e);return await nt(!1,n,t.providerId),tt(n,t)}async function at(e,t){return rt((0,r.m9)(e),t)}async function ut(e,t){const n=Ae(e),r=await async function(e,t){return V(e,"POST","/v1/accounts:signInWithCustomToken",j(e,t))}(n,{token:t,returnSecureToken:!0}),i=await We._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ct{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?lt._fromServerResponse(e,t):b(e,"internal-error")}}class lt extends ct{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new lt(t)}}function dt(e,t,n){var r;I((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),I(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(I(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(I(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ht(e,t,n){const i=(0,r.m9)(e),o={requestType:"PASSWORD_RESET",email:t};n&&dt(i,o,n),await async function(e,t){return Te(e,t)}(i,o)}async function ft(e,t,n){await xe((0,r.m9)(e),{oobCode:t,newPassword:n})}async function pt(e,t){await async function(e,t){return B(e,"POST","/v1/accounts:update",j(e,t))}((0,r.m9)(e),{oobCode:t})}async function mt(e,t){const n=(0,r.m9)(e),i=await xe(n,{oobCode:t}),o=i.requestType;switch(I(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":I(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":I(i.mfaInfo,n,"internal-error");default:I(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=ct._fromServerResponse(Ae(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:o}}async function gt(e,t){const{data:n}=await mt((0,r.m9)(e),t);return n.email}async function yt(e,t,n){const r=Ae(e),i=await He(r,{returnSecureToken:!0,email:t,password:n}),o=await We._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function vt(e,t,n){return ot((0,r.m9)(e),Fe.credential(t,n))}async function bt(e,t,n){const i=(0,r.m9)(e),o={requestType:"EMAIL_SIGNIN",email:t};I(n.handleCodeInApp,i,"argument-error"),n&&dt(i,o,n),await async function(e,t){return Te(e,t)}(i,o)}function wt(e,t){const n=Le.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}async function At(e,t,n){const i=(0,r.m9)(e),o=Fe.credentialWithLink(t,n||N());return I(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),ot(i,o)}async function _t(e,t){const n={identifier:t,continueUri:D()?N():"http://localhost"},{signinMethods:i}=await async function(e,t){return B(e,"POST","/v1/accounts:createAuthUri",j(e,t))}((0,r.m9)(e),n);return i||[]}async function Ct(e,t){const n=(0,r.m9)(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&dt(n.auth,i,t);const{email:o}=await async function(e,t){return Te(e,t)}(n.auth,i);o!==e.email&&await e.reload()}async function It(e,t,n){const i=(0,r.m9)(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&dt(i.auth,o,n);const{email:s}=await async function(e,t){return Te(e,t)}(i.auth,o);s!==e.email&&await e.reload()}async function Et(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.m9)(e),o={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Y(i,async function(e,t){return B(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function St(e,t){return kt((0,r.m9)(e),t,null)}function xt(e,t){return kt((0,r.m9)(e),null,t)}async function kt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Y(e,ke(r,i));await e._updateTokensIfNecessary(o,!0)}class Tt{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Nt extends Tt{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Dt extends Tt{constructor(e,t){super(e,"facebook.com",t)}}class Ot extends Nt{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Pt extends Tt{constructor(e,t){super(e,"google.com",t)}}class Rt extends Nt{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Lt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Tt(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Dt(o,i);case"github.com":return new Ot(o,i);case"google.com":return new Pt(o,i);case"twitter.com":return new Rt(o,i,e.screenName||null);case"custom":case"anonymous":return new Tt(o,null);default:return new Tt(o,r,i)}}(n)}function Mt(e,t){return(0,r.m9)(e).setPersistence(t)}function Ft(e,t,n,i){return(0,r.m9)(e).onIdTokenChanged(t,n,i)}function jt(e,t,n){return(0,r.m9)(e).beforeAuthStateChanged(t,n)}function Bt(e,t,n,i){return(0,r.m9)(e).onAuthStateChanged(t,n,i)}function Ut(e){(0,r.m9)(e).useDeviceLanguage()}function Vt(e,t){return(0,r.m9)(e).updateCurrentUser(t)}function zt(e){return(0,r.m9)(e).signOut()}async function qt(e){return(0,r.m9)(e).delete()}class $t{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new $t("enroll",e,t)}static _fromMfaPendingCredential(e){return new $t("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return $t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return $t._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Gt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ae(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ct._fromServerResponse(n,e)));I(r.mfaPendingCredential,n,"internal-error");const o=$t._fromMfaPendingCredential(r.mfaPendingCredential);return new Gt(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await We._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return I(t.user,n,"internal-error"),We._forOperation(t.user,t.operationType,s);default:b(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Kt(e,t){var n;const i=(0,r.m9)(e),o=t;return I(t.customData.operationType,i,"argument-error"),I(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Gt._fromError(i,o)}class Ht{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ct._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ht(e)}async getSession(){return $t._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Y(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){var t;const n="string"==typeof e?e:e.uid,r=await this.user.getIdToken(),i=await Y(this.user,(o=this.user.auth,s={idToken:r,mfaEnrollmentId:n},B(o,"POST","/v2/accounts/mfaEnrollment:withdraw",j(o,s))));var o,s;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==n)),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==(null===(t=e)||void 0===t?void 0:t.code))throw e}}}const Wt=new WeakMap;function Qt(e){const t=(0,r.m9)(e);return Wt.has(t)||Wt.set(t,Ht._fromUser(t)),Wt.get(t)}const Yt="__sak";class Jt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yt,"1"),this.storage.removeItem(Yt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Xt extends Jt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,r.z$)();return le(e)||ge(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ye(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xt.type="LOCAL";const Zt=Xt;class en extends Jt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}en.type="SESSION";const tn=en;class nn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new nn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function rn(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}nn.receivers=[];class on{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const u=rn("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function sn(){return window}function an(){return void 0!==sn().WorkerGlobalScope&&"function"==typeof sn().importScripts}const un="firebaseLocalStorageDb",cn="firebaseLocalStorage",ln="fbase_key";class dn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function hn(e,t){return e.transaction([cn],t?"readwrite":"readonly").objectStore(cn)}function fn(){const e=indexedDB.open(un,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(cn,{keyPath:ln})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(cn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(un);return new dn(e).toPromise()}(),t(await fn()))}))}))}async function pn(e,t,n){const r=hn(e,!0).put({[ln]:t,value:n});return new dn(r).toPromise()}function mn(e,t){const n=hn(e,!0).delete(t);return new dn(n).toPromise()}class gn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await fn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return an()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nn._getInstance(an()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new on(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fn();return await pn(e,Yt,"1"),await mn(e,Yt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>pn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=hn(e,!1).get(t),r=await new dn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>mn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=hn(e,!1).getAll();return new dn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}gn.type="LOCAL";const yn=gn;function vn(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=w("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function bn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const wn=1e12;class An{constructor(e){this.auth=e,this.counter=wn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new _n(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||wn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||wn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||wn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class _n{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;I(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cn=bn("rcb"),In=new P(3e4,6e4);class En{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=sn().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return I(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(sn().grecaptcha):new Promise(((n,i)=>{const o=sn().setTimeout((()=>{i(w(e,"network-request-failed"))}),In.get());sn()[Cn]=()=>{sn().clearTimeout(o),delete sn()[Cn];const r=sn().grecaptcha;if(!r)return void i(w(e,"internal-error"));const s=r.render;r.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(r)},vn(`https://www.google.com/recaptcha/api.js??${(0,r.xO)({onload:Cn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(o),i(w(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=sn().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sn{async load(e){return new An(e)}clearedOneInstance(){}}const xn="recaptcha",kn={theme:"light",type:"image"};class Tn{constructor(e,t=Object.assign({},kn),n){this.parameters=t,this.type=xn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(n),this.isInvisible="invisible"===this.parameters.size,I("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;I(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sn:new En,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){I(!this.parameters.sitekey,this.auth,"argument-error"),I(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),I("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=sn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){I(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){I(D()&&!an(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await B(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);I(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return I(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Re._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Dn(e,t,n){const i=Ae(e),o=await Rn(i,t,(0,r.m9)(n));return new Nn(o,(e=>ot(i,e)))}async function On(e,t,n){const i=(0,r.m9)(e);await nt(!1,i,"phone");const o=await Rn(i.auth,t,(0,r.m9)(n));return new Nn(o,(e=>st(i,e)))}async function Pn(e,t,n){const i=(0,r.m9)(e),o=await Rn(i.auth,t,(0,r.m9)(n));return new Nn(o,(e=>at(i,e)))}async function Rn(e,t,n){var r;const i=await n.verify();try{let o;if(I("string"==typeof i,e,"argument-error"),I(n.type===xn,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){I("enroll"===t.type,e,"internal-error");const n=await function(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:start",j(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{I("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;I(n,e,"missing-multi-factor-info");const s=await function(e,t){return B(e,"POST","/v2/accounts/mfaSignIn:start",j(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return B(e,"POST","/v1/accounts:sendVerificationCode",j(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function Ln(e,t){await tt((0,r.m9)(e),t)}class Mn{constructor(e){this.providerId=Mn.PROVIDER_ID,this.auth=Ae(e)}verifyPhoneNumber(e,t){return Rn(this.auth,e,(0,r.m9)(t))}static credential(e,t){return Re._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mn.credentialFromTaggedObject(t)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Re._fromTokenResponse(t,n):null}}function Fn(e,t){return t?k(t):(I(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mn.PROVIDER_ID="phone",Mn.PHONE_SIGN_IN_METHOD="phone";class jn extends Se{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return De(e,this._buildIdpRequest())}_linkToIdToken(e,t){return De(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return De(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bn(e){return it(e.auth,new jn(e),e.bypassAuthState)}function Un(e){const{auth:t,user:n}=e;return I(n,t,"internal-error"),rt(n,new jn(e),e.bypassAuthState)}async function Vn(e){const{auth:t,user:n}=e;return I(n,t,"internal-error"),tt(n,new jn(e),e.bypassAuthState)}class zn{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bn;case"linkViaPopup":case"linkViaRedirect":return Vn;case"reauthViaPopup":case"reauthViaRedirect":return Un;default:b(this.auth,"internal-error")}}resolve(e){S(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){S(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qn=new P(2e3,1e4);async function $n(e,t,n){const r=Ae(e);_(e,t,je);const i=Fn(r,n);return new Hn(r,"signInViaPopup",t,i).executeNotNull()}async function Gn(e,t,n){const i=(0,r.m9)(e);_(i.auth,t,je);const o=Fn(i.auth,n);return new Hn(i.auth,"reauthViaPopup",t,o,i).executeNotNull()}async function Kn(e,t,n){const i=(0,r.m9)(e);_(i.auth,t,je);const o=Fn(i.auth,n);return new Hn(i.auth,"linkViaPopup",t,o,i).executeNotNull()}class Hn extends zn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Hn.currentPopupAction&&Hn.currentPopupAction.cancel(),Hn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return I(e,this.auth,"internal-error"),e}async onExecution(){S(1===this.filter.length,"Popup operations only handle one event");const e=rn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(w(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(w(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(w(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,qn.get())};e()}}Hn.currentPopupAction=null;const Wn=new Map;class Qn extends zn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Zn(t),r=Xn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Wn.set(this.auth._key(),e)}return this.bypassAuthState||Wn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Yn(e,t){return Xn(e)._set(Zn(t),"true")}function Jn(e,t){Wn.set(e._key(),t)}function Xn(e){return k(e._redirectPersistence)}function Zn(e){return se("pendingRedirect",e.config.apiKey,e.name)}function er(e,t,n){return async function(e,t,n){const r=Ae(e);_(e,t,je);const i=Fn(r,n);return await Yn(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function tr(e,t,n){return async function(e,t,n){const i=(0,r.m9)(e);_(i.auth,t,je);const o=Fn(i.auth,n);await Yn(o,i.auth);const s=await or(i);return o._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function nr(e,t,n){return async function(e,t,n){const i=(0,r.m9)(e);_(i.auth,t,je);const o=Fn(i.auth,n);await nt(!1,i,t.providerId),await Yn(o,i.auth);const s=await or(i);return o._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function rr(e,t){return await Ae(e)._initializationPromise,ir(e,t,!1)}async function ir(e,t,n=!1){const r=Ae(e),i=Fn(r,t),o=new Qn(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function or(e){const t=rn(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class sr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ur(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ur(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(w(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ar(e))}saveEventToCache(e){this.cachedEventUids.add(ar(e)),this.lastProcessedEventTime=Date.now()}}function ar(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ur({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const cr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lr=/^https?/;function dr(e){const t=N(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lr.test(n))return!1;if(cr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hr=new P(3e4,6e4);function fr(){const e=sn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let pr=null;function mr(e){return pr=pr||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){fr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fr(),n(w(e,"network-request-failed"))},timeout:hr.get()})}if(null===(i=null===(r=sn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=sn().gapi)||void 0===o?void 0:o.load)){const t=bn("iframefcb");return sn()[t]=()=>{gapi.load?s():n(w(e,"network-request-failed"))},vn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw pr=null,e}))}(e),pr}const gr=new P(5e3,15e3),yr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function br(e){const t=e.config;I(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,o={apiKey:t.apiKey,appName:e.name,v:i.Jn},s=vr.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}const wr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ar{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _r(e,t,n,o,s,a){I(e.config.authDomain,e,"auth-domain-config-required"),I(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(t instanceof je){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof Be){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const e of Object.keys(c))void 0===c[e]&&delete c[e];return`${function({config:e}){return e.emulator?R(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,r.xO)(c).slice(1)}`}const Cr="webStorageSupport",Ir=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tn,this._completeRedirectFn=ir,this._overrideRedirectResult=Jn}async _openPopup(e,t,n,i){var o;return S(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},wr),{width:i.toString(),height:o.toString(),top:s,left:a}),l=(0,r.z$)().toLowerCase();n&&(u=de(l)?"_blank":n),ce(l)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,r.z$)()){var t;return ge(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Ar(null);const h=window.open(t||"",u,d);I(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Ar(h)}(e,_r(e,t,n,N(),i),rn())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=_r(e,t,n,N(),r),sn().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(S(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await mr(e),n=sn().gapi;return I(n,e,"internal-error"),t.open({where:document.body,url:br(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=w(e,"network-request-failed"),o=sn().setTimeout((()=>{r(i)}),gr.get());function s(){sn().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new sr(e);return t.register("authEvent",(t=>(I(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cr,{type:Cr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),b(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return B(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(dr(e))return}catch(e){}b(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ye()||le()||ge()}};class Er extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return E("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Er(e)}_finalizeEnroll(e,t,n){return function(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:finalize",j(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return B(e,"POST","/v2/accounts/mfaSignIn:finalize",j(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Sr{constructor(){}static assertion(e){return Er._fromCredential(e)}}Sr.FACTOR_ID="phone";var xr,kr="@firebase/auth",Tr="0.20.7";class Nr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Dr(e=(0,i.Mq)()){const t=(0,i.qX)(e,"auth");return t.isInitialized()?t.getImmediate():T(e,{popupRedirectResolver:Ir,persistence:[yn,Zt,tn]})}xr="Browser",(0,i.Xd)(new a.wA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=n.options;return((e,n)=>{I(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),I(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:o,clientPlatform:xr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ve(xr)},s=new we(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(k);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(e=>{return t=Ae(e.getProvider("auth").getImmediate()),new Nr(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(kr,Tr,void 0),(0,i.KN)(kr,Tr,"esm2017")},1591:function(e,t,n){n.r(t),n.d(t,{AbstractUserDataWriter:function(){return wp},Bytes:function(){return mf},CACHE_SIZE_UNLIMITED:function(){return Qh},CollectionReference:function(){return Uh},DocumentReference:function(){return jh},DocumentSnapshot:function(){return Wf},FieldPath:function(){return ff},FieldValue:function(){return gf},Firestore:function(){return Yh},FirestoreError:function(){return Er},GeoPoint:function(){return yf},LoadBundleTask:function(){return Wh},Query:function(){return Bh},QueryConstraint:function(){return ep},QueryDocumentSnapshot:function(){return Qf},QuerySnapshot:function(){return Yf},SnapshotMetadata:function(){return Hf},Timestamp:function(){return Vr},Transaction:function(){return Up},WriteBatch:function(){return Cp},_DatabaseId:function(){return Vi},_DocumentKey:function(){return Hr},_EmptyAppCheckTokenProvider:function(){return Lr},_EmptyAuthCredentialsProvider:function(){return kr},_FieldPath:function(){return Kr},_cast:function(){return Ph},_debugAssert:function(){return _r},_isBase64Available:function(){return Di},_logWarn:function(){return vr},_validateIsNotUsedTogether:function(){return Th},addDoc:function(){return Lp},arrayRemove:function(){return Gp},arrayUnion:function(){return $p},clearIndexedDbPersistence:function(){return of},collection:function(){return Vh},collectionGroup:function(){return zh},connectFirestoreEmulator:function(){return Fh},deleteDoc:function(){return Rp},deleteField:function(){return zp},disableNetwork:function(){return uf},doc:function(){return qh},documentId:function(){return pf},enableIndexedDbPersistence:function(){return tf},enableMultiTabIndexedDbPersistence:function(){return nf},enableNetwork:function(){return af},endAt:function(){return pp},endBefore:function(){return fp},ensureFirestoreConfigured:function(){return Zh},executeWrite:function(){return jp},getDoc:function(){return Ep},getDocFromCache:function(){return xp},getDocFromServer:function(){return kp},getDocs:function(){return Tp},getDocsFromCache:function(){return Np},getDocsFromServer:function(){return Dp},getFirestore:function(){return Xh},increment:function(){return Kp},initializeFirestore:function(){return Jh},limit:function(){return ap},limitToLast:function(){return up},loadBundle:function(){return lf},namedQuery:function(){return df},onSnapshot:function(){return Mp},onSnapshotsInSync:function(){return Fp},orderBy:function(){return op},query:function(){return tp},queryEqual:function(){return Gh},refEqual:function(){return $h},runTransaction:function(){return Vp},serverTimestamp:function(){return qp},setDoc:function(){return Op},setIndexConfiguration:function(){return Wp},setLogLevel:function(){return mr},snapshotEqual:function(){return Xf},startAfter:function(){return dp},startAt:function(){return lp},terminate:function(){return cf},updateDoc:function(){return Pp},waitForPendingWrites:function(){return sf},where:function(){return rp},writeBatch:function(){return Hp}});var r,i=n(389),o=n(8463),s=n(3333),a=n(4444),u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},c={},l=l||{},d=u||self;function h(){}function f(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function A(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function _(){this.s=this.s,this.o=this.o}var C={};_.prototype.s=!1,_.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g)}(this);delete C[e]}},_.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function E(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(f(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function x(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",h,t),d.removeEventListener("test",h,t)}catch(e){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}var N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return e<t?-1:e>t?1:0}function O(){var e=d.navigator;return e&&(e=e.userAgent)?e:""}function P(e){return-1!=O().indexOf(e)}function R(e){return R[" "](e),e}R[" "]=h;var L,M,F=P("Opera"),j=P("Trident")||P("MSIE"),B=P("Edge"),U=B||j,V=P("Gecko")&&!(-1!=O().toLowerCase().indexOf("webkit")&&!P("Edge"))&&!(P("Trident")||P("MSIE"))&&!P("Edge"),z=-1!=O().toLowerCase().indexOf("webkit")&&!P("Edge");function q(){var e=d.document;return e?e.documentMode:void 0}e:{var $="",G=(M=O(),V?/rv:([^\);]+)(\)|;)/.exec(M):B?/Edge\/([\d\.]+)/.exec(M):j?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(M):z?/WebKit\/(\S+)/.exec(M):F?/(?:Version)[ \/]?(\S+)/.exec(M):void 0);if(G&&($=G?G[1]:""),j){var K=q();if(null!=K&&K>parseFloat($)){L=String(K);break e}}L=$}var H,W={};function Q(){return function(e){var t=W;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let e=0;const t=N(String(L)).split("."),n=N("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=D(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==i[2].length,0==o[2].length)||D(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}()}()}d.document&&j?H=q()||parseInt(L,10)||void 0:H=void 0;var Y=H;function J(e,t){if(x.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(V){e:{try{R(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:X[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&J.X.h.call(this)}}A(J,x);var X={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),ee=0;function te(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ee,this.ba=this.ea=!1}function ne(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function re(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ie(e){const t={};for(const n in e)t[n]=e[n];return t}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<oe.length;t++)n=oe[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ae(e){this.src=e,this.g={},this.h=0}function ue(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=I(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ne(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ce(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ba&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}ae.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ce(e,t,r,i);return-1<s?(t=e[s],n||(t.ea=!1)):((t=new te(t,this.src,o,!!r,i)).ea=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),de={};function he(e,t,n,r,i){if(r&&r.once)return pe(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)he(e,t[o],n,r,i);return null}return n=Ae(n),e&&e[Z]?e.N(t,n,p(r)?!!r.capture:!!r,i):fe(e,t,n,!1,r,i)}function fe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=be(e);if(a||(e[le]=a=new ae(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=ve;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);return null}return n=Ae(n),e&&e[Z]?e.O(t,n,p(r)?!!r.capture:!!r,i):fe(e,t,n,!0,r,i)}function me(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=Ae(n),e&&e[Z]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ce(o=e.g[t],n,r,i))&&(ne(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ce(t,n,r,i)),(n=-1<e?t[e]:null)&&ge(n))}function ge(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Z])ue(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(ue(n,e),0==n.h&&(n.src=null,t[le]=null)):ne(e)}}}function ye(e){return e in de?de[e]:de[e]="on"+e}function ve(e,t){if(e.ba)e=!0;else{t=new J(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ge(e),e=n.call(r,t)}return e}function be(e){return(e=e[le])instanceof ae?e:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(e){return"function"==typeof e?e:(e[we]||(e[we]=function(t){return e.handleEvent(t)}),e[we])}function _e(){_.call(this),this.i=new ae(this),this.P=this,this.I=null}function Ce(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new x(t,e);else if(t instanceof x)t.target=t.target||e;else{var i=t;se(t=new x(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ie(s,r,!0,t)&&i}if(i=Ie(s=t.g=e,r,!0,t)&&i,i=Ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ie(s=t.g=n[o],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,u=s.ha||s.src;s.ea&&ue(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}A(_e,_),_e.prototype[Z]=!0,_e.prototype.removeEventListener=function(e,t,n,r){me(this,e,t,n,r)},_e.prototype.M=function(){if(_e.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ne(n[r]);delete t.g[e],t.h--}}this.I=null},_e.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_e.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ee=d.JSON.stringify;function Se(){var e=Pe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xe,ke=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Te),(e=>e.reset()));class Te{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ne(e){d.setTimeout((()=>{throw e}),0)}function De(e,t){xe||function(){var e=d.Promise.resolve(void 0);xe=function(){e.then(Re)}}(),Oe||(xe(),Oe=!0),Pe.add(e,t)}var Oe=!1,Pe=new class{constructor(){this.h=this.g=null}add(e,t){const n=ke.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Re(){for(var e;e=Se();){try{e.h.call(e.g)}catch(e){Ne(e)}var t=ke;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Oe=!1}function Le(e,t){_e.call(this),this.h=e||1,this.g=t||d,this.j=b(this.kb,this),this.l=Date.now()}function Me(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Fe(e,t,n){if("function"==typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function je(e){e.g=Fe((()=>{e.g=null,e.i&&(e.i=!1,je(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}A(Le,_e),(r=Le.prototype).ca=!1,r.R=null,r.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ce(this,"tick"),this.ca&&(Me(this),this.start()))}},r.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Le.X.M.call(this),Me(this),delete this.g};class Be extends _{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:je(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(e){_.call(this),this.h=e,this.g={}}A(Ue,_);var Ve=[];function ze(e,t,n,r){Array.isArray(n)||(n&&(Ve[0]=n.toString()),n=Ve);for(var i=0;i<n.length;i++){var o=he(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function qe(e){re(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ge(e)}),e),e.g={}}function $e(){this.g=!0}function Ge(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ee(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ue.prototype.M=function(){Ue.X.M.call(this),qe(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Ke={},He=null;function We(){return He=He||new _e}function Qe(e){x.call(this,Ke.Oa,e)}function Ye(e){const t=We();Ce(t,new Qe(t,e))}function Je(e,t){x.call(this,Ke.STAT_EVENT,e),this.stat=t}function Xe(e){const t=We();Ce(t,new Je(t,e))}function Ze(e,t){x.call(this,Ke.Pa,e),this.size=t}function et(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}Ke.Oa="serverreachability",A(Qe,x),Ke.STAT_EVENT="statevent",A(Je,x),Ke.Pa="timingevent",A(Ze,x);var tt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},nt={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rt(){}function it(e){return e.h||(e.h=e.i())}function ot(){}rt.prototype.h=null;var st,at={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function ut(){x.call(this,"d")}function ct(){x.call(this,"c")}function lt(){}function dt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ue(this),this.O=ft,e=U?125:void 0,this.T=new Le(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}A(ut,x),A(ct,x),A(lt,rt),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},st=new lt;var ft=45e3,pt={},mt={};function gt(e,t,n){e.K=1,e.v=Lt(Nt(t)),e.s=n,e.P=!0,yt(e,null)}function yt(e,t){e.F=Date.now(),At(e),e.A=Nt(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Wt(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ht,e.g=Wn(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Be(b(e.Ka,e,e.g),e.N)),ze(e.S,e.g,"readystatechange",e.hb),t=e.H?ie(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ye(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function vt(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function bt(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=wt(e,n),r==mt){4==t&&(e.o=4,Xe(14),i=!1),Ge(e.j,e.m,null,"[Incomplete Response]");break}if(r==pt){e.o=4,Xe(15),Ge(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ge(e.j,e.m,r,null),St(e,r)}vt(e)&&r!=mt&&r!=pt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xe(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Un(t),t.K=!0,Xe(11))):(Ge(e.j,e.m,n,"[Invalid Chunked Response]"),Et(e),It(e))}function wt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mt:(n=Number(t.substring(n,r)),isNaN(n)?pt:(r+=1)+n>t.length?mt:(t=t.substr(r,n),e.C=r+n,t))}function At(e){e.V=Date.now()+e.O,_t(e,e.O)}function _t(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=et(b(e.fb,e),t)}function Ct(e){e.B&&(d.clearTimeout(e.B),e.B=null)}function It(e){0==e.l.G||e.I||qn(e.l,e)}function Et(e){Ct(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Me(e.T),qe(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function St(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||en(n.h,e)))if(!e.J&&en(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zn(n),On(n)}Bn(n),Xe(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=et(b(n.bb,n),6e3));if(1>=Zt(n.h)&&n.ja){try{n.ja()}catch(e){}n.ja=void 0}}else Gn(n,11)}else if((e.J||n.g==e)&&zn(n),!T(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const t=c[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const i=c[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tn(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,Rt(r.F,r.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var s=e;if((r=n).sa=Hn(r,r.H?r.ka:null,r.V),s.J){nn(r.h,s);var a=s,u=r.J;u&&a.setTimeout(u),a.B&&(Ct(a),At(a)),r.g=s}else jn(r);0<n.i.length&&Rn(n)}else"stop"!=c[0]&&"close"!=c[0]||Gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Gn(n,7):Dn(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Ye(4)}catch(e){}}function xt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=dt.prototype).setTimeout=function(e){this.O=e},r.hb=function(e){e=e.target;const t=this.L;t&&3==En(e)?t.l():this.Ka(e)},r.Ka=function(e){try{if(e==this.g)e:{const l=En(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>l)&&(3!=l||U||this.g&&(this.h.h||this.g.fa()||Sn(this.g)))){this.I||4!=l||7==t||Ye(8==t||0>=h?3:2),Ct(this);var n=this.g.aa();this.Y=n;t:if(vt(this)){var r=Sn(this.g);e="";var i=r.length,o=4==En(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Et(this),It(this);var s="";break t}this.h.i=new d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Xe(12),Et(this),It(this);break e}Ge(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,St(this,n)}this.P?(bt(this,l,s),U&&this.i&&3==l&&(ze(this.S,this.T,"tick",this.gb),this.T.start())):(Ge(this.j,this.m,s,null),St(this,s)),4==l&&Et(this),this.i&&!this.I&&(4==l?qn(this.l,this):(this.i=!1,At(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Xe(12)):(this.o=0,Xe(13)),Et(this),It(this)}}}catch(e){}},r.gb=function(){if(this.g){var e=En(this.g),t=this.g.fa();this.C<t.length&&(Ct(this),bt(this,e,t),this.i&&4!=e&&At(this))}},r.cancel=function(){this.I=!0,Et(this)},r.fb=function(){this.B=null;const e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ye(3),Xe(17)),Et(this),this.o=2,It(this)):_t(this,this.V-e)};var kt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tt(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tt){this.h=void 0!==t?t:e.h,Dt(this,e.j),this.s=e.s,this.g=e.g,Ot(this,e.m),this.l=e.l,t=e.i;var n=new $t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pt(this,n),this.o=e.o}else e&&(n=String(e).match(kt))?(this.h=!!t,Dt(this,n[1]||"",!0),this.s=Mt(n[2]||""),this.g=Mt(n[3]||"",!0),Ot(this,n[4]),this.l=Mt(n[5]||"",!0),Pt(this,n[6]||"",!0),this.o=Mt(n[7]||"")):(this.h=!!t,this.i=new $t(null,this.h))}function Nt(e){return new Tt(e)}function Dt(e,t,n){e.j=n?Mt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ot(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pt(e,t,n){t instanceof $t?(e.i=t,function(e,t){t&&!e.j&&(Gt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Kt(this,t),Wt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ft(t,zt)),e.i=new $t(t,e.h))}function Rt(e,t,n){e.i.set(t,n)}function Lt(e){return Rt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ft(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ft(t,Bt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ft(t,Bt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ft(n,"/"==n.charAt(0)?Vt:Ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ft(n,qt)),e.join("")};var Bt=/[#\/\?@]/g,Ut=/[#\?:]/g,Vt=/[#\?]/g,zt=/[#\?@]/g,qt=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Kt(e,t){Gt(e),t=Qt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ht(e,t){return Gt(e),t=Qt(e,t),e.g.has(t)}function Wt(e,t,n){Kt(e,t),0<n.length&&(e.i=null,e.g.set(Qt(e,t),E(n)),e.h+=n.length)}function Qt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Yt(e){this.l=e||Jt,e=d.PerformanceNavigationTiming?0<(e=d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(d.g&&d.g.Ga&&d.g.Ga()&&d.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=$t.prototype).add=function(e,t){Gt(this),this.i=null,e=Qt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Gt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.oa=function(){Gt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.W=function(e){Gt(this);let t=[];if("string"==typeof e)Ht(this,e)&&(t=t.concat(this.g.get(Qt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Gt(this),this.i=null,Ht(this,e=Qt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Jt=10;function Xt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zt(e){return e.h?1:e.g?e.g.size:0}function en(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tn(e,t){e.g?e.g.add(t):e.h=t}function nn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return E(e.i)}function on(){}function sn(){this.g=new on}function an(e,t,n){const r=n||"";try{xt(e,(function(e,n){let i=e;p(e)&&(i=Ee(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function un(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function cn(e){this.l=e.$b||null,this.j=e.ib||!1}function ln(e,t){_e.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},on.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},on.prototype.parse=function(e){return d.JSON.parse(e,void 0)},A(cn,rt),cn.prototype.g=function(){return new ln(this.l,this.j)},cn.prototype.i=function(e){return function(){return e}}({}),A(ln,_e);var dn=0;function hn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function fn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pn(e)}function pn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=ln.prototype).open=function(e,t){if(this.readyState!=dn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||d).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fn(this)),this.readyState=dn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pn(this)),this.g&&(this.readyState=3,pn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hn(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fn(this):pn(this),3==this.readyState&&hn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,fn(this))},r.Ta=function(e){this.g&&(this.response=e,fn(this))},r.ga=function(){this.g&&fn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mn=d.JSON.parse;function gn(e){_e.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yn,this.K=this.L=!1}A(gn,_e);var yn="",vn=/^https?$/i,bn=["POST","PUT"];function wn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,An(e),Cn(e)}function An(e){e.D||(e.D=!0,Ce(e,"complete"),Ce(e,"error"))}function _n(e){if(e.h&&void 0!==l&&(!e.C[1]||4!=En(e)||2!=e.aa()))if(e.v&&4==En(e))Fe(e.Ha,0,e);else if(Ce(e,"readystatechange"),4==En(e)){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(kt)[1]||null;if(!i&&d.self&&d.self.location){var o=d.self.location.protocol;i=o.substr(0,o.length-1)}r=!vn.test(i?i.toLowerCase():"")}n=r}if(n)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var s=2<En(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.aa()+"]",An(e)}}finally{Cn(e)}}}function Cn(e,t){if(e.g){In(e);const n=e.g,r=e.C[0]?h:null;e.g=null,e.C=null,t||Ce(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function In(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function En(e){return e.g?e.g.readyState:0}function Sn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function xn(e){let t="";return re(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function kn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xn(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Rt(e,t,n))}function Tn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nn(e){this.Ca=0,this.i=[],this.j=new $e,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Tn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Tn("baseRetryDelayMs",5e3,e),this.ab=Tn("retryDelaySeedMs",1e4,e),this.Za=Tn("forwardChannelMaxRetries",2,e),this.ta=Tn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Yt(e&&e.concurrentRequestLimit),this.Fa=new sn,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Dn(e){if(Pn(e),3==e.G){var t=e.U++,n=Nt(e.F);Rt(n,"SID",e.I),Rt(n,"RID",t),Rt(n,"TYPE","terminate"),Mn(e,n),(t=new dt(e,e.j,t,void 0)).K=2,t.v=Lt(Nt(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(t.v.toString(),"")),!n&&d.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wn(t.l,null),t.g.da(t.v)),t.F=Date.now(),At(t)}Kn(e)}function On(e){e.g&&(Un(e),e.g.cancel(),e.g=null)}function Pn(e){On(e),e.u&&(d.clearTimeout(e.u),e.u=null),zn(e),e.h.cancel(),e.m&&("number"==typeof e.m&&d.clearTimeout(e.m),e.m=null)}function Rn(e){Xt(e.h)||e.m||(e.m=!0,De(e.Ja,e),e.C=0)}function Ln(e,t){var n;n=t?t.m:e.U++;const r=Nt(e.F);Rt(r,"SID",e.I),Rt(r,"RID",n),Rt(r,"AID",e.T),Mn(e,r),e.o&&e.s&&kn(r,e.o,e.s),n=new dt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Fn(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),tn(e.h,n),gt(n,r,t)}function Mn(e,t){e.ia&&re(e.ia,(function(e,n){Rt(t,n,e)})),e.l&&xt({},(function(e,n){Rt(t,n,e)}))}function Fn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?b(e.l.Qa,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{an(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function jn(e){e.g||e.u||(e.Z=1,De(e.Ia,e),e.A=0)}function Bn(e){return!(e.g||e.u||3<=e.A||(e.Z++,e.u=et(b(e.Ia,e),$n(e,e.A)),e.A++,0))}function Un(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function Vn(e){e.g=new dt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Nt(e.sa);Rt(t,"RID","rpc"),Rt(t,"SID",e.I),Rt(t,"CI",e.L?"0":"1"),Rt(t,"AID",e.T),Rt(t,"TYPE","xmlhttp"),Mn(e,t),e.o&&e.s&&kn(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Lt(Nt(t)),n.s=null,n.P=!0,yt(n,e)}function zn(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function qn(e,t){var n=null;if(e.g==t){zn(e),Un(e),e.g=null;var r=2}else{if(!en(e.h,t))return;n=t.D,nn(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ce(r=We(),new Ze(r,n,t,i)),Rn(e)}else jn(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Zt(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za)||(e.m=et(b(e.Ja,e,t),$n(e,e.C)),e.C++,0)))}(e,t)||2==r&&Bn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Gn(e,5);break;case 4:Gn(e,10);break;case 3:Gn(e,6);break;default:Gn(e,2)}}function $n(e,t){let n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function Gn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=b(e.jb,e);n||(n=new Tt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Dt(n,"https"),Lt(n)),function(e,t){const n=new $e;if(d.Image){const r=new Image;r.onload=w(un,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(un,n,r,"TestLoadImage: error",!1,t),r.onabort=w(un,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(un,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xe(2);e.G=0,e.l&&e.l.va(t),Kn(e),Pn(e)}function Kn(e){if(e.G=0,e.la=[],e.l){const t=rn(e.h);0==t.length&&0==e.i.length||(S(e.la,t),S(e.la,e.i),e.h.i.length=0,E(e.i),e.i.length=0),e.l.ua()}}function Hn(e,t,n){var r=n instanceof Tt?Nt(n):new Tt(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ot(r,r.m);else{var i=d.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Tt(null,void 0);r&&Dt(o,r),t&&(o.g=t),i&&Ot(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.za,n&&t&&Rt(r,n,t),Rt(r,"VER",e.ma),Mn(e,r),r}function Wn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new gn(new cn({ib:!0})):new gn(e.ra)).L=e.H,t}function Qn(){}function Yn(){if(j&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function Jn(e,t){_e.call(this),this.g=new Nn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!T(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new er(this)}function Xn(e){ut.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zn(){ct.call(this),this.status=1}function er(e){this.g=e}(r=gn.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=this.u?it(this.u):it(st),this.g.onreadystatechange=b(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void wn(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=d.FormData&&e instanceof d.FormData,!(0<=I(bn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{In(this),0<this.B&&((this.K=function(e){return j&&Q()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.qa,this)):this.A=Fe(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){wn(this,e)}},r.qa=function(){void 0!==l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),Cn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cn(this,!0)),gn.X.M.call(this)},r.Ha=function(){this.s||(this.F||this.v||this.l?_n(this):this.eb())},r.eb=function(){_n(this)},r.aa=function(){try{return 2<En(this)?this.g.status:-1}catch(e){return-1}},r.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mn(t)}},r.Ea=function(){return this.m},r.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Nn.prototype).ma=8,r.G=1,r.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new dt(this,this.j,e,void 0);let o=this.s;if(this.S&&(o?(o=ie(o),se(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Fn(this,i,t),Rt(n=Nt(this.F),"RID",e),Rt(n,"CVER",22),this.D&&Rt(n,"X-HTTP-Session-Id",this.D),Mn(this,n),o&&(this.N?t="headers="+encodeURIComponent(String(xn(o)))+"&"+t:this.o&&kn(n,this.o,o)),tn(this.h,i),this.Xa&&Rt(n,"TYPE","init"),this.O?(Rt(n,"$req",t),Rt(n,"SID","null"),i.Z=!0,gt(i,n,null)):gt(i,n,t),this.G=2}}else 3==this.G&&(e?Ln(this,e):0==this.i.length||Xt(this.h)||Ln(this))},r.Ia=function(){if(this.u=null,Vn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=et(b(this.cb,this),e)}},r.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Xe(10),On(this),Vn(this))},r.bb=function(){null!=this.v&&(this.v=null,On(this),Bn(this),Xe(19))},r.jb=function(e){e?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))},(r=Qn.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Qa=function(){},Yn.prototype.g=function(e,t){return new Jn(e,t)},A(Jn,_e),Jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Xe(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Hn(e,null,e.V),Rn(e)},Jn.prototype.close=function(){Dn(this.g)},Jn.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ee(e),e=n);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.$a++,e)),3==t.G&&Rn(t)},Jn.prototype.M=function(){this.g.l=null,delete this.j,Dn(this.g),delete this.g,Jn.X.M.call(this)},A(Xn,ut),A(Zn,ct),A(er,Qn),er.prototype.xa=function(){Ce(this.g,"a")},er.prototype.wa=function(e){Ce(this.g,new Xn(e))},er.prototype.va=function(e){Ce(this.g,new Zn(e))},er.prototype.ua=function(){Ce(this.g,"b")},Yn.prototype.createWebChannel=Yn.prototype.g,Jn.prototype.send=Jn.prototype.u,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,tt.NO_ERROR=0,tt.TIMEOUT=8,tt.HTTP_ERROR=6,nt.COMPLETE="complete",ot.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",_e.prototype.listen=_e.prototype.N,gn.prototype.listenOnce=gn.prototype.O,gn.prototype.getLastError=gn.prototype.Na,gn.prototype.getLastErrorCode=gn.prototype.Ea,gn.prototype.getStatus=gn.prototype.aa,gn.prototype.getResponseJson=gn.prototype.Ra,gn.prototype.getResponseText=gn.prototype.fa,gn.prototype.send=gn.prototype.da;var tr=c.createWebChannelTransport=function(){return new Yn},nr=c.getStatEventTarget=function(){return We()},rr=c.ErrorCode=tt,ir=c.EventType=nt,or=c.Event=Ke,sr=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ar=c.FetchXmlHttpFactory=cn,ur=c.WebChannel=ot,cr=c.XhrIo=gn;const lr="@firebase/firestore";class dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let hr="9.10.0";const fr=new s.Yd("@firebase/firestore");function pr(){return fr.logLevel}function mr(e){fr.setLogLevel(e)}function gr(e,...t){if(fr.logLevel<=s.in.DEBUG){const n=t.map(br);fr.debug(`Firestore (${hr}): ${e}`,...n)}}function yr(e,...t){if(fr.logLevel<=s.in.ERROR){const n=t.map(br);fr.error(`Firestore (${hr}): ${e}`,...n)}}function vr(e,...t){if(fr.logLevel<=s.in.WARN){const n=t.map(br);fr.warn(`Firestore (${hr}): ${e}`,...n)}}function br(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wr(e="Unexpected state"){const t=`FIRESTORE (${hr}) INTERNAL ASSERTION FAILED: `+e;throw yr(t),new Error(t)}function Ar(e,t){e||wr()}function _r(e,t){e||wr()}function Cr(e,t){return e}const Ir={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Er extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class xr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dr.UNAUTHENTICATED)))}shutdown(){}}class Tr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nr{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Sr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{gr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(gr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Sr)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(gr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ar("string"==typeof t.accessToken),new xr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ar(null===e||"string"==typeof e),new dr(e)}}class Dr{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ar(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Or{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r}getToken(){return Promise.resolve(new Dr(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable((()=>t(dr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rr{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&gr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.A;return this.A=e.token,gr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{gr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?r(e):gr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ar("string"==typeof e.token),this.A=e.token,new Pr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Lr{getToken(){return Promise.resolve(new Pr(""))}invalidateToken(){}start(e,t){}shutdown(){}}function Mr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class Fr{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Mr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function jr(e,t){return e<t?-1:e>t?1:0}function Br(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ur(e){return e+"\0"}class Vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Er(Ir.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Er(Ir.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Er(Ir.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Er(Ir.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Vr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jr(this.nanoseconds,e.nanoseconds):jr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zr(e)}static min(){return new zr(new Vr(0,0))}static max(){return new zr(new Vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qr{constructor(e,t,n){void 0===t?t=0:t>e.length&&wr(),void 0===n?n=e.length-t:n>e.length-t&&wr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===qr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $r extends qr{construct(e,t,n){return new $r(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Er(Ir.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new $r(t)}static emptyPath(){return new $r([])}}const Gr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends qr{construct(e,t,n){return new Kr(e,t,n)}static isValidIdentifier(e){return Gr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Er(Ir.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Er(Ir.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Er(Ir.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Er(Ir.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}class Hr{constructor(e){this.path=e}static fromPath(e){return new Hr($r.fromString(e))}static fromName(e){return new Hr($r.fromString(e).popFirst(5))}static empty(){return new Hr($r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$r.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $r.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hr(new $r(e.slice()))}}class Wr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Qr(e){return e.fields.find((e=>2===e.kind))}function Yr(e){return e.fields.filter((e=>2!==e.kind))}function Jr(e,t){let n=jr(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=Zr(e.fields[r],t.fields[r]),0!==n)return n;return jr(e.fields.length,t.fields.length)}Wr.UNKNOWN_ID=-1;class Xr{constructor(e,t){this.fieldPath=e,this.kind=t}}function Zr(e,t){const n=Kr.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:jr(e.kind,t.kind)}class ei{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ei(0,ri.min())}}function ti(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zr.fromTimestamp(1e9===r?new Vr(n+1,0):new Vr(n,r));return new ri(i,Hr.empty(),t)}function ni(e){return new ri(e.readTime,e.key,-1)}class ri{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ri(zr.min(),Hr.empty(),-1)}static max(){return new ri(zr.max(),Hr.empty(),-1)}}function ii(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Hr.comparator(e.documentKey,t.documentKey),0!==n?n:jr(e.largestBatchId,t.largestBatchId))}const oi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class si{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ai(e){if(e.code!==Ir.FAILED_PRECONDITION||e.message!==oi)throw e;gr("LocalStore","Unexpectedly lost primary lease")}class ui{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ui(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ui?t:ui.resolve(t)}catch(e){return ui.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ui.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ui.reject(t)}static resolve(e){return new ui(((t,n)=>{t(e)}))}static reject(e){return new ui(((t,n)=>{n(e)}))}static waitFor(e){return new ui(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ui.resolve(!1);for(const n of e)t=t.next((e=>e?ui.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ui(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const u=a;t(e[u]).next((e=>{o[u]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new ui(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class ci{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Sr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new hi(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const n=yi(t.target.error);this.P.reject(new hi(e,n))}}static open(e,t,n,r){try{return new ci(t,e.transaction(r,n))}catch(e){throw new hi(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(gr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new pi(t)}}class li{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===li.D((0,a.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gr("SimpleDb","Removing database:",e),mi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,a.hl)())return!1;if(li.N())return!0;const e=(0,a.z$)(),t=li.D(e),n=0<t&&t<10,r=li.k(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(e){return this.db||(gr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new hi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Er(Ir.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Er(Ir.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new hi(e,r))},r.onupgradeneeded=e=>{gr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.$(t,r.transaction,e.oldVersion,this.version).next((()=>{gr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.F(e);const t=ci.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.V(),e))).catch((e=>(t.abort(e),ui.reject(e)))).toPromise();return o.catch((()=>{})),await t.v,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(gr("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class di{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return mi(this.U.delete())}}class hi extends Er{constructor(e,t){super(Ir.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fi(e){return"IndexedDbTransactionError"===e.name}class pi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(gr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mi(n)}add(e){return gr("SimpleDb","ADD",this.store.name,e,e),mi(this.store.add(e))}get(e){return mi(this.store.get(e)).next((t=>(void 0===t&&(t=null),gr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return gr("SimpleDb","DELETE",this.store.name,e),mi(this.store.delete(e))}count(){return gr("SimpleDb","COUNT",this.store.name),mi(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.H(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new ui(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ui(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}Y(e,t){gr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}tt(e){const t=this.cursor({});return new ui(((n,r)=>{t.onerror=e=>{const t=yi(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}H(e,t){const n=[];return new ui(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new di(i),s=t(i.primaryKey,i.value,o);if(s instanceof ui){const e=s.catch((e=>(o.done(),ui.reject(e))));n.push(e)}o.isDone?r():null===o.G?i.continue():i.continue(o.G)}})).next((()=>ui.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mi(e){return new ui(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=yi(e.target.error);n(t)}}))}let gi=!1;function yi(e){const t=li.D((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Er("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gi||(gi=!0,setTimeout((()=>{throw e}),0)),e}}return e}class vi{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){gr("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{gr("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(e){fi(e)?gr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ai(e)}await this.nt(6e4)}))}}class bi{constructor(e,t){this.localStore=e,this.persistence=t}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.it(t,e)))}it(e,t){const n=new Set;let r=t,i=!0;return ui.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return gr("IndexBackiller",`Processing collection: ${t}`),this.rt(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ot(r,n))).next((n=>(gr("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ot(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=ni(t);ii(r,n)>0&&(n=r)})),new ri(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class wi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ai(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _i(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ci(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}wi.at=-1;class Ii{constructor(e,t){this.comparator=e,this.root=t||Si.EMPTY}insert(e,t){return new Ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ei(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ei(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ei(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ei(this.root,e,this.comparator,!0)}}class Ei{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Si.RED,this.left=null!=r?r:Si.EMPTY,this.right=null!=i?i:Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Si(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Si.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wr();if(this.right.isRed())throw wr();const e=this.left.check();if(e!==this.right.check())throw wr();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1,Si.EMPTY=new class{constructor(){this.size=0}get key(){throw wr()}get value(){throw wr()}get color(){throw wr()}get left(){throw wr()}get right(){throw wr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Si(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xi{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ki(this.data.getIterator())}getIteratorFrom(e){return new ki(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xi(this.comparator);return t.data=e,t}}class ki{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ti(e){return e.hasNext()?e.getNext():void 0}class Ni{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new Ni([])}unionWith(e){let t=new xi(Kr.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Br(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}function Di(){return"undefined"!=typeof atob}class Oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Oi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const Pi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(e){if(Ar(!!e),"string"==typeof e){let t=0;const n=Pi.exec(e);if(Ar(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Li(e.seconds),nanos:Li(e.nanos)}}function Li(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mi(e){return"string"==typeof e?Oi.fromBase64String(e):Oi.fromUint8Array(e)}function Fi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ji(e){const t=e.mapValue.fields.__previous_value__;return Fi(t)?ji(t):t}function Bi(e){const t=Ri(e.mapValue.fields.__local_write_time__.timestampValue);return new Vr(t.seconds,t.nanos)}class Ui{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class Vi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}function zi(e){return null==e}function qi(e){return 0===e&&1/e==-1/0}function $i(e){return"number"==typeof e&&Number.isInteger(e)&&!qi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Gi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ki={nullValue:"NULL_VALUE"};function Hi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fi(e)?4:ao(e)?9007199254740991:10:wr()}function Wi(e,t){if(e===t)return!0;const n=Hi(e);if(n!==Hi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bi(e).isEqual(Bi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ri(e.timestampValue),r=Ri(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Mi(e.bytesValue).isEqual(Mi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Li(e.geoPointValue.latitude)===Li(t.geoPointValue.latitude)&&Li(e.geoPointValue.longitude)===Li(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Li(e.integerValue)===Li(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Li(e.doubleValue),r=Li(t.doubleValue);return n===r?qi(n)===qi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Br(e.arrayValue.values||[],t.arrayValue.values||[],Wi);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ai(n)!==Ai(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Wi(n[e],r[e])))return!1;return!0}(e,t);default:return wr()}}function Qi(e,t){return void 0!==(e.values||[]).find((e=>Wi(e,t)))}function Yi(e,t){if(e===t)return 0;const n=Hi(e),r=Hi(t);if(n!==r)return jr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Li(e.integerValue||e.doubleValue),r=Li(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ji(e.timestampValue,t.timestampValue);case 4:return Ji(Bi(e),Bi(t));case 5:return jr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Mi(e),r=Mi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=jr(n[e],r[e]);if(0!==t)return t}return jr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=jr(Li(e.latitude),Li(t.latitude));return 0!==n?n:jr(Li(e.longitude),Li(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Yi(n[e],r[e]);if(t)return t}return jr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gi.mapValue&&t===Gi.mapValue)return 0;if(e===Gi.mapValue)return 1;if(t===Gi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=jr(r[e],o[e]);if(0!==t)return t;const s=Yi(n[r[e]],i[o[e]]);if(0!==s)return s}return jr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wr()}}function Ji(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jr(e,t);const n=Ri(e),r=Ri(t),i=jr(n.seconds,r.seconds);return 0!==i?i:jr(n.nanos,r.nanos)}function Xi(e){return Zi(e)}function Zi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ri(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Hr.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Zi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Zi(e.fields[i])}`;return n+"}"}(e.mapValue):wr();var t,n}function eo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function to(e){return!!e&&"integerValue"in e}function no(e){return!!e&&"arrayValue"in e}function ro(e){return!!e&&"nullValue"in e}function io(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oo(e){return!!e&&"mapValue"in e}function so(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _i(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=so(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=so(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ao(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function uo(e){return"nullValue"in e?Ki:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?eo(Vi.empty(),Hr.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:wr()}function co(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?eo(Vi.empty(),Hr.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Gi:wr()}function lo(e,t){const n=Yi(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ho(e,t){const n=Yi(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class fo{constructor(e){this.value=e}static empty(){return new fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=so(t)}setAll(e){let t=Kr.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=so(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());oo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_i(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new fo(so(this.value))}}function po(e){const t=[];return _i(e.fields,((e,n)=>{const r=new Kr([e]);if(oo(n)){const e=po(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ni(t)}class mo{constructor(e,t,n,r,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new mo(e,0,zr.min(),zr.min(),fo.empty(),0)}static newFoundDocument(e,t,n){return new mo(e,1,t,zr.min(),n,0)}static newNoDocument(e,t){return new mo(e,2,t,zr.min(),fo.empty(),0)}static newUnknownDocument(e,t){return new mo(e,3,t,zr.min(),fo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mo(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class go{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ht=null}}function yo(e,t=null,n=[],r=[],i=null,o=null,s=null){return new go(e,t,n,r,i,o,s)}function vo(e){const t=Cr(e);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+Xi(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),zi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Xi(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Xi(e))).join(",")),t.ht=e}return t.ht}function bo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Lo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Wi(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fo(e.startAt,t.startAt)&&Fo(e.endAt,t.endAt)}function wo(e){return Hr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ao(e,t){return e.filters.filter((e=>e instanceof Io&&e.field.isEqual(t)))}function _o(e,t,n){let r=Ki,i=!0;for(const n of Ao(e,t)){let e=Ki,t=!0;switch(n.op){case"<":case"<=":e=uo(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=Ki}lo({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];lo({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Co(e,t,n){let r=Gi,i=!0;for(const n of Ao(e,t)){let e=Gi,t=!0;switch(n.op){case">=":case">":e=co(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=Gi}ho({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ho({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Io extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,n):new Eo(e,t,n):"array-contains"===t?new To(e,n):"in"===t?new No(e,n):"not-in"===t?new Do(e,n):"array-contains-any"===t?new Oo(e,n):new Io(e,t,n)}static lt(e,t,n){return"in"===t?new So(e,n):new xo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Yi(t,this.value)):null!==t&&Hi(this.value)===Hi(t)&&this.ft(Yi(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wr()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Eo extends Io{constructor(e,t,n){super(e,t,n),this.key=Hr.fromName(n.referenceValue)}matches(e){const t=Hr.comparator(e.key,this.key);return this.ft(t)}}class So extends Io{constructor(e,t){super(e,"in",t),this.keys=ko(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xo extends Io{constructor(e,t){super(e,"not-in",t),this.keys=ko(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ko(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Hr.fromName(e.referenceValue)))}class To extends Io{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return no(t)&&Qi(t.arrayValue,this.value)}}class No extends Io{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qi(this.value.arrayValue,t)}}class Do extends Io{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qi(this.value.arrayValue,t)}}class Oo extends Io{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!no(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Qi(this.value.arrayValue,e)))}}class Po{constructor(e,t){this.position=e,this.inclusive=t}}class Ro{constructor(e,t="asc"){this.field=e,this.dir=t}}function Lo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Mo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Hr.comparator(Hr.fromName(s.referenceValue),n.key):Yi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Fo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wi(e.position[n],t.position[n]))return!1;return!0}class jo{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this._t=null,this.wt=null,this.startAt,this.endAt}}function Bo(e,t,n,r,i,o,s,a){return new jo(e,t,n,r,i,o,s,a)}function Uo(e){return new jo(e)}function Vo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qo(e){for(const t of e.filters)if(t.dt())return t.field;return null}function $o(e){return null!==e.collectionGroup}function Go(e){const t=Cr(e);if(null===t._t){t._t=[];const e=qo(t),n=zo(t);if(null!==e&&null===n)e.isKeyField()||t._t.push(new Ro(e)),t._t.push(new Ro(Kr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t._t.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Ro(Kr.keyField(),e))}}}return t._t}function Ko(e){const t=Cr(e);if(!t.wt)if("F"===t.limitType)t.wt=yo(t.path,t.collectionGroup,Go(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Go(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Ro(n.field,t))}const n=t.endAt?new Po(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Po(t.startAt.position,t.startAt.inclusive):null;t.wt=yo(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.wt}function Ho(e,t,n){return new jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wo(e,t){return bo(Ko(e),Ko(t))&&e.limitType===t.limitType}function Qo(e){return`${vo(Ko(e))}|lt:${e.limitType}`}function Yo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Xi(t.value)}`;var t})).join(", ")}]`),zi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Xi(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Xi(e))).join(",")),`Target(${t})`}(Ko(e))}; limitType=${e.limitType})`}function Jo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Hr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Mo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Go(e),t)||e.endAt&&!function(e,t,n){const r=Mo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Go(e),t))}(e,t)}function Xo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zo(e){return(t,n)=>{let r=!1;for(const i of Go(e)){const e=es(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function es(e,t,n){const r=e.field.isKeyField()?Hr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yi(r,i):wr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wr()}}function ts(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qi(t)?"-0":t}}function ns(e){return{integerValue:""+e}}function rs(e,t){return $i(t)?ns(t):ts(e,t)}class is{constructor(){this._=void 0}}function os(e,t,n){return e instanceof us?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cs?ls(e,t):e instanceof ds?hs(e,t):function(e,t){const n=as(e,t),r=ps(n)+ps(e.yt);return to(n)&&to(e.yt)?ns(r):ts(e.It,r)}(e,t)}function ss(e,t,n){return e instanceof cs?ls(e,t):e instanceof ds?hs(e,t):n}function as(e,t){return e instanceof fs?to(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class us extends is{}class cs extends is{constructor(e){super(),this.elements=e}}function ls(e,t){const n=ms(t);for(const t of e.elements)n.some((e=>Wi(e,t)))||n.push(t);return{arrayValue:{values:n}}}class ds extends is{constructor(e){super(),this.elements=e}}function hs(e,t){let n=ms(t);for(const t of e.elements)n=n.filter((e=>!Wi(e,t)));return{arrayValue:{values:n}}}class fs extends is{constructor(e,t){super(),this.It=e,this.yt=t}}function ps(e){return Li(e.integerValue||e.doubleValue)}function ms(e){return no(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gs{constructor(e,t){this.field=e,this.transform=t}}class ys{constructor(e,t){this.version=e,this.transformResults=t}}class vs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ws{}function As(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ds(e.key,vs.none()):new Ss(e.key,e.data,vs.none());{const n=e.data,r=fo.empty();let i=new xi(Kr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xs(e.key,r,new Ni(i.toArray()),vs.none())}}function _s(e,t,n){e instanceof Ss?function(e,t,n){const r=e.value.clone(),i=Ts(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xs?function(e,t,n){if(!bs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ts(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ks(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cs(e,t,n,r){return e instanceof Ss?function(e,t,n,r){if(!bs(e.precondition,t))return n;const i=e.value.clone(),o=Ns(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xs?function(e,t,n,r){if(!bs(e.precondition,t))return n;const i=Ns(e.fieldTransforms,r,t),o=t.data;return o.setAll(ks(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return bs(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Is(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=as(r.transform,e||null);null!=i&&(null===n&&(n=fo.empty()),n.set(r.field,i))}return n||null}function Es(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Br(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cs&&t instanceof cs||e instanceof ds&&t instanceof ds?Br(e.elements,t.elements,Wi):e instanceof fs&&t instanceof fs?Wi(e.yt,t.yt):e instanceof us&&t instanceof us}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ss extends ws{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xs extends ws{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ks(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ts(e,t,n){const r=new Map;Ar(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ss(s,a,n[i]))}return r}function Ns(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,os(e,o,t))}return r}class Ds extends ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Os extends ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ps{constructor(e){this.count=e}}var Rs,Ls;function Ms(e){switch(e){default:return wr();case Ir.CANCELLED:case Ir.UNKNOWN:case Ir.DEADLINE_EXCEEDED:case Ir.RESOURCE_EXHAUSTED:case Ir.INTERNAL:case Ir.UNAVAILABLE:case Ir.UNAUTHENTICATED:return!1;case Ir.INVALID_ARGUMENT:case Ir.NOT_FOUND:case Ir.ALREADY_EXISTS:case Ir.PERMISSION_DENIED:case Ir.FAILED_PRECONDITION:case Ir.ABORTED:case Ir.OUT_OF_RANGE:case Ir.UNIMPLEMENTED:case Ir.DATA_LOSS:return!0}}function Fs(e){if(void 0===e)return yr("GRPC error has no .code"),Ir.UNKNOWN;switch(e){case Rs.OK:return Ir.OK;case Rs.CANCELLED:return Ir.CANCELLED;case Rs.UNKNOWN:return Ir.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return Ir.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return Ir.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return Ir.INTERNAL;case Rs.UNAVAILABLE:return Ir.UNAVAILABLE;case Rs.UNAUTHENTICATED:return Ir.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return Ir.INVALID_ARGUMENT;case Rs.NOT_FOUND:return Ir.NOT_FOUND;case Rs.ALREADY_EXISTS:return Ir.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return Ir.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return Ir.FAILED_PRECONDITION;case Rs.ABORTED:return Ir.ABORTED;case Rs.OUT_OF_RANGE:return Ir.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return Ir.UNIMPLEMENTED;case Rs.DATA_LOSS:return Ir.DATA_LOSS;default:return wr()}}(Ls=Rs||(Rs={}))[Ls.OK=0]="OK",Ls[Ls.CANCELLED=1]="CANCELLED",Ls[Ls.UNKNOWN=2]="UNKNOWN",Ls[Ls.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ls[Ls.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ls[Ls.NOT_FOUND=5]="NOT_FOUND",Ls[Ls.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ls[Ls.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ls[Ls.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ls[Ls.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ls[Ls.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ls[Ls.ABORTED=10]="ABORTED",Ls[Ls.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ls[Ls.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ls[Ls.INTERNAL=13]="INTERNAL",Ls[Ls.UNAVAILABLE=14]="UNAVAILABLE",Ls[Ls.DATA_LOSS=15]="DATA_LOSS";class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Ci(this.inner)}size(){return this.innerSize}}const Bs=new Ii(Hr.comparator);function Us(){return Bs}const Vs=new Ii(Hr.comparator);function zs(...e){let t=Vs;for(const n of e)t=t.insert(n.key,n);return t}function qs(e){let t=Vs;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function $s(){return Ks()}function Gs(){return Ks()}function Ks(){return new js((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Hs=new Ii(Hr.comparator),Ws=new xi(Hr.comparator);function Qs(...e){let t=Ws;for(const n of e)t=t.add(n);return t}const Ys=new xi(jr);function Js(){return Ys}class Xs{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Zs.createSynthesizedTargetChangeForCurrentChange(e,t)),new Xs(zr.min(),n,Js(),Us(),Qs())}}class Zs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Zs(Oi.EMPTY_BYTE_STRING,t,Qs(),Qs(),Qs())}}class ea{constructor(e,t,n,r){this.Tt=e,this.removedTargetIds=t,this.key=n,this.Et=r}}class ta{constructor(e,t){this.targetId=e,this.At=t}}class na{constructor(e,t,n=Oi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ra{constructor(){this.Rt=0,this.bt=sa(),this.Pt=Oi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Qs(),t=Qs(),n=Qs();return this.bt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wr()}})),new Zs(this.Pt,this.vt,e,t,n)}Nt(){this.Vt=!1,this.bt=sa()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class ia{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Us(),this.qt=oa(),this.Kt=new xi(jr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,(t=>{const n=this.zt(t);switch(e.state){case 0:this.Ht(t)&&n.Ct(e.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(e.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(n.$t(),n.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),n.Ct(e.resumeToken));break;default:wr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach(((e,n)=>{this.Ht(n)&&t(n)}))}Yt(e){const t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){const e=r.target;if(wo(e))if(0===n){const n=new Hr(e.path);this.jt(t,n,mo.newNoDocument(n,zr.min()))}else Ar(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach(((n,r)=>{const i=this.Xt(r);if(i){if(n.current&&wo(i.target)){const t=new Hr(i.target.path);null!==this.Ut.get(t)||this.ee(r,t)||this.jt(r,t,mo.newNoDocument(t,e))}n.Dt&&(t.set(r,n.xt()),n.Nt())}}));let n=Qs();this.qt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Ut.forEach(((t,n)=>n.setReadTime(e)));const r=new Xs(e,t,this.Kt,this.Ut,n);return this.Ut=Us(),this.qt=oa(),this.Kt=new xi(jr),r}Qt(e,t){if(!this.Ht(e))return;const n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,n){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new ra,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new xi(jr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||gr("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new ra),this.Bt.getRemoteKeysForTarget(e).forEach((t=>{this.jt(e,t,null)}))}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function oa(){return new Ii(Hr.comparator)}function sa(){return new Ii(Hr.comparator)}const aa={asc:"ASCENDING",desc:"DESCENDING"},ua={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ca{constructor(e,t){this.databaseId=e,this.gt=t}}function la(e,t){return e.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function da(e,t){return e.gt?t.toBase64():t.toUint8Array()}function ha(e,t){return la(e,t.toTimestamp())}function fa(e){return Ar(!!e),zr.fromTimestamp(function(e){const t=Ri(e);return new Vr(t.seconds,t.nanos)}(e))}function pa(e,t){return function(e){return new $r(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ma(e){const t=$r.fromString(e);return Ar(Fa(t)),t}function ga(e,t){return pa(e.databaseId,t.path)}function ya(e,t){const n=ma(t);if(n.get(1)!==e.databaseId.projectId)throw new Er(Ir.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Er(Ir.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Hr(Aa(n))}function va(e,t){return pa(e.databaseId,t)}function ba(e){const t=ma(e);return 4===t.length?$r.emptyPath():Aa(t)}function wa(e){return new $r(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Aa(e){return Ar(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _a(e,t,n){return{name:ga(e,t),fields:n.value.mapValue.fields}}function Ca(e,t,n){const r=ya(e,t.name),i=fa(t.updateTime),o=new fo({mapValue:{fields:t.fields}}),s=mo.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ia(e,t){let n;if(t instanceof Ss)n={update:_a(e,t.key,t.value)};else if(t instanceof Ds)n={delete:ga(e,t.key)};else if(t instanceof xs)n={update:_a(e,t.key,t.data),updateMask:Ma(t.fieldMask)};else{if(!(t instanceof Os))return wr();n={verify:ga(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof us)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ds)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fs)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw wr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ha(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wr()}(e,t.precondition)),n}function Ea(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?vs.updateTime(fa(e.updateTime)):void 0!==e.exists?vs.exists(e.exists):vs.none()}(t.currentDocument):vs.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ar("REQUEST_TIME"===t.setToServerValue),n=new us;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new cs(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ds(e)}else"increment"in t?n=new fs(e,t.increment):wr();const r=Kr.fromServerFormat(t.fieldPath);return new gs(r,n)}(e,t))):[];if(t.update){t.update.name;const i=ya(e,t.update.name),o=new fo({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ni(t.map((e=>Kr.fromServerFormat(e))))}(t.updateMask);return new xs(i,o,e,n,r)}return new Ss(i,o,n,r)}if(t.delete){const r=ya(e,t.delete);return new Ds(r,n)}if(t.verify){const r=ya(e,t.verify);return new Os(r,n)}return wr()}function Sa(e,t){return{documents:[va(e,t.path)]}}function xa(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=va(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=va(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(io(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NAN"}};if(ro(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(io(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NAN"}};if(ro(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(e.field),op:Da(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Oa(e.field),direction:Na(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.gt||zi(t)?t:{value:t}}(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ka(e){let t=ba(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ar(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=Ta(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new Ro(Pa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,zi(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new Po(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Po(n,t)}(n.endAt)),Bo(t,i,s,o,a,"F",u,c)}function Ta(e){return e?void 0!==e.unaryFilter?[La(e)]:void 0!==e.fieldFilter?[Ra(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Ta(e))).reduce(((e,t)=>e.concat(t))):wr():[]}function Na(e){return aa[e]}function Da(e){return ua[e]}function Oa(e){return{fieldPath:e.canonicalString()}}function Pa(e){return Kr.fromServerFormat(e.fieldPath)}function Ra(e){return Io.create(Pa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wr()}}(e.fieldFilter.op),e.fieldFilter.value)}function La(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pa(e.unaryFilter.field);return Io.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Pa(e.unaryFilter.field);return Io.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pa(e.unaryFilter.field);return Io.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pa(e.unaryFilter.field);return Io.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wr()}}function Ma(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Fa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ja(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ua(t)),t=Ba(e.get(n),t);return Ua(t)}function Ba(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Ua(e){return e+""}function Va(e){const t=e.length;if(Ar(t>=2),2===t)return Ar(""===e.charAt(0)&&""===e.charAt(1)),$r.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&wr(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:wr()}o=t+2}return new $r(r)}const za=["userId","batchId"];function qa(e,t){return[e,ja(t)]}function $a(e,t,n){return[e,ja(t),n]}const Ga={},Ka=["prefixPath","collectionGroup","readTime","documentId"],Ha=["prefixPath","collectionGroup","documentId"],Wa=["collectionGroup","readTime","prefixPath","documentId"],Qa=["canonicalId","targetId"],Ya=["targetId","path"],Ja=["path","targetId"],Xa=["collectionId","parent"],Za=["indexId","uid"],eu=["uid","sequenceNumber"],tu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nu=["indexId","uid","orderedDocumentKey"],ru=["userId","collectionPath","documentId"],iu=["userId","collectionPath","largestBatchId"],ou=["userId","collectionGroup","largestBatchId"],su=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],au=[...su,"documentOverlays"],uu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cu=uu,lu=[...cu,"indexConfiguration","indexState","indexEntries"];class du extends si{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function hu(e,t){const n=Cr(e);return li.O(n.ie,t)}class fu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&_s(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cs(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cs(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Gs();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=As(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(zr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qs())}isEqual(e){return this.batchId===e.batchId&&Br(this.mutations,e.mutations,((e,t)=>Es(e,t)))&&Br(this.baseMutations,e.baseMutations,((e,t)=>Es(e,t)))}}class pu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ar(e.mutations.length===n.length);let r=Hs;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new pu(e,t,n,r)}}class mu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gu{constructor(e,t,n,r,i=zr.min(),o=zr.min(),s=Oi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yu{constructor(e){this.re=e}}function vu(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ga(e,t.key),fields:t.data.value.mapValue.fields,updateTime:la(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wu(t.version)};else{if(!t.isUnknownDocument())return wr();r.unknownDocument={path:n.path.toArray(),version:wu(t.version)}}return r}function bu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Au(e){const t=new Vr(e.seconds,e.nanoseconds);return zr.fromTimestamp(t)}function _u(e,t){const n=(t.baseMutations||[]).map((t=>Ea(e.re,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Ea(e.re,t))),i=Vr.fromMillis(t.localWriteTimeMs);return new fu(t.batchId,i,n,r)}function Cu(e){const t=Au(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Au(e.lastLimboFreeSnapshotVersion):zr.min();let r;var i;return void 0!==e.query.documents?(Ar(1===(i=e.query).documents.length),r=Ko(Uo(ba(i.documents[0])))):r=function(e){return Ko(ka(e))}(e.query),new gu(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Oi.fromBase64String(e.resumeToken))}function Iu(e,t){const n=wu(t.snapshotVersion),r=wu(t.lastLimboFreeSnapshotVersion);let i;i=wo(t.target)?Sa(e.re,t.target):xa(e.re,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vo(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Eu(e){const t=ka({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ho(t,t.limit,"L"):t}function Su(e,t){return new mu(t.largestBatchId,Ea(e.re,t.overlayMutation))}function xu(e,t){const n=t.path.lastSegment();return[e,ja(t.path.popLast()),n]}function ku(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wu(r.readTime),documentKey:ja(r.documentKey.path),largestBatchId:r.largestBatchId}}class Tu{getBundleMetadata(e,t){return Nu(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Au(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Nu(e).put({bundleId:(n=t).id,createTime:wu(fa(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Du(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Eu(t.bundledQuery),readTime:Au(t.readTime)};var t}))}saveNamedQuery(e,t){return Du(e).put(function(e){return{name:e.name,readTime:wu(fa(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Nu(e){return hu(e,"bundles")}function Du(e){return hu(e,"namedQueries")}class Ou{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){const n=t.uid||"";return new Ou(e,n)}getOverlay(e,t){return Pu(e).get(xu(this.userId,t)).next((e=>e?Su(this.It,e):null))}getOverlays(e,t){const n=$s();return ui.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new mu(t,i);r.push(this.ue(e,o))})),ui.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(ja(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Pu(e).Y("collectionPathOverlayIndex",r))})),ui.waitFor(i)}getOverlaysForCollection(e,t,n){const r=$s(),i=ja(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Pu(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Su(this.It,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=$s();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pu(e).Z({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Su(this.It,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ue(e,t){return Pu(e).put(function(e,t,n){const[r,i,o]=xu(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ia(e.re,n.mutation)}}(this.It,this.userId,t))}}function Pu(e){return hu(e,"documentOverlays")}class Ru{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Li(e.integerValue));else if("doubleValue"in e){const n=Li(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),qi(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.le(t,20),"string"==typeof n?t.de(n):(t.de(`${n.seconds||""}`),t.fe(n.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Mi(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.le(t,45),t.fe(n.latitude||0),t.fe(n.longitude||0)}else"mapValue"in e?ao(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):wr()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const n=e.fields||{};this.le(t,55);for(const e of Object.keys(n))this._e(e,t),this.ae(n[e],t)}pe(e,t){const n=e.values||[];this.le(t,50);for(const e of n)this.ae(e,t)}ge(e,t){this.le(t,37),Hr.fromName(e).path.forEach((e=>{this.le(t,60),this.Ie(e,t)}))}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Lu(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Mu(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Lu(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ru.Te=new Ru;class Fu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ae(n.value),n=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Pe(n.value),n=t.next();this.ve()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ae(e);else if(e<2048)this.Ae(960|e>>>6),this.Ae(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e);else{const e=t.codePointAt(0);this.Ae(240|e>>>18),this.Ae(128|63&e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e)}}this.Re()}Se(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Pe(e);else if(e<2048)this.Pe(960|e>>>6),this.Pe(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e);else{const e=t.codePointAt(0);this.Pe(240|e>>>18),this.Pe(128|63&e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e)}}this.ve()}De(e){const t=this.Ce(e),n=Mu(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Ne(e){const t=this.Ce(e),n=Mu(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class ju{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Bu{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Uu{constructor(){this.Be=new Fu,this.Le=new ju(this.Be),this.Ue=new Bu(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Vu{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Vu(this.indexId,this.documentKey,this.arrayValue,n)}}function zu(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=qu(e.arrayValue,t.arrayValue),0!==n?n:(n=qu(e.directionalValue,t.directionalValue),0!==n?n:Hr.comparator(e.documentKey,t.documentKey)))}function qu(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class $u{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const e=t;e.dt()?this.je=e:this.Qe.push(e)}}We(e){const t=Qr(e);if(void 0!==t&&!this.ze(t))return!1;const n=Yr(e);let r=0,i=0;for(;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){const e=n[r];if(!this.He(this.je,e)||!this.Je(this.Ge[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],e))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Gu{constructor(){this.Ye=new Ku}addToCollectionParentIndex(e,t){return this.Ye.add(t),ui.resolve()}getCollectionParents(e,t){return ui.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ui.resolve()}deleteFieldIndex(e,t){return ui.resolve()}getDocumentsMatchingTarget(e,t){return ui.resolve(null)}getIndexType(e,t){return ui.resolve(0)}getFieldIndexes(e,t){return ui.resolve([])}getNextCollectionGroupToUpdate(e){return ui.resolve(null)}getMinOffset(e,t){return ui.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,t){return ui.resolve(ri.min())}updateCollectionGroup(e,t,n){return ui.resolve()}updateIndexEntries(e,t){return ui.resolve()}}class Ku{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xi($r.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xi($r.comparator)).toArray()}}const Hu=new Uint8Array(0);class Wu{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ku,this.Ze=new js((e=>vo(e)),((e,t)=>bo(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Xe.add(t)}));const i={collectionId:n,parent:ja(r)};return Qu(e).put(i)}return ui.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ur(t),""],!1,!0);return Qu(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Va(r.parent))}return n}))}addFieldIndex(e,t){const n=Ju(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Xu(e);return i.next((e=>{n.put(ku(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Ju(e),r=Xu(e),i=Yu(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Yu(e);let r=!0;const i=new Map;return ui.forEach(this.tn(t),(t=>this.en(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Qs();const r=[];return ui.forEach(i,((i,o)=>{var s;gr("IndexedDbIndexManager",`Using index ${s=i,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${vo(t)}`);const a=function(e,t){const n=Qr(t);if(void 0===n)return null;for(const t of Ao(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(o,i),u=function(e,t){const n=new Map;for(const r of Yr(t))for(const t of Ao(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Yr(t)){const t=0===i.kind?_o(e,i.fieldPath,e.startAt):Co(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Po(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Yr(t)){const t=0===i.kind?Co(e,i.fieldPath,e.endAt):_o(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Po(n,r)}(o,i),d=this.nn(i,o,c),h=this.nn(i,o,l),f=this.sn(i,o,u),p=this.rn(i.indexId,a,d,c.inclusive,h,l.inclusive,f);return ui.forEach(p,(i=>n.J(i,t.limit).next((t=>{t.forEach((t=>{const n=Hr.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ui.resolve(null)}))}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),u=a/(null!=t?t.length:1),c=[];for(let l=0;l<a;++l){const a=t?this.on(t[l/u]):Hu,d=this.un(e,a,n[l%u],r),h=this.cn(e,a,i[l%u],o),f=s.map((t=>this.un(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}un(e,t,n,r){const i=new Vu(e,Hr.empty(),t,n);return r?i:i.Ke()}cn(e,t,n,r){const i=new Vu(e,Hr.empty(),t,n);return r?i.Ke():i}en(e,t){const n=new $u(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.We(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;return ui.forEach(this.tn(t),(t=>this.en(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new xi(Kr.comparator),n=!1;for(const r of e.filters){const e=r;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>n))}an(e,t){const n=new Uu;for(const r of Yr(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.qe(r.kind);Ru.Te.ce(e,i)}return n.$e()}on(e){const t=new Uu;return Ru.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const n=new Uu;return Ru.Te.ce(eo(this.databaseId,t),n.qe(function(e){const t=Yr(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}sn(e,t,n){if(null===n)return[];let r=[];r.push(new Uu);let i=0;for(const o of Yr(e)){const e=n[i++];for(const n of r)if(this.ln(t,o.fieldPath)&&no(e))r=this.fn(r,o,e);else{const t=n.qe(o.kind);Ru.Te.ce(e,t)}}return this.dn(r)}nn(e,t,n){return this.sn(e,t,n.position)}dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].$e();return t}fn(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new Uu;r.seed(n.$e()),Ru.Te.ce(e,r.qe(t.kind)),i.push(r)}return i}ln(e,t){return!!e.filters.find((e=>e instanceof Io&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Ju(e),r=Xu(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return ui.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ei(t.sequenceNumber,new ri(Au(t.readTime),new Hr(Va(t.documentKey)),t.largestBatchId)):ei.empty(),r=e.fields.map((([e,t])=>new Xr(Kr.fromServerFormat(e),t)));return new Wr(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:jr(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Ju(e),i=Xu(e);return this._n(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ui.forEach(t,(t=>i.put(ku(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ui.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ui.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ui.forEach(i,(n=>this.wn(e,t,n).next((t=>{const i=this.mn(r,n);return t.isEqual(i)?ui.resolve():this.gn(e,r,n,t,i)})))))))}))}yn(e,t,n,r){return Yu(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}pn(e,t,n,r){return Yu(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const r=Yu(e);let i=new xi(zu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},((e,r)=>{i=i.add(new Vu(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}mn(e,t){let n=new xi(zu);const r=this.an(t,e);if(null==r)return n;const i=Qr(t);if(null!=i){const o=e.data.field(i.fieldPath);if(no(o))for(const i of o.arrayValue.values||[])n=n.add(new Vu(t.indexId,e.key,this.on(i),r))}else n=n.add(new Vu(t.indexId,e.key,Hu,r));return n}gn(e,t,n,r,i){gr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Ti(o),u=Ti(s);for(;a||u;){let e=!1,t=!1;if(a&&u){const r=n(a,u);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(u),u=Ti(s)):t?(i(a),a=Ti(o)):(a=Ti(o),u=Ti(s))}}(r,i,zu,(r=>{o.push(this.yn(e,t,n,r))}),(r=>{o.push(this.pn(e,t,n,r))})),ui.waitFor(o)}_n(e){let t=1;return Xu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>zu(e,t))).filter(((e,t,n)=>!t||0!==zu(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=zu(i,e),o=zu(i,t);if(0===n)r[0]=e.Ke();else if(n>0&&o<0)r.push(i),r.push(i.Ke());else if(o>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2)i.push(IDBKeyRange.bound([r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,Hu,[]],[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,Hu,[]]));return i}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zu)}getMinOffset(e,t){return ui.mapArray(this.tn(t),(t=>this.en(e,t).next((e=>e||wr())))).next(Zu)}}function Qu(e){return hu(e,"collectionParents")}function Yu(e){return hu(e,"indexEntries")}function Ju(e){return hu(e,"indexConfiguration")}function Xu(e){return hu(e,"indexState")}function Zu(e){Ar(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ii(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ri(t.readTime,t.documentKey,n)}const ec={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new tc(e,tc.DEFAULT_COLLECTION_PERCENTILE,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nc(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:s},((e,t,n)=>(a++,n.delete())));o.push(u.next((()=>{Ar(1===a)})));const c=[];for(const e of n.mutations){const r=$a(t,e.key.path,n.batchId);o.push(i.delete(r)),c.push(e.key)}return ui.waitFor(o).next((()=>c))}function rc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wr();t=e.noDocument}return JSON.stringify(t).length}tc.DEFAULT_COLLECTION_PERCENTILE=10,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tc.DEFAULT=new tc(41943040,tc.DEFAULT_COLLECTION_PERCENTILE,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tc.DISABLED=new tc(-1,0,0);class ic{constructor(e,t,n,r){this.userId=e,this.It=t,this.indexManager=n,this.referenceDelegate=r,this.In={}}static oe(e,t,n,r){Ar(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ic(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sc(e).Z({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=ac(e),o=sc(e);return o.add({}).next((s=>{Ar("number"==typeof s);const a=new fu(s,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>Ia(e.re,t))),i=n.mutations.map((t=>Ia(e.re,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.It,this.userId,a),c=[];let l=new xi(((e,t)=>jr(e.canonicalString(),t.canonicalString())));for(const e of r){const t=$a(this.userId,e.key.path,s);l=l.add(e.key.path.popLast()),c.push(o.put(u)),c.push(i.put(t,Ga))}return l.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.In[s]=a.keys()})),ui.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return sc(e).get(t).next((e=>e?(Ar(e.userId===this.userId),_u(this.It,e)):null))}Tn(e,t){return this.In[t]?ui.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.In[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return sc(e).Z({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Ar(t.batchId>=n),i=_u(this.It,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return sc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sc(e).W("userMutationsIndex",t).next((e=>e.map((e=>_u(this.It,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=qa(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ac(e).Z({range:r},((n,r,o)=>{const[s,a,u]=n,c=Va(a);if(s===this.userId&&t.path.isEqual(c))return sc(e).get(u).next((e=>{if(!e)throw wr();Ar(e.userId===this.userId),i.push(_u(this.It,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xi(jr);const r=[];return t.forEach((t=>{const i=qa(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=ac(e).Z({range:o},((e,r,i)=>{const[o,s,a]=e,u=Va(s);o===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()}));r.push(s)})),ui.waitFor(r).next((()=>this.En(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=qa(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new xi(jr);return ac(e).Z({range:o},((e,t,i)=>{const[o,a,u]=e,c=Va(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(u)):i.done()})).next((()=>this.En(e,s)))}En(e,t){const n=[],r=[];return t.forEach((t=>{r.push(sc(e).get(t).next((e=>{if(null===e)throw wr();Ar(e.userId===this.userId),n.push(_u(this.It,e))})))})),ui.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return nc(e.ie,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.An(t.batchId)})),ui.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ui.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return ac(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Va(e[1]);r.push(t)}else n.done()})).next((()=>{Ar(0===r.length)}))}))}containsKey(e,t){return oc(e,this.userId,t)}Rn(e){return uc(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function oc(e,t,n){const r=qa(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return ac(e).Z({range:o,X:!0},((e,n,r)=>{const[o,a,u]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function sc(e){return hu(e,"mutations")}function ac(e){return hu(e,"documentMutations")}function uc(e){return hu(e,"mutationQueues")}class cc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new cc(0)}static vn(){return new cc(-1)}}class lc{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next((t=>{const n=new cc(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Vn(e).next((e=>zr.fromTimestamp(new Vr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Vn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Vn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r))))}addTargetData(e,t){return this.Dn(e,t).next((()=>this.Vn(e).next((n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>dc(e).delete(t.targetId))).next((()=>this.Vn(e))).next((t=>(Ar(t.targetCount>0),t.targetCount-=1,this.Sn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return dc(e).Z(((o,s)=>{const a=Cu(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ui.waitFor(i))).next((()=>r))}forEachTarget(e,t){return dc(e).Z(((e,n)=>{const r=Cu(n);t(r)}))}Vn(e){return hc(e).get("targetGlobalKey").next((e=>(Ar(null!==e),e)))}Sn(e,t){return hc(e).put("targetGlobalKey",t)}Dn(e,t){return dc(e).put(Iu(this.It,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=vo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return dc(e).Z({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Cu(n);bo(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=fc(e);return t.forEach((t=>{const o=ja(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),ui.waitFor(r)}removeMatchingKeys(e,t,n){const r=fc(e);return ui.forEach(t,(t=>{const i=ja(t.path);return ui.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=fc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fc(e);let i=Qs();return r.Z({range:n,X:!0},((e,t,n)=>{const r=Va(e[1]),o=new Hr(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=ja(t.path),r=IDBKeyRange.bound([n],[Ur(n)],!1,!0);let i=0;return fc(e).Z({index:"documentTargetsIndex",X:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}se(e,t){return dc(e).get(t).next((e=>e?Cu(e):null))}}function dc(e){return hu(e,"targets")}function hc(e){return hu(e,"targetGlobal")}function fc(e){return hu(e,"targetDocuments")}function pc([e,t],[n,r]){const i=jr(e,n);return 0===i?jr(t,r):i}class mc{constructor(e){this.xn=e,this.buffer=new xi(pc),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();pc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){gr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fi(e)?gr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ai(e)}await this.Fn(3e5)}))}}class yc{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ui.resolve(wi.at);const n=new mc(t);return this.$n.forEachTarget(e,(e=>n.Mn(e.sequenceNumber))).next((()=>this.$n.Ln(e,(e=>n.Mn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gr("LruGarbageCollector","Garbage collection skipped; disabled"),ui.resolve(ec)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(gr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ec):this.Un(e,t)))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let n,r,i,o,a,u,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(gr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),pr()<=s.in.DEBUG&&gr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(u-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-u)+"ms\n"+`Total Duration: ${c-l}ms`),ui.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class vc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new yc(e,t)}(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}qn(e){let t=0;return this.Ln(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,((e,n)=>t(n)))}addReference(e,t,n){return bc(e,n)}removeReference(e,t,n){return bc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return bc(e,t)}Gn(e,t){return function(e,t){let n=!1;return uc(e).tt((r=>oc(e,r,t).next((e=>(e&&(n=!0),ui.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Kn(e,((o,s)=>{if(s<=t){const t=this.Gn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,zr.min()),fc(e).delete([0,ja(o.path)]))))}));r.push(t)}})).next((()=>ui.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return bc(e,t)}Kn(e,t){const n=fc(e);let r,i=wi.at;return n.Z({index:"documentTargetsIndex"},(([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==wi.at&&t(new Hr(Va(r)),i),i=s,r=o):i=wi.at})).next((()=>{i!==wi.at&&t(new Hr(Va(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bc(e,t){return fc(e).put(function(e,t){return{targetId:0,path:ja(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class wc{constructor(){this.changes=new js((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ui.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ac{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Ec(e).put(n)}removeEntry(e,t,n){return Ec(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bu(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Qn(e,n))))}getEntry(e,t){let n=mo.newInvalidDocument(t);return Ec(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sc(t))},((e,r)=>{n=this.jn(t,r)})).next((()=>n))}Wn(e,t){let n={size:0,document:mo.newInvalidDocument(t)};return Ec(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sc(t))},((e,r)=>{n={document:this.jn(t,r),size:rc(r)}})).next((()=>n))}getEntries(e,t){let n=Us();return this.zn(e,t,((e,t)=>{const r=this.jn(e,t);n=n.insert(e,r)})).next((()=>n))}Hn(e,t){let n=Us(),r=new Ii(Hr.comparator);return this.zn(e,t,((e,t)=>{const i=this.jn(e,t);n=n.insert(e,i),r=r.insert(e,rc(t))})).next((()=>({documents:n,Jn:r})))}zn(e,t,n){if(t.isEmpty())return ui.resolve();let r=new xi(kc);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Sc(r.first()),Sc(r.last())),o=r.getIterator();let s=o.getNext();return Ec(e).Z({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Hr.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&kc(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.j(Sc(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),bu(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ec(e).W(IDBKeyRange.bound(r,i,!0)).next((e=>{let t=Us();for(const n of e){const e=this.jn(Hr.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,n,r){let i=Us();const o=xc(t,n),s=xc(t,ri.max());return Ec(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.jn(Hr.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Cc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Ic(e).get("remoteDocumentGlobalKey").next((e=>(Ar(!!e),e)))}Qn(e,t){return Ic(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ca(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Hr.fromSegments(t.noDocument.path),r=Au(t.noDocument.readTime);n=mo.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return wr();{const e=Hr.fromSegments(t.unknownDocument.path),r=Au(t.unknownDocument.version);n=mo.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Vr(e[0],e[1]);return zr.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!e.isNoDocument()||!e.version.isEqual(zr.min()))return e}return mo.newInvalidDocument(e)}}function _c(e){return new Ac(e)}class Cc extends wc{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new js((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new xi(((e,t)=>jr(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Xn.get(i);if(t.push(this.Yn.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=vu(this.Yn.It,o);r=r.add(i.path.popLast());const u=rc(a);n+=u-s.size,t.push(this.Yn.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=vu(this.Yn.It,o.convertToNoDocument(zr.min()));t.push(this.Yn.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Yn.updateMetadata(e,n)),ui.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next((e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next((({documents:e,Jn:t})=>(t.forEach(((t,n)=>{this.Xn.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function Ic(e){return hu(e,"remoteDocumentGlobal")}function Ec(e){return hu(e,"remoteDocumentsV14")}function Sc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xc(e,t){const n=t.documentKey.path.toArray();return[e,bu(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kc(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=jr(n[e],r[e]),i)return i;return i=jr(n.length,r.length),i||(i=jr(n[n.length-2],r[r.length-2]),i||jr(n[n.length-1],r[r.length-1]))}class Tc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.getBaseDocument(e,t,n)))).next((e=>(null!==n&&Cs(n.mutation,e,Ni.empty(),Vr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Qs()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Qs()){const r=$s();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=zs();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=$s();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Qs())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Us();const o=Ks(),s=Ks();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof xs)?i=i.insert(t.key,t):void 0!==s&&(o.set(t.key,s.mutation.getFieldMask()),Cs(s.mutation,t,s.mutation.getFieldMask(),Vr.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Tc(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ks();let r=new Ii(((e,t)=>e-t)),i=Qs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ni.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Qs()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,u=r.value,c=Gs();u.forEach((e=>{if(!i.has(e)){const r=As(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ui.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Hr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$o(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ui.resolve($s());let s=-1,a=i;return o.next((t=>ui.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ui.resolve():this.getBaseDocument(e,t,n).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Qs()))).next((e=>({batchId:s,changes:qs(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Hr(t)).next((e=>{let t=zs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=zs();return this.indexManager.getCollectionParents(e,r).next((o=>ui.forEach(o,(o=>{const s=function(e,t){return new jo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,mo.newInvalidDocument(n)))}));let n=zs();return r.forEach(((r,i)=>{const o=e.get(r);void 0!==o&&Cs(o.mutation,i,Ni.empty(),Vr.now()),Jo(t,i)&&(n=n.insert(r,i))})),n}))}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ui.resolve(mo.newInvalidDocument(t))}}class Dc{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ui.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:fa(n.createTime)}),ui.resolve()}getNamedQuery(e,t){return ui.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Eu(e.bundledQuery),readTime:fa(e.readTime)}}(t)),ui.resolve()}}class Oc{constructor(){this.overlays=new Ii(Hr.comparator),this.es=new Map}getOverlay(e,t){return ui.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$s();return ui.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ue(e,t,r)})),ui.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.es.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.es.delete(n)),ui.resolve()}getOverlaysForCollection(e,t,n){const r=$s(),i=t.length+1,o=new Hr(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ui.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ii(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=$s(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=$s(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return ui.resolve(s)}ue(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new mu(t,n));let i=this.es.get(t);void 0===i&&(i=Qs(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}class Pc{constructor(){this.ns=new xi(Rc.ss),this.rs=new xi(Rc.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Rc(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.cs(new Rc(e,t))}hs(e,t){e.forEach((e=>this.removeReference(e,t)))}ls(e){const t=new Hr(new $r([])),n=new Rc(t,e),r=new Rc(t,e+1),i=[];return this.rs.forEachInRange([n,r],(e=>{this.cs(e),i.push(e.key)})),i}fs(){this.ns.forEach((e=>this.cs(e)))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Hr(new $r([])),n=new Rc(t,e),r=new Rc(t,e+1);let i=Qs();return this.rs.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Rc(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rc{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Hr.comparator(e.key,t.key)||jr(e._s,t._s)}static os(e,t){return jr(e._s,t._s)||Hr.comparator(e.key,t.key)}}class Lc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new xi(Rc.ss)}checkEmpty(e){return ui.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fu(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.gs=this.gs.add(new Rc(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ui.resolve(o)}lookupMutationBatch(e,t){return ui.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ps(n),i=r<0?0:r;return ui.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ui.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ui.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rc(t,0),r=new Rc(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],(e=>{const t=this.ys(e._s);i.push(t)})),ui.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xi(jr);return t.forEach((e=>{const t=new Rc(e,0),r=new Rc(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,r],(e=>{n=n.add(e._s)}))})),ui.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Hr.isDocumentKey(i)||(i=i.child(""));const o=new Rc(new Hr(i),0);let s=new xi(jr);return this.gs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e._s)),!0)}),o),ui.resolve(this.Is(s))}Is(e){const t=[];return e.forEach((e=>{const n=this.ys(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ar(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return ui.forEach(t.mutations,(r=>{const i=new Rc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.gs=n}))}An(e){}containsKey(e,t){const n=new Rc(t,0),r=this.gs.firstAfterOrEqual(n);return ui.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ui.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mc{constructor(e){this.Es=e,this.docs=new Ii(Hr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ui.resolve(n?n.document.mutableCopy():mo.newInvalidDocument(t))}getEntries(e,t){let n=Us();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():mo.newInvalidDocument(e))})),ui.resolve(n)}getAllFromCollection(e,t,n){let r=Us();const i=new Hr(t.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||ii(ni(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return ui.resolve(r)}getAllFromCollectionGroup(e,t,n,r){wr()}As(e,t){return ui.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Fc(this)}getSize(e){return ui.resolve(this.size)}}class Fc extends wc{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)})),ui.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class jc{constructor(e){this.persistence=e,this.Rs=new js((e=>vo(e)),bo),this.lastRemoteSnapshotVersion=zr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pc,this.targetCount=0,this.vs=cc.Pn()}forEachTarget(e,t){return this.Rs.forEach(((e,n)=>t(n))),ui.resolve()}getLastRemoteSnapshotVersion(e){return ui.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ui.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ui.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ui.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ui.resolve()}updateTargetData(e,t){return this.Dn(t),ui.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ui.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Rs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),ui.waitFor(i).next((()=>r))}getTargetCount(e){return ui.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return ui.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),ui.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ui.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ui.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return ui.resolve(n)}containsKey(e,t){return ui.resolve(this.Ps.containsKey(t))}}class Bc{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new wi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new jc(this),this.indexManager=new Gu,this.remoteDocumentCache=function(e){return new Mc(e)}((e=>this.referenceDelegate.xs(e))),this.It=new yu(t),this.Ns=new Dc(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new Lc(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){gr("MemoryPersistence","Starting transaction:",e);const r=new Uc(this.Ss.next());return this.referenceDelegate.ks(),n(r).next((e=>this.referenceDelegate.Ms(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Os(e,t){return ui.or(Object.values(this.Vs).map((n=>()=>n.containsKey(e,t))))}}class Uc extends si{constructor(e){super(),this.currentSequenceNumber=e}}class Vc{constructor(e){this.persistence=e,this.Fs=new Pc,this.$s=null}static Bs(e){return new Vc(e)}get Ls(){if(this.$s)return this.$s;throw wr()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ui.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ui.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ui.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach((e=>this.Ls.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ls.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ui.forEach(this.Ls,(n=>{const r=Hr.fromPath(n);return this.Us(e,r).next((e=>{e||t.removeEntry(r,zr.min())}))})).next((()=>(this.$s=null,t.apply(e))))}updateLimboDocument(e,t){return this.Us(e,t).next((e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())}))}xs(e){return 0}Us(e,t){return ui.or([()=>ui.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class zc{constructor(e){this.It=e}$(e,t,n,r){const i=new ci("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",za,{unique:!0}),e.createObjectStore("documentMutations")}(e),qc(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=ui.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),qc(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zr.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",za,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ui.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.qs(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(i))))),n<7&&r>=7&&(o=o.next((()=>this.Gs(i)))),n<8&&r>=8&&(o=o.next((()=>this.Qs(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.js(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ru});t.createIndex("collectionPathOverlayIndex",iu,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ou,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ka});t.createIndex("documentKeyIndex",Ha),t.createIndex("collectionGroupIndex",Wa)}(e))).next((()=>this.Ws(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.zs(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Za}).createIndex("sequenceNumberIndex",eu,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:tu}).createIndex("documentKeyIndex",nu,{unique:!1})}(e)))),o}Ks(e){let t=0;return e.store("remoteDocuments").Z(((e,n)=>{t+=rc(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}qs(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>ui.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>ui.forEach(n,(n=>{Ar(n.userId===t.userId);const r=_u(this.It,n);return nc(e,t.userId,r).next((()=>{}))}))))}))))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Z(((n,i)=>{const o=new $r(n),s=function(e){return[0,ja(e)]}(o);r.push(t.get(s).next((n=>n?ui.resolve():(n=>t.put({targetId:0,path:ja(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>ui.waitFor(r)))}))}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Xa});const n=t.store("collectionParents"),r=new Ku,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ja(r)})}};return t.store("remoteDocuments").Z({X:!0},((e,t)=>{const n=new $r(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Z({X:!0},(([e,t,n],r)=>{const o=Va(t);return i(o.popLast())}))))}js(e){const t=e.store("targets");return t.Z(((e,n)=>{const r=Cu(n),i=Iu(this.It,r);return t.put(i)}))}Ws(e,t){const n=t.store("remoteDocuments"),r=[];return n.Z(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new Hr($r.fromString(s.document.name).popFirst(5)):s.noDocument?Hr.fromSegments(s.noDocument.path):s.unknownDocument?Hr.fromSegments(s.unknownDocument.path):wr()).path.toArray();var s;const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>ui.waitFor(r)))}zs(e,t){const n=t.store("mutations"),r=_c(this.It),i=new Bc(Vc.Bs,this.It.re);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Qs();_u(this.It,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ui.forEach(n,((e,n)=>{const o=new dr(n),s=Ou.oe(this.It,o),a=i.getIndexManager(o),u=ic.oe(o,this.It,a,i.referenceDelegate);return new Nc(r,u,s,a).recalculateAndSaveOverlaysForDocumentKeys(new du(t,wi.at),e).next()}))}))}}function qc(e){e.createObjectStore("targetDocuments",{keyPath:Ya}).createIndex("documentTargetsIndex",Ja,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qa,{unique:!0}),e.createObjectStore("targetGlobal")}const $c="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gc{constructor(e,t,n,r,i,o,s,a,u,c,l=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=i,this.window=o,this.document=s,this.Js=u,this.Ys=c,this.Xs=l,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!Gc.C())throw new Er(Ir.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vc(this,r),this.ii=t+"main",this.It=new yu(a),this.ri=new li(this.ii,this.Xs,new zc(this.It)),this.Cs=new lc(this.referenceDelegate,this.It),this.remoteDocumentCache=_c(this.It),this.Ns=new Tu,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===c&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Er(Ir.FAILED_PRECONDITION,$c);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Cs.getHighestSequenceNumber(e)))})).then((e=>{this.Ss=new wi(e,this.Js)})).then((()=>{this.Ds=!0})).catch((e=>(this.ri&&this.ri.close(),Promise.reject(e))))}li(e){return this.si=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((async()=>{this.started&&await this.ui()})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Hc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))))}))})).next((()=>this.di(e))).next((t=>this.isPrimary&&!t?this._i(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(fi(e))return gr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable((()=>this.si(e))),this.isPrimary=e}))}fi(e){return Kc(e).get("owner").next((e=>ui.resolve(this.mi(e))))}gi(e){return Hc(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=hu(e,"clientMetadata");return t.W().next((e=>{const n=this.Ii(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ui.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.oi)for(const t of e)this.oi.removeItem(this.Ti(t.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ui().then((()=>this.yi())).then((()=>this.hi()))))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ui.resolve(!0):Kc(e).get("owner").next((t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Er(Ir.FAILED_PRECONDITION,$c);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hc(e).W().next((e=>void 0===this.Ii(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&gr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new du(e,wi.at);return this._i(t).next((()=>this.gi(t)))})),this.ri.close(),this.Pi()}Ii(e,t){return e.filter((e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId)))}vi(){return this.runTransaction("getActiveClients","readonly",(e=>Hc(e).W().next((e=>this.Ii(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ds}getMutationQueue(e,t){return ic.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Wu(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Ou.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){gr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.Xs)?lu:14===o?cu:13===o?uu:12===o?au:11===o?su:void wr();var o;let s;return this.ri.runTransaction(e,r,i,(r=>(s=new du(r,this.Ss?this.Ss.next():wi.at),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.di(s))).next((t=>{if(!t)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))),new Er(Ir.FAILED_PRECONDITION,oi);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.Vi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Vi(e){return Kc(e).get("owner").next((e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Er(Ir.FAILED_PRECONDITION,$c)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kc(e).put("owner",t)}static C(){return li.C()}_i(e){const t=Kc(e);return t.get("owner").next((e=>this.mi(e)?(gr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ui.resolve()))}pi(e,t){const n=Date.now();return!(e<n-t||e>n&&(yr(`Detected an update time that is in the future: ${e} > ${n}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ui())))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,a.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return gr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return yr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kc(e){return hu(e,"owner")}function Hc(e){return hu(e,"clientMetadata")}function Wc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Qc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=r}static Ci(e,t){let n=Qs(),r=Qs();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Qc(e,t.fromCache,n,r)}}class Yc{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.ki(e,t).next((i=>i||this.Mi(e,t,r,n))).next((n=>n||this.Oi(e,t)))}ki(e,t){if(Vo(t))return ui.resolve(null);let n=Ko(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ho(t,null,"F"),n=Ko(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Qs(...r);return this.Ni.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Fi(t,r);return this.$i(t,o,i,n.readTime)?this.ki(e,Ho(t,null,"F")):this.Bi(e,o,t,n)}))))})))))}Mi(e,t,n,r){return Vo(t)||r.isEqual(zr.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((i=>{const o=this.Fi(t,i);return this.$i(t,o,n,r)?this.Oi(e,t):(pr()<=s.in.DEBUG&&gr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yo(t)),this.Bi(e,o,t,ti(r,-1)))}))}Fi(e,t){let n=new xi(Zo(e));return t.forEach(((t,r)=>{Jo(e,r)&&(n=n.add(r))})),n}$i(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Oi(e,t){return pr()<=s.in.DEBUG&&gr("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.Ni.getDocumentsMatchingQuery(e,t,ri.min())}Bi(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Jc{constructor(e,t,n,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Ii(jr),this.qi=new js((e=>vo(e)),bo),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nc(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ui)))}}function Xc(e,t,n,r){return new Jc(e,t,n,r)}async function Zc(e,t){const n=Cr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Qs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ji:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function el(e){const t=Cr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Cs.getLastRemoteSnapshotVersion(e)))}function tl(e,t,n){let r=Qs(),i=Qs();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Us();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(zr.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):gr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Wi:r,zi:i}}))}function nl(e,t){const n=Cr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function rl(e,t){const n=Cr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Cs.getTargetData(e,t).next((i=>i?(r=i,ui.resolve(r)):n.Cs.allocateTargetId(e).next((i=>(r=new gu(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}async function il(e,t,n){const r=Cr(e),i=r.Ui.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!fi(e))throw e;gr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ui=r.Ui.remove(t),r.qi.delete(i.target)}function ol(e,t,n){const r=Cr(e);let i=zr.min(),o=Qs();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Cr(e),i=r.qi.get(n);return void 0!==i?ui.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ko(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Li.getDocumentsMatchingQuery(e,t,n?i:zr.min(),n?o:Qs()))).next((e=>(ul(r,Xo(t),e),{documents:e,Hi:o})))))}function sl(e,t){const n=Cr(e),r=Cr(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.se(e,t).next((e=>e?e.target:null))))}function al(e,t){const n=Cr(e),r=n.Ki.get(t)||zr.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Gi.getAllFromCollectionGroup(e,t,ti(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(ul(n,t,e),e)))}function ul(e,t,n){let r=zr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}async function cl(e,t,n=Qs()){const r=await rl(e,Ko(Eu(t.bundledQuery))),i=Cr(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=fa(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(e,t);const s=r.withResumeToken(Oi.EMPTY_BYTE_STRING,o);return i.Ui=i.Ui.insert(s.targetId,s),i.Cs.updateTargetData(e,s).next((()=>i.Cs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Cs.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ns.saveNamedQuery(e,t)))}))}function ll(e,t){return`firestore_clients_${e}_${t}`}function dl(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function hl(e,t){return`firestore_targets_${e}_${t}`}class fl{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Zi(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Er(r.error.code,r.error.message))),o?new fl(e,t,r.state,i):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pl{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Er(n.error.code,n.error.message))),i?new pl(e,n.state,r):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ml{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Js();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=$i(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new ml(e,i):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gl{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gl(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yl{constructor(){this.activeTargetIds=Js()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vl{constructor(e,t,n,r,i){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ii(jr),this.started=!1,this.cr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ar=ll(this.persistenceKey,this.sr),this.hr=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new yl),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.mr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const t of e){if(t===this.sr)continue;const e=this.getItem(ll(this.persistenceKey,t));if(e){const n=ml.Zi(t,e);n&&(this.ur=this.ur.insert(n.clientId,n))}}this.gr();const t=this.storage.getItem(this.wr);if(t){const e=this.yr(t);e&&this.pr(e)}for(const e of this.cr)this.rr(e);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(hl(this.persistenceKey,e));if(n){const r=pl.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hl(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Er(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gr("SharedClientState","READ",e,t),t}setItem(e,t){gr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const t=e;if(t.storageArea===this.storage){if(gr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.lr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Vr(e,null)}{const e=this.Sr(t.key,t.newValue);if(e)return this.Vr(e.clientId,e)}}else if(this.dr.test(t.key)){if(null!==t.newValue){const e=this.Dr(t.key,t.newValue);if(e)return this.Cr(e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Nr(t.key,t.newValue);if(e)return this.kr(e)}}else if(t.key===this.wr){if(null!==t.newValue){const e=this.yr(t.newValue);if(e)return this.pr(e)}}else if(t.key===this.hr){const e=function(e){let t=wi.at;if(null!=e)try{const n=JSON.parse(e);Ar("number"==typeof n),t=n}catch(e){yr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==wi.at&&this.sequenceNumberHandler(e)}else if(t.key===this.mr){const e=this.Mr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Or(e))))}}else this.cr.push(t)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const r=new fl(this.currentUser,e,t,n),i=dl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}Er(e){const t=dl(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,n){const r=hl(this.persistenceKey,e),i=new pl(e,t,n);this.setItem(r,i.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return ml.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fl.Zi(new dr(i),r,t)}Nr(e,t){const n=this._r.exec(e),r=Number(n[1]);return pl.Zi(r,t)}yr(e){return gl.Zi(e)}Mr(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);gr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),i=this.Ir(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((()=>{this.ur=n}))}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Js();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class bl{constructor(){this.Lr=new yl,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,n){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new yl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wl{qr(e){}shutdown(){}}class Al{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){gr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){gr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _l={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Cl{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Il extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,r,i){const o=this.ao(e,t);gr("RestConnection","Sending: ",o,n);const s={};return this.ho(s,r,i),this.lo(e,o,s,n).then((e=>(gr("RestConnection","Received: ",e),e)),(t=>{throw vr("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t}))}fo(e,t,n,r,i,o){return this.co(e,t,n,r,i)}ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ao(e,t){const n=_l[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,n,r){return new Promise(((i,o)=>{const s=new cr;s.listenOnce(ir.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case rr.NO_ERROR:const t=s.getResponseJson();gr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case rr.TIMEOUT:gr("Connection",'RPC "'+e+'" timed out'),o(new Er(Ir.DEADLINE_EXCEEDED,"Request time out"));break;case rr.HTTP_ERROR:const n=s.getStatus();if(gr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ir).indexOf(t)>=0?t:Ir.UNKNOWN}(e.status);o(new Er(t,e.message))}else o(new Er(Ir.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Er(Ir.UNAVAILABLE,"Connection failed."));break;default:wr()}}finally{gr("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}_o(e,t,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=tr(),o=nr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new ar({})),this.ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const a=r.join("");gr("Connection","Creating WebChannel: "+a,s);const u=i.createWebChannel(a,s);let c=!1,l=!1;const d=new Cl({Hr:e=>{l?gr("Connection","Not sending because WebChannel is closed:",e):(c||(gr("Connection","Opening WebChannel transport."),u.open(),c=!0),gr("Connection","WebChannel sending:",e),u.send(e))},Jr:()=>u.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(u,ur.EventType.OPEN,(()=>{l||gr("Connection","WebChannel transport opened.")})),h(u,ur.EventType.CLOSE,(()=>{l||(l=!0,gr("Connection","WebChannel transport closed"),d.io())})),h(u,ur.EventType.ERROR,(e=>{l||(l=!0,vr("Connection","WebChannel transport errored:",e),d.io(new Er(Ir.UNAVAILABLE,"The operation could not be completed")))})),h(u,ur.EventType.MESSAGE,(e=>{var t;if(!l){const n=e.data[0];Ar(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Rs[e];if(void 0!==t)return Fs(t)}(e),n=i.message;void 0===t&&(t=Ir.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),l=!0,d.io(new Er(t,n)),u.close()}else gr("Connection","WebChannel received:",n),d.ro(n)}})),h(o,or.STAT_EVENT,(e=>{e.stat===sr.PROXY?gr("Connection","Detected buffering proxy"):e.stat===sr.NOPROXY&&gr("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.so()}),0),d}}function El(){return"undefined"!=typeof window?window:null}function Sl(){return"undefined"!=typeof document?document:null}function xl(e){return new ca(e,!0)}class kl{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=t,this.wo=n,this.mo=r,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),r=Math.max(0,t-n);r>0&&gr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,(()=>(this.To=Date.now(),e()))),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Tl{constructor(e,t,n,r,i,o,s,a){this.Hs=e,this.Po=n,this.vo=r,this.Vo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new kl(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(()=>this.$o())))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===Ir.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):t&&t.code===Ir.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.So===t&&this.Go(e,n)}),(t=>{e((()=>{const e=new Er(Ir.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)}))}))}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((e=>{n((()=>this.Qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Mo(){this.state=5,this.xo.Ao((async()=>{this.state=0,this.start()}))}Qo(e){return gr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget((()=>this.So===e?t():(gr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nl extends Tl{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.It=i}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.gt?(Ar(void 0===t||"string"==typeof t),Oi.fromBase64String(t||"")):(Ar(void 0===t||t instanceof Uint8Array),Oi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ir.UNKNOWN:Fs(e.code);return new Er(t,e.message||"")}(s);n=new na(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ya(e,r.document.name),o=fa(r.document.updateTime),s=new fo({mapValue:{fields:r.document.fields}}),a=mo.newFoundDocument(i,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ea(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ya(e,r.document),o=r.readTime?fa(r.readTime):zr.min(),s=mo.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ea([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ya(e,r.document),o=r.removedTargetIds||[];n=new ea([],o,i,null)}else{if(!("filter"in t))return wr();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Ps(r),o=e.targetId;n=new ta(o,i)}}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return zr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zr.min():t.readTime?fa(t.readTime):zr.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=wa(this.It),t.addTarget=function(e,t){let n;const r=t.target;return n=wo(r)?{documents:Sa(e,r)}:{query:xa(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=da(e,t.resumeToken):t.snapshotVersion.compareTo(zr.min())>0&&(n.readTime=la(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=wa(this.It),t.removeTarget=e,this.Bo(t)}}class Dl extends Tl{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.It=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Ar(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(e,t){return e&&e.length>0?(Ar(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?fa(e.updateTime):fa(t);return n.isEqual(zr.min())&&(n=fa(t)),new ys(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=fa(e.commitTime);return this.listener.Zo(n,t)}return Ar(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=wa(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ia(this.It,e)))};this.Bo(t)}}class Ol extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=n,this.It=r,this.nu=!1}su(){if(this.nu)throw new Er(Ir.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.Vo.co(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ir.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Er(Ir.UNKNOWN,e.toString())}))}fo(e,t,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.Vo.fo(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ir.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Er(Ir.UNKNOWN,e.toString())}))}terminate(){this.nu=!0}}class Pl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(yr(t),this.ou=!1):gr("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Rl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr((e=>{n.enqueueAndForget((async()=>{ql(this)&&(gr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Cr(e);t._u.add(4),await Ml(t),t.gu.set("Unknown"),t._u.delete(4),await Ll(t)}(this))}))})),this.gu=new Pl(n,r)}}async function Ll(e){if(ql(e))for(const t of e.wu)await t(!0)}async function Ml(e){for(const t of e.wu)await t(!1)}function Fl(e,t){const n=Cr(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),zl(n)?Vl(n):ad(n).ko()&&Bl(n,t))}function jl(e,t){const n=Cr(e),r=ad(n);n.du.delete(t),r.ko()&&Ul(n,t),0===n.du.size&&(r.ko()?r.Fo():ql(n)&&n.gu.set("Unknown"))}function Bl(e,t){e.yu.Ot(t.targetId),ad(e).zo(t)}function Ul(e,t){e.yu.Ot(t),ad(e).Ho(t)}function Vl(e){e.yu=new ia({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),se:t=>e.du.get(t)||null}),ad(e).start(),e.gu.uu()}function zl(e){return ql(e)&&!ad(e).No()&&e.du.size>0}function ql(e){return 0===Cr(e)._u.size}function $l(e){e.yu=void 0}async function Gl(e){e.du.forEach(((t,n)=>{Bl(e,t)}))}async function Kl(e,t){$l(e),zl(e)?(e.gu.hu(t),Vl(e)):e.gu.set("Unknown")}async function Hl(e,t,n){if(e.gu.set("Online"),t instanceof na&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.du.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.du.delete(r),e.yu.removeTarget(r))}(e,t)}catch(n){gr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wl(e,n)}else if(t instanceof ea?e.yu.Gt(t):t instanceof ta?e.yu.Yt(t):e.yu.Wt(t),!n.isEqual(zr.min()))try{const t=await el(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.yu.te(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(Oi.EMPTY_BYTE_STRING,n.snapshotVersion)),Ul(e,t);const r=new gu(n.target,t,1,n.sequenceNumber);Bl(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){gr("RemoteStore","Failed to raise snapshot:",t),await Wl(e,t)}}async function Wl(e,t,n){if(!fi(t))throw t;e._u.add(1),await Ml(e),e.gu.set("Offline"),n||(n=()=>el(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{gr("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await Ll(e)}))}function Ql(e,t){return t().catch((n=>Wl(e,n,t)))}async function Yl(e){const t=Cr(e),n=ud(t);let r=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Jl(t);)try{const e=await nl(t.localStore,r);if(null===e){0===t.fu.length&&n.Fo();break}r=e.batchId,Xl(t,e)}catch(e){await Wl(t,e)}Zl(t)&&ed(t)}function Jl(e){return ql(e)&&e.fu.length<10}function Xl(e,t){e.fu.push(t);const n=ud(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Zl(e){return ql(e)&&!ud(e).No()&&e.fu.length>0}function ed(e){ud(e).start()}async function td(e){ud(e).eu()}async function nd(e){const t=ud(e);for(const n of e.fu)t.Xo(n.mutations)}async function rd(e,t,n){const r=e.fu.shift(),i=pu.from(r,t,n);await Ql(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Yl(e)}async function id(e,t){t&&ud(e).Yo&&await async function(e,t){if(Ms(n=t.code)&&n!==Ir.ABORTED){const n=e.fu.shift();ud(e).Oo(),await Ql(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Yl(e)}var n}(e,t),Zl(e)&&ed(e)}async function od(e,t){const n=Cr(e);n.asyncQueue.verifyOperationInProgress(),gr("RemoteStore","RemoteStore received new credentials");const r=ql(n);n._u.add(3),await Ml(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await Ll(n)}async function sd(e,t){const n=Cr(e);t?(n._u.delete(2),await Ll(n)):t||(n._u.add(2),await Ml(n),n.gu.set("Unknown"))}function ad(e){return e.pu||(e.pu=function(e,t,n){const r=Cr(e);return r.su(),new Nl(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Gl.bind(null,e),Zr:Kl.bind(null,e),Wo:Hl.bind(null,e)}),e.wu.push((async t=>{t?(e.pu.Oo(),zl(e)?Vl(e):e.gu.set("Unknown")):(await e.pu.stop(),$l(e))}))),e.pu}function ud(e){return e.Iu||(e.Iu=function(e,t,n){const r=Cr(e);return r.su(),new Dl(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:td.bind(null,e),Zr:id.bind(null,e),tu:nd.bind(null,e),Zo:rd.bind(null,e)}),e.wu.push((async t=>{t?(e.Iu.Oo(),await Yl(e)):(await e.Iu.stop(),e.fu.length>0&&(gr("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))}))),e.Iu}class cd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new cd(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Er(Ir.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ld(e,t){if(yr("AsyncQueue",`${t}: ${e}`),fi(e))return new Er(Ir.UNAVAILABLE,`${t}: ${e}`);throw e}class dd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Hr.comparator(t.key,n.key):(e,t)=>Hr.comparator(e.key,t.key),this.keyedMap=zs(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new dd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class hd{constructor(){this.Tu=new Ii(Hr.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):wr():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class fd{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new fd(e,t,dd.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class pd{constructor(){this.Au=void 0,this.listeners=[]}}class md{constructor(){this.queries=new js((e=>Qo(e)),Wo),this.onlineState="Unknown",this.Ru=new Set}}async function gd(e,t){const n=Cr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new pd),i)try{o.Au=await n.onListen(r)}catch(e){const n=ld(e,`Initialization of query '${Yo(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.bu(n.onlineState),o.Au&&t.Pu(o.Au)&&wd(n)}async function yd(e,t){const n=Cr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vd(e,t){const n=Cr(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Pu(e)&&(r=!0);i.Au=e}}r&&wd(n)}function bd(e,t,n){const r=Cr(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function wd(e){e.Ru.forEach((e=>{e.next()}))}class Ad{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new fd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.Nu&&n||e.docs.isEmpty()&&"Offline"!==t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class _d{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Cd{constructor(e){this.It=e}Ji(e){return ya(this.It,e)}Yi(e){return e.metadata.exists?Ca(this.It,e.document,!1):mo.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return fa(e)}}class Id{constructor(e,t,n){this.Mu=e,this.localStore=t,this.It=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ed(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=$r.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,n=new Cd(this.It);for(const r of e)if(r.metadata.queries){const e=n.Ji(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Qs()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Cr(e);let o=Qs(),s=Us();for(const e of n){const n=t.Ji(e.metadata.name);e.document&&(o=o.add(n));const r=t.Yi(e);r.setReadTime(t.Xi(e.metadata.readTime)),s=s.insert(n,r)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),u=await rl(i,function(e){return Ko(Uo($r.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>tl(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Cs.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.Cs.addMatchingKeys(e,o,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi))).next((()=>t.Wi))))))}(this.localStore,new Cd(this.It),this.documents,this.Mu.id),t=this.Fu(this.documents);for(const e of this.queries)await cl(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:e}}}function Ed(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Sd{constructor(e){this.key=e}}class xd{constructor(e){this.key=e}}class kd{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Qs(),this.mutatedKeys=Qs(),this.Ku=Zo(e),this.Gu=new dd(this.Ku)}get Qu(){return this.Lu}ju(e,t){const n=t?t.Wu:new hd,r=t?t.Gu:this.Gu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),l=Jo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?d!==h&&(n.track({type:3,doc:l}),f=!0):this.zu(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ku(l,a)>0||u&&this.Ku(l,u)<0)&&(s=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(s=!0)),f&&(l?(o=o.add(l),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Gu:o,Wu:n,$i:s,mutatedKeys:i}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const i=e.Wu.Eu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wr()}};return n(e)-n(t)}(e.type,t.type)||this.Ku(e.doc,t.doc))),this.Hu(n);const o=t?this.Ju():[],s=0===this.qu.size&&this.current?1:0,a=s!==this.Uu;return this.Uu=s,0!==i.length||a?{snapshot:new fd(this.query,e.Gu,r,i,e.mutatedKeys,0===s,a,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new hd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach((e=>this.Lu=this.Lu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Lu=this.Lu.delete(e))),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Qs(),this.Gu.forEach((e=>{this.Xu(e.key)&&(this.qu=this.qu.add(e.key))}));const t=[];return e.forEach((e=>{this.qu.has(e)||t.push(new xd(e))})),this.qu.forEach((n=>{e.has(n)||t.push(new Sd(n))})),t}Zu(e){this.Lu=e.Hi,this.qu=Qs();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return fd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Td{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Nd{constructor(e){this.key=e,this.ec=!1}}class Dd{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new js((e=>Qo(e)),Wo),this.ic=new Map,this.rc=new Set,this.oc=new Ii(Hr.comparator),this.uc=new Map,this.cc=new Pc,this.ac={},this.hc=new Map,this.lc=cc.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}async function Od(e,t){const n=ih(e);let r,i;const o=n.sc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.tc();else{const e=await rl(n.localStore,Ko(t));n.isPrimaryClient&&Fl(n.remoteStore,e);const o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Pd(n,t,r,"current"===o)}return i}async function Pd(e,t,n,r){e.dc=(t,n,r)=>async function(e,t,n,r){let i=t.view.ju(n);i.$i&&(i=await ol(e.localStore,t.query,!1).then((({documents:e})=>t.view.ju(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return $d(e,t.targetId,s.Yu),s.snapshot}(e,t,n,r);const i=await ol(e.localStore,t,!0),o=new kd(t,i.Hi),s=o.ju(i.documents),a=Zs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(s,e.isPrimaryClient,a);$d(e,n,u.Yu);const c=new Td(t,n,o);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function Rd(e,t){const n=Cr(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter((e=>!Wo(e,t)))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await il(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),jl(n.remoteStore,r.targetId),zd(n,r.targetId)})).catch(ai)):(zd(n,r.targetId),await il(n.localStore,r.targetId,!0))}async function Ld(e,t){const n=Cr(e);try{const e=await function(e,t){const n=Cr(e),r=t.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const s=[];t.targetChanges.forEach(((o,a)=>{const u=i.get(a);if(!u)return;s.push(n.Cs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Cs.addMatchingKeys(e,o.addedDocuments,a))));let c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(Oi.EMPTY_BYTE_STRING,zr.min()).withLastLimboFreeSnapshotVersion(zr.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,o)&&s.push(n.Cs.updateTargetData(e,c))}));let a=Us(),u=Qs();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(tl(e,o,t.documentUpdates).next((e=>{a=e.Wi,u=e.zi}))),!r.isEqual(zr.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next((t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return ui.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,u))).next((()=>a))})).then((e=>(n.Ui=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.uc.get(t);r&&(Ar(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ec=!0:e.modifiedDocuments.size>0?Ar(r.ec):e.removedDocuments.size>0&&(Ar(r.ec),r.ec=!1))})),await Hd(n,e,t)}catch(e){await ai(e)}}function Md(e,t,n){const r=Cr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.sc.forEach(((n,r)=>{const i=r.view.bu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Cr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.bu(t)&&(r=!0)})),r&&wd(n)}(r.eventManager,t),e.length&&r.nc.Wo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Fd(e,t,n){const r=Cr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),o=i&&i.key;if(o){let e=new Ii(Hr.comparator);e=e.insert(o,mo.newNoDocument(o,zr.min()));const n=Qs().add(o),i=new Xs(zr.min(),new Map,new xi(jr),e,n);await Ld(r,i),r.oc=r.oc.remove(o),r.uc.delete(t),Kd(r)}else await il(r.localStore,t,!1).then((()=>zd(r,t,n))).catch(ai)}async function jd(e,t){const n=Cr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Cr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ui.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ar(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Vd(n,r,null),Ud(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hd(n,e)}catch(e){await ai(e)}}async function Bd(e,t,n){const r=Cr(e);try{const e=await function(e,t){const n=Cr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ar(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Vd(r,t,n),Ud(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hd(r,e)}catch(n){await ai(n)}}function Ud(e,t){(e.hc.get(t)||[]).forEach((e=>{e.resolve()})),e.hc.delete(t)}function Vd(e,t,n){const r=Cr(e);let i=r.ac[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function zd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc._c(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((t=>{e.cc.containsKey(t)||qd(e,t)}))}function qd(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);null!==n&&(jl(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Kd(e))}function $d(e,t,n){for(const r of n)r instanceof Sd?(e.cc.addReference(r.key,t),Gd(e,r)):r instanceof xd?(gr("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||qd(e,r.key)):wr()}function Gd(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(gr("SyncEngine","New document in limbo: "+n),e.rc.add(r),Kd(e))}function Kd(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new Hr($r.fromString(t)),r=e.lc.next();e.uc.set(r,new Nd(n)),e.oc=e.oc.insert(n,r),Fl(e.remoteStore,new gu(Ko(Uo(n.path)),r,2,wi.at))}}async function Hd(e,t,n){const r=Cr(e),i=[],o=[],s=[];r.sc.isEmpty()||(r.sc.forEach(((e,a)=>{s.push(r.dc(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Qc.Ci(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.nc.Wo(i),await async function(e,t){const n=Cr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ui.forEach(t,(t=>ui.forEach(t.Si,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ui.forEach(t.Di,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!fi(e))throw e;gr("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ui.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ui=n.Ui.insert(t,i)}}}(r.localStore,o))}async function Wd(e,t){const n=Cr(e);if(!n.currentUser.isEqual(t)){gr("SyncEngine","User change. New user:",t.toKey());const e=await Zc(n.localStore,t);n.currentUser=t,function(e,t){e.hc.forEach((e=>{e.forEach((e=>{e.reject(new Er(Ir.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hd(n,e.ji)}}function Qd(e,t){const n=Cr(e),r=n.uc.get(t);if(r&&r.ec)return Qs().add(r.key);{let e=Qs();const r=n.ic.get(t);if(!r)return e;for(const t of r){const r=n.sc.get(t);e=e.unionWith(r.view.Qu)}return e}}async function Yd(e,t){const n=Cr(e),r=await ol(n.localStore,t.query,!0),i=t.view.Zu(r);return n.isPrimaryClient&&$d(n,t.targetId,i.Yu),i}async function Jd(e,t){const n=Cr(e);return al(n.localStore,t).then((e=>Hd(n,e)))}async function Xd(e,t,n,r){const i=Cr(e),o=await function(e,t){const n=Cr(e),r=Cr(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Tn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ui.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Yl(i.remoteStore):"acknowledged"===n||"rejected"===n?(Vd(i,t,r||null),Ud(i,t),function(e,t){Cr(Cr(e).mutationQueue).An(t)}(i.localStore,t)):wr(),await Hd(i,o)):gr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Zd(e,t,n){const r=Cr(e),i=[],o=[];for(const e of t){let t;const n=r.ic.get(e);if(n&&0!==n.length){t=await rl(r.localStore,Ko(n[0]));for(const e of n){const t=r.sc.get(e),n=await Yd(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await sl(r.localStore,e);t=await rl(r.localStore,n),await Pd(r,eh(n),e,!1)}i.push(t)}return r.nc.Wo(o),i}function eh(e){return Bo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function th(e){const t=Cr(e);return Cr(Cr(t.localStore).persistence).vi()}async function nh(e,t,n,r){const i=Cr(e);if(i.fc)return void gr("SyncEngine","Ignoring unexpected query state notification.");const o=i.ic.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await al(i.localStore,Xo(o[0])),r=Xs.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Hd(i,e,r);break}case"rejected":await il(i.localStore,t,!0),zd(i,t,r);break;default:wr()}}async function rh(e,t,n){const r=ih(e);if(r.fc){for(const e of t){if(r.ic.has(e)){gr("SyncEngine","Adding an already active target "+e);continue}const t=await sl(r.localStore,e),n=await rl(r.localStore,t);await Pd(r,eh(t),n.targetId,!1),Fl(r.remoteStore,n)}for(const e of n)r.ic.has(e)&&await il(r.localStore,e,!1).then((()=>{jl(r.remoteStore,e),zd(r,e)})).catch(ai)}}function ih(e){const t=Cr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ld.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fd.bind(null,t),t.nc.Wo=vd.bind(null,t.eventManager),t.nc._c=bd.bind(null,t.eventManager),t}function oh(e){const t=Cr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bd.bind(null,t),t}class sh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=xl(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Xc(this.persistence,new Yc,e.initialUser,this.It)}gc(e){return new Bc(Vc.Bs,this.It)}mc(e){return new bl}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ah extends sh{constructor(e,t,n){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ec.initialize(this,e),await oh(this.Ec.syncEngine),await Yl(this.Ec.remoteStore),await this.persistence.li((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}yc(e){return Xc(this.persistence,new Yc,e.initialUser,this.It)}Ic(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new gc(n,e.asyncQueue,t)}Tc(e,t){const n=new bi(t,this.persistence);return new vi(e.asyncQueue,n)}gc(e){const t=Wc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tc.withCacheSize(this.cacheSizeBytes):tc.DEFAULT;return new Gc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,El(),Sl(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new bl}}class uh extends ah{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ec.syncEngine;this.sharedClientState instanceof vl&&(this.sharedClientState.syncEngine={Fr:Xd.bind(null,t),$r:nh.bind(null,t),Br:rh.bind(null,t),vi:th.bind(null,t),Or:Jd.bind(null,t)},await this.sharedClientState.start()),await this.persistence.li((async e=>{await async function(e,t){const n=Cr(e);if(ih(n),oh(n),!0===t&&!0!==n.fc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Zd(n,e.toArray());n.fc=!0,await sd(n.remoteStore,!0);for(const e of t)Fl(n.remoteStore,e)}else if(!1===t&&!1!==n.fc){const e=[];let t=Promise.resolve();n.ic.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(zd(n,i),il(n.localStore,i,!0)))),jl(n.remoteStore,i)})),await t,await Zd(n,e),function(e){const t=Cr(e);t.uc.forEach(((e,n)=>{jl(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Ii(Hr.comparator)}(n),n.fc=!1,await sd(n.remoteStore,!1)}}(this.Ec.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}mc(e){const t=El();if(!vl.C(t))throw new Er(Ir.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Wc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vl(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ch{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Md(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wd.bind(null,this.syncEngine),await sd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new md}createDatastore(e){const t=xl(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Il(r));var r;return function(e,t,n,r){return new Ol(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Md(this.syncEngine,e,0),o=Al.C()?new Al:new wl,new Rl(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Dd(e,t,n,r,i,o);return s&&(a.fc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Cr(e);gr("RemoteStore","RemoteStore shutting down."),t._u.add(5),await Ml(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}function lh(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class dh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class hh{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Sr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((e=>{e&&e.ku()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.bc.cancel()}async getMetadata(){return this.metadata.promise}async wc(){return await this.getMetadata(),this.vc()}async vc(){const e=await this.Vc();if(null===e)return null;const t=this.Pc.decode(e),n=Number(t);isNaN(n)&&this.Sc(`length string (${t}) is not valid number`);const r=await this.Dc(n);return new _d(JSON.parse(r),e.length+n)}Cc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Vc(){for(;this.Cc()<0&&!await this.xc(););if(0===this.buffer.length)return null;const e=this.Cc();e<0&&this.Sc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Dc(e){for(;this.buffer.length<e;)await this.xc()&&this.Sc("Reached the end of bundle when more is expected.");const t=this.Pc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}async xc(){const e=await this.bc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class fh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Er(Ir.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Cr(e),r=wa(n.It)+"/documents",i={documents:t.map((e=>ga(n.It,e)))},o=await n.fo("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ar(!!t.found),t.found.name,t.found.updateTime;const n=ya(e,t.found.name),r=fa(t.found.updateTime),i=new fo({mapValue:{fields:t.found.fields}});return mo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ar(!!t.missing),Ar(!!t.readTime);const n=ya(e,t.missing),r=fa(t.readTime);return mo.newNoDocument(n,r)}(e,t):wr()}(n.It,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Ar(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ds(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Hr.fromPath(t);this.mutations.push(new Os(n,this.precondition(n)))})),await async function(e,t){const n=Cr(e),r=wa(n.It)+"/documents",i={writes:t.map((e=>Ia(n.It,e)))};await n.co("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wr();t=zr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Er(Ir.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(zr.min())?vs.exists(!1):vs.updateTime(t):vs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zr.min()))throw new Er(Ir.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vs.updateTime(t)}return vs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ph{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Nc=n.maxAttempts,this.xo=new kl(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){this.xo.Ao((async()=>{const e=new fh(this.datastore),t=this.Mc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Oc(e)}))))})).catch((e=>{this.Oc(e)}))}))}Mc(e){try{const t=this.updateFunction(e);return!zi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((()=>(this.kc(),Promise.resolve())))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ms(t)}return!1}}class mh{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=dr.UNAUTHENTICATED,this.clientId=Fr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{gr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(gr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Er(Ir.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ld(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gh(e,t){e.asyncQueue.verifyOperationInProgress(),gr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Zc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function yh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vh(e);gr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>od(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>od(t.remoteStore,n))),e.onlineComponents=t}async function vh(e){return e.offlineComponents||(gr("FirestoreClient","Using default OfflineComponentProvider"),await gh(e,new sh)),e.offlineComponents}async function bh(e){return e.onlineComponents||(gr("FirestoreClient","Using default OnlineComponentProvider"),await yh(e,new ch)),e.onlineComponents}function wh(e){return vh(e).then((e=>e.persistence))}function Ah(e){return vh(e).then((e=>e.localStore))}function _h(e){return bh(e).then((e=>e.remoteStore))}function Ch(e){return bh(e).then((e=>e.syncEngine))}async function Ih(e){const t=await bh(e),n=t.eventManager;return n.onListen=Od.bind(null,t.syncEngine),n.onUnlisten=Rd.bind(null,t.syncEngine),n}function Eh(e,t,n={}){const r=new Sr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new dh({next:o=>{t.enqueueAndForget((()=>yd(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Er(Ir.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Er(Ir.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Ad(Uo(n.path),o,{includeMetadataChanges:!0,Nu:!0});return gd(e,s)}(await Ih(e),e.asyncQueue,t,n,r))),r.promise}function Sh(e,t,n={}){const r=new Sr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new dh({next:n=>{t.enqueueAndForget((()=>yd(e,s))),n.fromCache&&"server"===r.source?i.reject(new Er(Ir.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Ad(n,o,{includeMetadataChanges:!0,Nu:!0});return gd(e,s)}(await Ih(e),e.asyncQueue,t,n,r))),r.promise}const xh=new Map;function kh(e,t,n){if(!n)throw new Er(Ir.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Th(e,t,n,r){if(!0===t&&!0===r)throw new Er(Ir.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Nh(e){if(!Hr.isDocumentKey(e))throw new Er(Ir.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Dh(e){if(Hr.isDocumentKey(e))throw new Er(Ir.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Oh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wr()}function Ph(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Er(Ir.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(e);throw new Er(Ir.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Rh(e,t){if(t<=0)throw new Er(Ir.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Lh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Er(Ir.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Er(Ir.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Th("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Er(Ir.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Er(Ir.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kr;switch(e.type){case"gapi":const t=e.client;return new Or(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Er(Ir.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xh.get(e);t&&(gr("ComponentProvider","Removing Datastore"),xh.delete(e),t.terminate())}(this),Promise.resolve()}}function Fh(e,t,n,r={}){var i;const o=(e=Ph(e,Mh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&vr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=dr.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Er(Ir.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new dr(o)}e._authCredentials=new Tr(new xr(t,n))}}class jh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jh(this.firestore,e,this._key)}}class Bh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class Uh extends Bh{constructor(e,t,n){super(e,t,Uo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jh(this.firestore,null,new Hr(e))}withConverter(e){return new Uh(this.firestore,e,this._path)}}function Vh(e,t,...n){if(e=(0,a.m9)(e),kh("collection","path",t),e instanceof Mh){const r=$r.fromString(t,...n);return Dh(r),new Uh(e,null,r)}{if(!(e instanceof jh||e instanceof Uh))throw new Er(Ir.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($r.fromString(t,...n));return Dh(r),new Uh(e.firestore,null,r)}}function zh(e,t){if(e=Ph(e,Mh),kh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Er(Ir.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bh(e,null,function(e){return new jo($r.emptyPath(),e)}(t))}function qh(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=Fr.R()),kh("doc","path",t),e instanceof Mh){const r=$r.fromString(t,...n);return Nh(r),new jh(e,null,new Hr(r))}{if(!(e instanceof jh||e instanceof Uh))throw new Er(Ir.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($r.fromString(t,...n));return Nh(r),new jh(e.firestore,e instanceof Uh?e.converter:null,new Hr(r))}}function $h(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),(e instanceof jh||e instanceof Uh)&&(t instanceof jh||t instanceof Uh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Gh(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof Bh&&t instanceof Bh&&e.firestore===t.firestore&&Wo(e._query,t._query)&&e.converter===t.converter}class Kh{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new kl(this,"async_queue_retry"),this.jc=()=>{const e=Sl();e&&gr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const e=Sl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Sl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise((()=>{}));const t=new Sr;return this.zc((()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Bc.push(e),this.Hc())))}async Hc(){if(0!==this.Bc.length){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!fi(e))throw e;gr("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao((()=>this.Hc()))}}zc(e){const t=this.$c.then((()=>(this.Kc=!0,e().catch((e=>{this.qc=e,this.Kc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw yr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Kc=!1,e))))));return this.$c=t,t}enqueueAfterDelay(e,t,n){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=cd.createAndSchedule(this,e,t,n,(e=>this.Jc(e)));return this.Uc.push(r),r}Wc(){this.qc&&wr()}verifyOperationInProgress(){}async Yc(){let e;do{e=this.$c,await e}while(e!==this.$c)}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then((()=>{this.Uc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()}))}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Hh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Wh{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Qh=-1;class Yh extends Mh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Kh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ef(this),this._firestoreClient.terminate()}}function Jh(e,t,n){n||(n="(default)");const r=(0,i.qX)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,a.vZ)(i,t))return e;throw new Er(Ir.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Er(Ir.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Xh(e,t){const n="object"==typeof e?e:(0,i.Mq)(),r="string"==typeof e?e:t||"(default)";return(0,i.qX)(n,"firestore").getImmediate({identifier:r})}function Zh(e){return e._firestoreClient||ef(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ef(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Ui(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mh(e._authCredentials,e._appCheckCredentials,e._queue,r)}function tf(e,t){hf(e=Ph(e,Yh));const n=Zh(e),r=e._freezeSettings(),i=new ch;return rf(n,i,new ah(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function nf(e){hf(e=Ph(e,Yh));const t=Zh(e),n=e._freezeSettings(),r=new ch;return rf(t,r,new uh(r,n.cacheSizeBytes))}function rf(e,t,n){const r=new Sr;return e.asyncQueue.enqueue((async()=>{try{await gh(e,n),await yh(e,t),r.resolve()}catch(e){const t=e;if(!function(e){return"FirebaseError"===e.name?e.code===Ir.FAILED_PRECONDITION||e.code===Ir.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(t))throw t;vr("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.reject(t)}})).then((()=>r.promise))}function of(e){if(e._initialized&&!e._terminated)throw new Er(Ir.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Sr;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!li.C())return Promise.resolve();const t=e+"main";await li.delete(t)}(Wc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function sf(e){return function(e){const t=new Sr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Cr(e);ql(n.remoteStore)||gr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Cr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.hc.get(e)||[];r.push(t),n.hc.set(e,r)}catch(e){const n=ld(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Ch(e),t))),t.promise}(Zh(e=Ph(e,Yh)))}function af(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await wh(e),n=await _h(e);return t.setNetworkEnabled(!0),function(e){const t=Cr(e);return t._u.delete(0),Ll(t)}(n)}))}(Zh(e=Ph(e,Yh)))}function uf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await wh(e),n=await _h(e);return t.setNetworkEnabled(!1),async function(e){const t=Cr(e);t._u.add(0),await Ml(t),t.gu.set("Offline")}(n)}))}(Zh(e=Ph(e,Yh)))}function cf(e){return(0,i.wN)(e.app,"firestore",e._databaseId.database),e._delete()}function lf(e,t){const n=Zh(e=Ph(e,Yh)),r=new Wh;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new hh(e,t)}(function(e,t){if(e instanceof Uint8Array)return lh(e,t);if(e instanceof ArrayBuffer)return lh(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xl(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Cr(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Cr(e),r=fa(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ns.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ed(r));const i=new Id(r,e.localStore,t.It);let o=await t.wc();for(;o;){const e=await i.Ou(o);e&&n._updateProgress(e),o=await t.wc()}const s=await i.complete();return await Hd(e,s.Bu,void 0),await function(e,t){const n=Cr(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ns.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.$u)}catch(e){return vr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Ch(e),i,r)}))}(n,e._databaseId,t,r),r}function df(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Cr(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ns.getNamedQuery(e,t)))}(await Ah(e),t)))}(Zh(e=Ph(e,Yh)),t).then((t=>t?new Bh(e,null,t.query):null))}function hf(e){if(e._initialized||e._terminated)throw new Er(Ir.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ff{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Er(Ir.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function pf(){return new ff("__name__")}class mf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mf(Oi.fromBase64String(e))}catch(e){throw new Er(Ir.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mf(Oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gf{constructor(e){this._methodName=e}}class yf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Er(Ir.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Er(Ir.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jr(this._lat,e._lat)||jr(this._long,e._long)}}const vf=/^__.*__$/;class bf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ss(e,this.data,t,this.fieldTransforms)}}class wf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Af(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wr()}}class _f{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.It=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ea(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new _f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}ua(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return zf(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Af(this.na)&&vf.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Cf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=n||xl(e)}fa(e,t,n,r=!1){return new _f({na:e,methodName:t,la:n,path:Kr.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function If(e){const t=e._freezeSettings(),n=xl(e._databaseId);return new Cf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ef(e,t,n,r,i,o={}){const s=e.fa(o.merge||o.mergeFields?2:0,t,n,i);jf("Data must be an object, but it was:",s,r);const a=Mf(r,s);let u,c;if(o.merge)u=new Ni(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Bf(t,r,n);if(!s.contains(i))throw new Er(Ir.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);qf(e,i)||e.push(i)}u=new Ni(e),c=s.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,c=s.fieldTransforms;return new bf(new fo(a),u,c)}class Sf extends gf{_toFieldTransform(e){if(2!==e.na)throw 1===e.na?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}function xf(e,t,n){return new _f({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}class kf extends gf{_toFieldTransform(e){return new gs(e.path,new us)}isEqual(e){return e instanceof kf}}class Tf extends gf{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=xf(this,e,!0),n=this.da.map((e=>Lf(e,t))),r=new cs(n);return new gs(e.path,r)}isEqual(e){return this===e}}class Nf extends gf{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=xf(this,e,!0),n=this.da.map((e=>Lf(e,t))),r=new ds(n);return new gs(e.path,r)}isEqual(e){return this===e}}class Df extends gf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new fs(e.It,rs(e.It,this._a));return new gs(e.path,t)}isEqual(e){return this===e}}function Of(e,t,n,r){const i=e.fa(1,t,n);jf("Data must be an object, but it was:",i,r);const o=[],s=fo.empty();_i(r,((e,r)=>{const u=Vf(t,e,n);r=(0,a.m9)(r);const c=i.ua(u);if(r instanceof Sf)o.push(u);else{const e=Lf(r,c);null!=e&&(o.push(u),s.set(u,e))}}));const u=new Ni(o);return new wf(s,u,i.fieldTransforms)}function Pf(e,t,n,r,i,o){const s=e.fa(1,t,n),u=[Bf(t,r,n)],c=[i];if(o.length%2!=0)throw new Er(Ir.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)u.push(Bf(t,o[e])),c.push(o[e+1]);const l=[],d=fo.empty();for(let e=u.length-1;e>=0;--e)if(!qf(l,u[e])){const t=u[e];let n=c[e];n=(0,a.m9)(n);const r=s.ua(t);if(n instanceof Sf)l.push(t);else{const e=Lf(n,r);null!=e&&(l.push(t),d.set(t,e))}}const h=new Ni(l);return new wf(d,h,s.fieldTransforms)}function Rf(e,t,n,r=!1){return Lf(n,e.fa(r?4:3,t))}function Lf(e,t){if(Ff(e=(0,a.m9)(e)))return jf("Unsupported field value:",t,e),Mf(e,t);if(e instanceof gf)return function(e,t){if(!Af(t.na))throw t.aa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.aa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Lf(i,t.ca(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rs(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vr.fromDate(e);return{timestampValue:la(t.It,n)}}if(e instanceof Vr){const n=new Vr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:la(t.It,n)}}if(e instanceof yf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mf)return{bytesValue:da(t.It,e._byteString)};if(e instanceof jh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.aa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:pa(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa(`Unsupported field value: ${Oh(e)}`)}(e,t)}function Mf(e,t){const n={};return Ci(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_i(e,((e,r)=>{const i=Lf(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ff(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vr||e instanceof yf||e instanceof mf||e instanceof jh||e instanceof gf)}function jf(e,t,n){if(!Ff(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Oh(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function Bf(e,t,n){if((t=(0,a.m9)(t))instanceof ff)return t._internalPath;if("string"==typeof t)return Vf(e,t);throw zf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Uf=new RegExp("[~\\*/\\[\\]]");function Vf(e,t,n){if(t.search(Uf)>=0)throw zf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ff(...t.split("."))._internalPath}catch(r){throw zf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zf(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Er(Ir.INVALID_ARGUMENT,a+e+u)}function qf(e,t){return e.some((e=>e.isEqual(t)))}class $f{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gf extends $f{data(){return super.data()}}function Kf(e,t){return"string"==typeof t?Vf(e,t):t instanceof ff?t._internalPath:t._delegate._internalPath}class Hf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wf extends $f{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Kf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Qf extends Wf{data(e={}){return super.data(e)}}class Yf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Qf(this._firestore,this._userDataWriter,n.key,n,new Hf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Er(Ir.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Qf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Hf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Qf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Jf(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wr()}}function Xf(e,t){return e instanceof Wf&&t instanceof Wf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Yf&&t instanceof Yf&&e._firestore===t._firestore&&Gh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Zf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Er(Ir.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ep{}function tp(e,...t){for(const n of t)e=n._apply(e);return e}class np extends ep{constructor(e,t,n){super(),this.wa=e,this.ma=t,this.ga=n,this.type="where"}_apply(e){const t=If(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Er(Ir.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){yp(s,o);const t=[];for(const n of s)t.push(gp(r,e,n));a={arrayValue:{values:t}}}else a=gp(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||yp(s,o),a=Rf(n,"where",s,"in"===o||"not-in"===o);const u=Io.create(i,o,a);return function(e,t){if(t.dt()){const n=qo(e);if(null!==n&&!n.isEqual(t.field))throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=zo(e);null!==r&&vp(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Er(Ir.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Er(Ir.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Bh(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function rp(e,t,n){const r=t,i=Kf("where",e);return new np(i,r,n)}class ip extends ep{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Er(Ir.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Er(Ir.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ro(t,n);return function(e,t){if(null===zo(e)){const n=qo(e);null!==n&&vp(0,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new Bh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new jo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function op(e,t="asc"){const n=t,r=Kf("orderBy",e);return new ip(r,n)}class sp extends ep{constructor(e,t,n){super(),this.type=e,this.pa=t,this.Ia=n}_apply(e){return new Bh(e.firestore,e.converter,Ho(e._query,this.pa,this.Ia))}}function ap(e){return Rh("limit",e),new sp("limit",e,"F")}function up(e){return Rh("limitToLast",e),new sp("limitToLast",e,"L")}class cp extends ep{constructor(e,t,n){super(),this.type=e,this.Ta=t,this.Ea=n}_apply(e){const t=mp(e,this.type,this.Ta,this.Ea);return new Bh(e.firestore,e.converter,function(e,t){return new jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function lp(...e){return new cp("startAt",e,!0)}function dp(...e){return new cp("startAfter",e,!1)}class hp extends ep{constructor(e,t,n){super(),this.type=e,this.Ta=t,this.Ea=n}_apply(e){const t=mp(e,this.type,this.Ta,this.Ea);return new Bh(e.firestore,e.converter,function(e,t){return new jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function fp(...e){return new hp("endBefore",e,!1)}function pp(...e){return new hp("endAt",e,!0)}function mp(e,t,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof $f)return function(e,t,n,r,i){if(!r)throw new Er(Ir.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of Go(e))if(n.field.isKeyField())o.push(eo(t,r.key));else{const e=r.data.field(n.field);if(Fi(e))throw new Er(Ir.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new Po(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=If(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Er(Ir.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let o=0;o<i.length;o++){const u=i[o];if(s[o].field.isKeyField()){if("string"!=typeof u)throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof u}`);if(!$o(e)&&-1!==u.indexOf("/"))throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${u}' contains a slash.`);const n=e.path.child($r.fromString(u));if(!Hr.isDocumentKey(n))throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Hr(n);a.push(eo(t,i))}else{const e=Rf(n,r,u);a.push(e)}}return new Po(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function gp(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Er(Ir.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$o(t)&&-1!==n.indexOf("/"))throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($r.fromString(n));if(!Hr.isDocumentKey(r))throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eo(e,new Hr(r))}if(n instanceof jh)return eo(e,n._key);throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function yp(e,t){if(!Array.isArray(e)||0===e.length)throw new Er(Ir.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Er(Ir.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function vp(e,t,n){if(!n.isEqual(t))throw new Er(Ir.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const bp={maxAttempts:5};class wp{convertValue(e,t="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wr()}}convertObject(e,t){const n={};return _i(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new yf(Li(e.latitude),Li(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ji(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bi(e));default:return null}}convertTimestamp(e){const t=Ri(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$r.fromString(e);Ar(Fa(n));const r=new Vi(n.get(1),n.get(3)),i=new Hr(n.popFirst(5));return r.isEqual(t)||yr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Ap(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class _p extends wp{constructor(e){super(),this.firestore=e}convertBytes(e){return new mf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jh(this.firestore,null,t)}}class Cp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=If(e)}set(e,t,n){this._verifyNotCommitted();const r=Ip(e,this._firestore),i=Ap(r.converter,t,n),o=Ef(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,vs.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Ip(e,this._firestore);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof ff?Pf(this._dataReader,"WriteBatch.update",i._key,t,n,r):Of(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,vs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ip(e,this._firestore);return this._mutations=this._mutations.concat(new Ds(t._key,vs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Er(Ir.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ip(e,t){if((e=(0,a.m9)(e)).firestore!==t)throw new Er(Ir.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Ep(e){e=Ph(e,jh);const t=Ph(e.firestore,Yh);return Eh(Zh(t),e._key).then((n=>Bp(t,e,n)))}class Sp extends wp{constructor(e){super(),this.firestore=e}convertBytes(e){return new mf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jh(this.firestore,null,t)}}function xp(e){e=Ph(e,jh);const t=Ph(e.firestore,Yh),n=Zh(t),r=new Sp(t);return function(e,t){const n=new Sr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Cr(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Er(Ir.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=ld(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Ah(e),t,n))),n.promise}(n,e._key).then((n=>new Wf(t,r,e._key,n,new Hf(null!==n&&n.hasLocalMutations,!0),e.converter)))}function kp(e){e=Ph(e,jh);const t=Ph(e.firestore,Yh);return Eh(Zh(t),e._key,{source:"server"}).then((n=>Bp(t,e,n)))}function Tp(e){e=Ph(e,Bh);const t=Ph(e.firestore,Yh),n=Zh(t),r=new Sp(t);return Zf(e._query),Sh(n,e._query).then((n=>new Yf(t,r,e,n)))}function Np(e){e=Ph(e,Bh);const t=Ph(e.firestore,Yh),n=Zh(t),r=new Sp(t);return function(e,t){const n=new Sr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await ol(e,t,!0),i=new kd(t,r.Hi),o=i.ju(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=ld(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Ah(e),t,n))),n.promise}(n,e._query).then((n=>new Yf(t,r,e,n)))}function Dp(e){e=Ph(e,Bh);const t=Ph(e.firestore,Yh),n=Zh(t),r=new Sp(t);return Sh(n,e._query,{source:"server"}).then((n=>new Yf(t,r,e,n)))}function Op(e,t,n){e=Ph(e,jh);const r=Ph(e.firestore,Yh),i=Ap(e.converter,t,n);return jp(r,[Ef(If(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vs.none())])}function Pp(e,t,n,...r){e=Ph(e,jh);const i=Ph(e.firestore,Yh),o=If(i);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof ff?Pf(o,"updateDoc",e._key,t,n,r):Of(o,"updateDoc",e._key,t),jp(i,[s.toMutation(e._key,vs.exists(!0))])}function Rp(e){return jp(Ph(e.firestore,Yh),[new Ds(e._key,vs.none())])}function Lp(e,t){const n=Ph(e.firestore,Yh),r=qh(e),i=Ap(e.converter,t);return jp(n,[Ef(If(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vs.exists(!1))]).then((()=>r))}function Mp(e,...t){var n,r,i;e=(0,a.m9)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||Hh(t[s])||(o=t[s],s++);const u={includeMetadataChanges:o.includeMetadataChanges};if(Hh(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,l,d;if(e instanceof jh)l=Ph(e.firestore,Yh),d=Uo(e._key.path),c={next:n=>{t[s]&&t[s](Bp(l,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Ph(e,Bh);l=Ph(n.firestore,Yh),d=n._query;const r=new Sp(l);c={next:e=>{t[s]&&t[s](new Yf(l,r,n,e))},error:t[s+1],complete:t[s+2]},Zf(e._query)}return function(e,t,n,r){const i=new dh(r),o=new Ad(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>gd(await Ih(e),o))),()=>{i.Rc(),e.asyncQueue.enqueueAndForget((async()=>yd(await Ih(e),o)))}}(Zh(l),d,u,c)}function Fp(e,t){return function(e,t){const n=new dh(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Cr(e).Ru.add(t),t.next()}(await Ih(e),n))),()=>{n.Rc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Cr(e).Ru.delete(t)}(await Ih(e),n)))}}(Zh(e=Ph(e,Yh)),Hh(t)?t:{next:t})}function jp(e,t){return function(e,t){const n=new Sr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=oh(e);try{const e=await function(e,t){const n=Cr(e),r=Vr.now(),i=t.reduce(((e,t)=>e.add(t.key)),Qs());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Us(),u=Qs();return n.Gi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(u=u.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Is(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new xs(e.key,t,po(t.value.mapValue),vs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:qs(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.ac[e.currentUser.toKey()];r||(r=new Ii(jr)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(r,e.batchId,n),await Hd(r,e.changes),await Yl(r.remoteStore)}catch(e){const t=ld(e,"Failed to persist write");n.reject(t)}}(await Ch(e),t,n))),n.promise}(Zh(e),t)}function Bp(e,t,n){const r=n.docs.get(t._key),i=new Sp(e);return new Wf(e,i,t._key,r,new Hf(n.hasPendingWrites,n.fromCache),t.converter)}class Up extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=If(e)}get(e){const t=Ip(e,this._firestore),n=new _p(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return wr();const r=e[0];if(r.isFoundDocument())return new $f(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new $f(this._firestore,n,t._key,null,t.converter);throw wr()}))}set(e,t,n){const r=Ip(e,this._firestore),i=Ap(r.converter,t,n),o=Ef(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=Ip(e,this._firestore);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof ff?Pf(this._dataReader,"Transaction.update",i._key,t,n,r):Of(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=Ip(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ip(e,this._firestore),n=new Sp(this._firestore);return super.get(e).then((e=>new Wf(this._firestore,n,t._key,e._document,new Hf(!1,!1),t.converter)))}}function Vp(e,t,n){e=Ph(e,Yh);const r=Object.assign(Object.assign({},bp),n);return function(e){if(e.maxAttempts<1)throw new Er(Ir.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Sr;return e.asyncQueue.enqueueAndForget((async()=>{const i=await function(e){return bh(e).then((e=>e.datastore))}(e);new ph(e.asyncQueue,i,n,t,r).run()})),r.promise}(Zh(e),(n=>t(new Up(e,n))),r)}function zp(){return new Sf("deleteField")}function qp(){return new kf("serverTimestamp")}function $p(...e){return new Tf("arrayUnion",e)}function Gp(...e){return new Nf("arrayRemove",e)}function Kp(e){return new Df("increment",e)}function Hp(e){return Zh(e=Ph(e,Yh)),new Cp(e,(t=>jp(e,t)))}function Wp(e,t){var n;const r=Zh(e=Ph(e,Yh));if(!(null===(n=r.offlineComponents)||void 0===n?void 0:n.indexBackfillerScheduler))return vr("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){var t;try{return JSON.parse(e)}catch(e){throw new Er(Ir.INVALID_ARGUMENT,"Failed to parse JSON: "+(null===(t=e)||void 0===t?void 0:t.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const e of t.indexes){const t=Qp(e,"collectionGroup"),r=[];if(Array.isArray(e.fields))for(const t of e.fields){const e=Vf("setIndexConfiguration",Qp(t,"fieldPath"));"CONTAINS"===t.arrayConfig?r.push(new Xr(e,2)):"ASCENDING"===t.order?r.push(new Xr(e,0)):"DESCENDING"===t.order&&r.push(new Xr(e,1))}n.push(new Wr(Wr.UNKNOWN_ID,t,r,ei.empty()))}return n}(t);return Ah(r).then((e=>async function(e,t){const n=Cr(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const o=e.length,s=t.length;let a=0,u=0;for(;a<s&&u<o;){const o=n(e[u],t[a]);o<0?i(e[u++]):o>0?r(t[a++]):(a++,u++)}for(;a<s;)r(t[a++]);for(;u<o;)i(e[u++])}(n,t,Jr,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>ui.waitFor(i)))))}(e,i)))}function Qp(e,t){if("string"!=typeof e[t])throw new Er(Ir.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}!function(e,t=!0){!function(e){hr=e}(i.Jn),(0,i.Xd)(new o.wA("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Yh(new Nr(e.getProvider("auth-internal")),new Rr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Er(Ir.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(lr,"3.5.0",e),(0,i.KN)(lr,"3.5.0","esm2017")}()},8679:function(e,t,n){var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=l(n);d&&(s=s.concat(d(n)));for(var a=u(t),m=u(n),g=0;g<s.length;++g){var y=s[g];if(!(o[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=h(n,y);try{c(t,y,v)}catch(e){}}}}return t}},6103:function(e,t){var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function A(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case u:return e;default:return t}}case i:return t}}}function _(e){return A(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||A(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return A(e)===c},t.isContextProvider=function(e){return A(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return A(e)===h},t.isFragment=function(e){return A(e)===o},t.isLazy=function(e){return A(e)===g},t.isMemo=function(e){return A(e)===m},t.isPortal=function(e){return A(e)===i},t.isProfiler=function(e){return A(e)===a},t.isStrictMode=function(e){return A(e)===s},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=A},1296:function(e,t,n){e.exports=n(6103)},4448:function(e,t,n){var r=n(7294),i=n(4142);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(e){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function oe(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ce=null,Ie=null;function Ee(e){if(e=bi(e)){if("function"!=typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=Ai(t),_e(e.stateNode,e.type,t))}}function Se(e){Ce?Ie?Ie.push(e):Ie=[e]:Ce=e}function xe(){if(Ce){var e=Ce,t=Ie;if(Ie=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function ke(e,t){return e(t)}function Te(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return ke(e,t,n)}finally{Ne=!1,(null!==Ce||null!==Ie)&&(Te(),xe())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Me=!1,Fe=null,je=!1,Be=null,Ue={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,o,s,a,u){Me=!1,Fe=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $e(i),e;if(s===r)return $e(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,st=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(at(e)/ut|0)|0},at=Math.log,ut=Math.LN2,ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!=(o&=s)&&(r=dt(o))}else 0!=(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var At,_t,Ct,It,Et,St=!1,xt=[],kt=null,Tt=null,Nt=null,Dt=new Map,Ot=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&_t(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){St=!1,null!==kt&&jt(kt)&&(kt=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Nt&&jt(Nt)&&(Nt=null),Dt.forEach(Bt),Ot.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<xt.length){Vt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Vt(kt,e),null!==Tt&&Vt(Tt,e),null!==Nt&&Vt(Nt,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Gt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=o}}function Ht(e,t,n,r){if($t){var i=Qt(e,t,n,r);if(null===i)$r(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Mt(kt,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&At(o),null===(o=Qt(e,t,n,r))&&$r(e,t,r,Wt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Wt=null;function Qt(e,t,n,r){if(Wt=null,null!==(e=vi(e=Ae(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,an=e.screenY-un.screenY):an=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(F({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return In}var Sn=F({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Sn),kn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Dn),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Wn(e){jr(e,0)}function Qn(e){if(H(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Gn(t,Hn,e,Ae(e)),De(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==W(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Cr={},Ir={};function Er(e){if(Cr[e])return Cr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Cr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Er("animationend"),xr=Er("animationiteration"),kr=Er("animationstart"),Tr=Er("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Rr=Dr[Pr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(xr,"onAnimationIteration"),Or(kr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=u}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}De((function(){var r=o,i=Ae(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Sr:case xr:case kr:u=yn;break;case Tr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var l=0!=(4&t),d=!l&&"scroll"===e,h=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Oe(p,h))&&l.push(Gr(p,m,f))),d)break;p=p.return}0<l.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==u?a:wi(u),f=null==c?a:wi(c),(a=new l(m,p+"leave",u,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=f,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(h=c,p=0,f=l=u;f;f=Hr(f))p++;for(f=0,m=h;m;m=Hr(m))f++;for(;0<p-f;)l=Hr(l),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==u&&Wr(s,a,u,l,!1),null!==c&&null!==d&&Wr(s,d,c,l,!0)}if("select"===(u=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Yn;else if($n(a))if(Jn)g=sr;else{g=ir;var y=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:y}),(v||null!==(v=Vn(n)))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v)}jr(s,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=Oe(n,o))&&s.unshift(Gr(n,u,a)):i||null!=(u=Oe(n,o))&&s.push(Gr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,si="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ai(e){return e[fi]||null}var _i=[],Ci=-1;function Ii(e){return{current:e}}function Ei(e){0>Ci||(e.current=_i[Ci],_i[Ci]=null,Ci--)}function Si(e,t){Ci++,_i[Ci]=e.current,e.current=t}var xi={},ki=Ii(xi),Ti=Ii(!1),Ni=xi;function Di(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!=e.childContextTypes}function Pi(){Ei(Ti),Ei(ki)}function Ri(e,t,n){if(ki.current!==xi)throw Error(o(168));Si(ki,t),Si(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ni=ki.current,Si(ki,e),Si(Ti,Ti.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(ki),Si(ki,e)):Ei(Ti),Si(Ti,n)}var ji=null,Bi=!1,Ui=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,zi),t}finally{bt=t,Ui=!1}}return null}var qi=[],$i=0,Gi=null,Ki=0,Hi=[],Wi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){qi[$i++]=Ki,qi[$i++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Hi[Wi++]=Yi,Hi[Wi++]=Ji,Hi[Wi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Yi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Gi;)Gi=qi[--$i],qi[$i]=null,Ki=qi[--$i],qi[$i]=null;for(;e===Qi;)Qi=Hi[--Wi],Hi[Wi]=null,Ji=Hi[--Wi],Hi[Wi]=null,Yi=Hi[--Wi],Hi[Wi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Ii(null),bo=null,wo=null,Ao=null;function _o(){Ao=wo=bo=null}function Co(e){var t=vo.current;Ei(vo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,Ao=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(wa=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function ko(e){null===xo?xo=[e]:xo.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ko(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&ku)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,ko(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var l=e.alternate;null!==l&&(a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=u)}if(null!==o){var d=i.baseState;for(s=0,l=c=u=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=F({},d,h);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(c=l=f,u=d):l=l.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=s,e.lanes=s,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ro(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ro(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ro(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function $o(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"==typeof o&&null!==o?o=So(o):(i=Oi(t)?Ni:ki.current,o=(r=null!=(r=t.contextTypes))?Di(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=So(o):(o=Oi(t)?Ni:ki.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ho(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===O&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ho(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ho(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ho(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Wo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Wo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Wo(t,r)}return null}function m(i,o,a,u){for(var c=null,l=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],u);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,m),null===l?c=y:l.sibling=y,l=y,d=g}if(m===a.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],u))&&(o=s(d,o,m),null===l?c=d:l.sibling=d,l=d);return io&&Xi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,u,c){var l=L(u);if("function"!=typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?l=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Xi(i,g),l;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,g),null===d?l=v:d.sibling=v,d=v);return io&&Xi(i,g),l}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?l=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),l}return function e(r,o,s,u){if("object"==typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case A:e:{for(var c=s.key,l=o;null!==l;){if(l.key===c){if((c=s.type)===C){if(7===l.tag){n(r,l.sibling),(o=i(l,s.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===O&&Qo(c)===l.type){n(r,l.sibling),(o=i(l,s.props)).ref=Ho(r,l,s),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===C?((o=Lc(s.props.children,r.mode,u,s.key)).return=r,r=o):((u=Rc(s.type,s.key,s.props,null,r.mode,u)).ref=Ho(r,o,s),u.return=r,r=u)}return a(r);case _:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,u)).return=r,r=o}return a(r);case O:return e(r,o,(l=s._init)(s._payload),u)}if(te(s))return m(r,o,s,u);if(L(s))return g(r,o,s,u);Wo(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,u)).return=r,r=o),a(r)):n(r,o)}}var Jo=Yo(!0),Xo=Yo(!1),Zo={},es=Ii(Zo),ts=Ii(Zo),ns=Ii(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Si(ns,t),Si(ts,e),Si(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(es),Si(es,t)}function os(){Ei(es),Ei(ts),Ei(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ue(t,e.type);t!==n&&(Si(ts,e),Si(es,n))}function as(e){ts.current===e&&(Ei(es),Ei(ts))}var us=Ii(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function ds(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,ys=null,vs=!1,bs=!1,ws=0,As=0;function _s(){throw Error(o(321))}function Cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:ua,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,ys=gs=ms=null,vs=!1,t)throw Error(o(300));return e}function Es(){var e=0!==ws;return ws=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function xs(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function ks(e,t){return"function"==typeof t?t(e):t}function Ts(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=a=null,c=null,l=s;do{var d=l.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,a=r):c=c.next=h,ms.lanes|=d,Mu|=d}l=l.next}while(null!==l&&l!==s);null===c?a=r:c.next=u,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Mu|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ds(){}function Os(e,t){var n=ms,r=xs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,$s(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,Bs(9,Rs.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(o(349));0!=(30&ps)||Ps(n,t,i)}return i}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Fs(e)}function Ls(e,t,n){return n((function(){Ms(t)&&Fs(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function Fs(e){var t=No(e,1);null!==t&&nc(t,e,1,-1)}function js(e){var t=Ss();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return xs().memoizedState}function Vs(e,t,n,r){var i=Ss();ms.flags|=e,i.memoizedState=Bs(1|t,n,void 0,void 0===r?null:r)}function zs(e,t,n,r){var i=xs();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Cs(r,s.deps))return void(i.memoizedState=Bs(t,n,o,r))}ms.flags|=e,i.memoizedState=Bs(1|t,n,o,r)}function qs(e,t){return Vs(8390656,8,e,t)}function $s(e,t){return zs(2048,8,e,t)}function Gs(e,t){return zs(4,2,e,t)}function Ks(e,t){return zs(4,4,e,t)}function Hs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ws(e,t,n){return n=null!=n?n.concat([e]):null,zs(4,4,Hs.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0==(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return xs().memoizedState}function ta(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e)?ia(t,n):null!==(n=To(e,t,n,r))&&(nc(n,e,r,ec()),oa(n,t,r))}function na(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var u=t.interleaved;return null===u?(i.next=i,ko(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=To(e,t,i,r))&&(nc(n,e,r,i=ec()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var sa={readContext:So,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},aa={readContext:So,useCallback:function(e,t){return Ss().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vs(4194308,4,Hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Ss();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ss();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ss().memoizedState=e},useState:js,useDebugValue:Qs,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Ss();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tu)throw Error(o(349));0!=(30&ps)||Ps(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ls.bind(null,r,s,e),[e]),r.flags|=2048,Bs(9,Rs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ss(),t=Tu.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=As++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:So,useCallback:Ys,useContext:So,useEffect:$s,useImperativeHandle:Ws,useInsertionEffect:Gs,useLayoutEffect:Ks,useMemo:Js,useReducer:Ts,useRef:Us,useState:function(){return Ts(ks)},useDebugValue:Qs,useDeferredValue:function(e){return Xs(xs(),gs.memoizedState,e)},useTransition:function(){return[Ts(ks)[0],xs().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1},ca={readContext:So,useCallback:Ys,useContext:So,useEffect:$s,useImperativeHandle:Ws,useInsertionEffect:Gs,useLayoutEffect:Ks,useMemo:Js,useReducer:Ns,useRef:Us,useState:function(){return Ns(ks)},useDebugValue:Qs,useDeferredValue:function(e){var t=xs();return null===gs?t.memoizedState=e:Xs(t,gs.memoizedState,e)},useTransition:function(){return[Ns(ks)[0],xs().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1};function la(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fa="function"==typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Gu=r),ha(0,t)},n}function ma(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!=typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function Aa(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=Is(e,t,n,r,o,i),n=Es(),null===e||wa?(io&&n&&eo(t),t.flags|=1,Aa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return $a(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,$a(e,t,i);0!=(131072&e.flags)&&(wa=!0)}}return xa(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pu,Ou),Ou|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pu,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Pu,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Pu,Ou),Ou|=r;return Aa(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var o=Oi(n)?Ni:ki.current;return o=Di(t,o),Eo(t,i),n=Is(e,t,n,r,o,i),r=Es(),null===e||wa?(io&&r&&eo(t),t.flags|=1,Aa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function ka(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)qa(e,t),$o(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;c="object"==typeof c&&null!==c?So(c):Di(t,c=Oi(n)?Ni:ki.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&Go(t,s,r,c),Do=!1;var h=t.memoizedState;s.state=h,jo(t,r,s,i),u=t.memoizedState,a!==r||h!==u||Ti.current||Do?("function"==typeof l&&(Vo(t,n,l,r),u=t.memoizedState),(a=Do||qo(t,n,a,r,h,u,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Po(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,u="object"==typeof(u=n.contextType)&&null!==u?So(u):Di(t,u=Oi(n)?Ni:ki.current);var f=n.getDerivedStateFromProps;(l="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==u)&&Go(t,s,r,u),Do=!1,h=t.memoizedState,s.state=h,jo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ti.current||Do?("function"==typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(c=Do||qo(t,n,c,r,h,p,u)||!1)?(l||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,o,i)}function Ta(e,t,n,r,i,o){Sa(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),$a(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,a,o)):Aa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),is(e,t.containerInfo)}function Da(e,t,n,r,i){return po(),mo(i),t.flags|=256,Aa(e,t,n,r),t.child}var Oa,Pa,Ra,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=us.current,a=!1,u=0!=(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Si(us,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=Mc(u,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&Jo(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0==(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ba(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(u=0!=(a&e.childLanes),wa||u){if(null!==(r=Tu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),nc(r,e,i,-1))}return mc(),Ba(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Hi[Wi++]=Yi,Hi[Wi++]=Ji,Hi[Wi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),(t=ja(t,r.children)).flags|=4096,t)}(e,t,u,i,r,s,n);if(a){a=i.fallback,u=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Pc(r,a):(a=Lc(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=null===(u=e.child.memoizedState)?Ma(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Aa(e,t,r.children,n),0!=(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(us,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ha(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Ka(t),null;case 3:return r=t.stateNode,os(),Ei(Ti),Ei(ki),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ka(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!=(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ie(r,s),Br("invalid",r)}for(var u in ve(n,s),i=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"==typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[fi]=r,Oa(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var l=c[s];"style"===s?ge(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"==typeof l&&he(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Br("scroll",e):null!=l&&b(e,s,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ra(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ei(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&us.current)?0===Ru&&(Ru=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return os(),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return Co(t.type._context),Ka(t),null;case 19:if(Ei(us),null===(s=t.memoizedState))return Ka(t),null;if(r=0!=(128&t.flags),null===(u=s.rendering))if(r)Ga(s,!1);else{if(0!==Ru||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=cs(e))){for(t.flags|=128,Ga(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>zu&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!io)return Ka(t),null}else 2*Je()-s.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=us.current,Si(us,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ou)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Wa(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ei(Ti),Ei(ki),ds(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ei(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(us),null;case 4:return os(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(l in ve(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(l,c)):"children"===l?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),s||u===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ya=!1,Ja="function"==typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ic(e,t,n)}else n.current=null}function eu(e,t,n){try{n()}catch(n){Ic(e,t,n)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function au(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=lu,i=du;lu=null,hu(e,t,n),du=i,null!==(lu=r)&&(du?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(du?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=du,lu=n.stateNode.containerInfo,du=!0,hu(e,t,n),lu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ya&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&eu(n,t,s),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ic(n,t,e)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hu(e,t,n),Ya=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,u=a;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,du=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===lu)throw Error(o(160));fu(s,a,i),lu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){Ic(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(t){Ic(e,e.return,t)}try{nu(5,e,e.return)}catch(t){Ic(e,e.return,t)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){Ic(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===s.type&&null!=s.name&&J(i,s),be(u,a);var l=be(u,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,l)}switch(u){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(t){Ic(e,e.return,t)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){Ic(e,e.return,t)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(t){Ic(e,e.return,t)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Je())),4&r&&pu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(l=Ya)||d,mu(t,e),Ya=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!=(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nu(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Ic(r,n,e)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){Au(h);continue}}null!==p?(p.return=f,Xa=p):Au(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,l?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=h.stateNode,a=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",a))}catch(t){Ic(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(t){Ic(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,au(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;uu(e,au(e),s);break;default:throw Error(o(161))}}catch(t){Ic(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Xa=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!=(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Qa;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Ya;a=Qa;var c=Ya;if(Qa=s,(Ya=u)&&!c)for(Xa=i;null!==Xa;)u=(s=Xa).child,22===s.tag&&null!==s.memoizedState?_u(i):null!==u?(u.return=s,Xa=u):_u(i);for(;null!==o;)Xa=o,bu(o,t,n),o=o.sibling;Xa=i,Qa=a,Ya=c}wu(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):wu(e)}}function wu(e){for(;null!==Xa;){var t=Xa;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,a,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&iu(t)}catch(e){Ic(t,t.return,e)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function Au(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function _u(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(e){Ic(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Ic(t,i,e)}}var o=t.return;try{iu(t)}catch(e){Ic(t,o,e)}break;case 5:var s=t.return;try{iu(t)}catch(e){Ic(t,s,e)}}}catch(e){Ic(t,t.return,e)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Cu,Iu=Math.ceil,Eu=w.ReactCurrentDispatcher,Su=w.ReactCurrentOwner,xu=w.ReactCurrentBatchConfig,ku=0,Tu=null,Nu=null,Du=0,Ou=0,Pu=Ii(0),Ru=0,Lu=null,Mu=0,Fu=0,ju=0,Bu=null,Uu=null,Vu=0,zu=1/0,qu=null,$u=!1,Gu=null,Ku=null,Hu=!1,Wu=null,Qu=0,Yu=0,Ju=null,Xu=-1,Zu=0;function ec(){return 0!=(6&ku)?Je():-1!==Xu?Xu:Xu=Je()}function tc(e){return 0==(1&e.mode)?1:0!=(2&ku)&&0!==Du?Du&-Du:null!==go.transition?(0===Zu&&(Zu=mt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Ju=null,Error(o(185));yt(e,n,r),0!=(2&ku)&&e===Tu||(e===Tu&&(0==(2&ku)&&(Fu|=n),4===Ru&&ac(e,Du)),rc(e,r),1===n&&0===ku&&0==(1&t.mode)&&(zu=Je()+500,Bi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,u=i[s];-1===u?0!=(a&n)&&0==(a&r)||(i[s]=ft(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Tu?Du:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),si((function(){0==(6&ku)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,Zu=0,0!=(6&ku))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Tu?Du:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=ku;ku|=2;var s=pc();for(Tu===e&&Du===t||(qu=null,zu=Je()+500,hc(e,t));;)try{vc();break}catch(t){fc(e,t)}_o(),Eu.current=s,ku=i,null!==Nu?t=0:(Tu=null,Du=0,t=Ru)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=oc(e,i)),1===t)throw n=Lu,hc(e,0),ac(e,r),rc(e,Je()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&0!==(s=pt(e))&&(r=s,t=oc(e,s)),1===t))throw n=Lu,hc(e,0),ac(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ac(e,Uu,qu);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ac.bind(null,e,Uu,qu),t);break}Ac(e,Uu,qu);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ri(Ac.bind(null,e,Uu,qu),r);break}Ac(e,Uu,qu);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function ac(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!=(6&ku))throw Error(o(327));_c();var t=ht(e,0);if(0==(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,hc(e,0),ac(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Uu,qu),rc(e,Je()),null}function cc(e,t){var n=ku;ku|=1;try{return e(t)}finally{0===(ku=n)&&(zu=Je()+500,Bi&&zi())}}function lc(e){null!==Wu&&0===Wu.tag&&0==(6&ku)&&_c();var t=ku;ku|=1;var n=xu.transition,r=bt;try{if(xu.transition=null,bt=1,e)return e()}finally{bt=r,xu.transition=n,0==(6&(ku=t))&&zi()}}function dc(){Ou=Pu.current,Ei(Pu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Pi();break;case 3:os(),Ei(Ti),Ei(ki),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Ei(us);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tu=e,Nu=e=Pc(e.current,null),Du=Ou=t,Ru=0,Lu=null,ju=Fu=Mu=0,Uu=Bu=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}xo=null}return e}function fc(e,t){for(;;){var n=Nu;try{if(_o(),hs.current=sa,vs){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vs=!1}if(ps=0,ys=gs=ms=null,bs=!1,ws=0,Su.current=null,null===n||null===n.return){Ru=1,Lu=t,Nu=null;break}e:{var s=e,a=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c,d=u,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,u,0,t),1&p.mode&&ga(s,l,t),c=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0==(1&t)){ga(s,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=ya(a);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),va(y,a,u,0,t),mo(la(c,u));break e}}s=c=la(c,u),4!==Ru&&(Ru=2),null===Bu?Bu=[s]:Bu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:u=c;var v=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof v.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,u,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(e){t=e,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=sa,null===e?sa:e}function mc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Tu||0==(268435455&Mu)&&0==(268435455&Fu)||ac(Tu,Du)}function gc(e,t){var n=ku;ku|=2;var r=pc();for(Tu===e&&Du===t||(qu=null,hc(e,t));;)try{yc();break}catch(t){fc(e,t)}if(_o(),ku=n,Eu.current=r,null!==Nu)throw Error(o(261));return Tu=null,Du=0,Ru}function yc(){for(;null!==Nu;)bc(Nu)}function vc(){for(;null!==Nu&&!Qe();)bc(Nu)}function bc(e){var t=Cu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Nu=t,Su.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ha(n,t,Ou)))return void(Nu=n)}else{if(null!==(n=Wa(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Ru=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Ru&&(Ru=5)}function Ac(e,t,n){var r=bt,i=xu.transition;try{xu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Wu);if(0!=(6&ku))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Tu&&(Nu=Tu=null,Du=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Hu||(Hu=!0,Tc(tt,(function(){return _c(),null}))),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=xu.transition,xu.transition=null;var a=bt;bt=1;var u=ku;ku|=4,Su.current=null,function(e,t){if(ei=$t,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,u=-1,c=-1,l=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++l===i&&(u=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(e){Ic(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tu,tu=!1}(e,n),gu(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Ye(),ku=u,bt=a,xu.transition=s}else e.current=n;if(Hu&&(Hu=!1,Wu=e,Qu=i),0===(s=e.pendingLanes)&&(Ku=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if($u)throw $u=!1,e=Gu,Gu=null,e;0!=(1&Qu)&&0!==e.tag&&_c(),0!=(1&(s=e.pendingLanes))?e===Ju?Yu++:(Yu=0,Ju=e):Yu=0,zi()}(e,t,n,r)}finally{xu.transition=i,bt=r}return null}function _c(){if(null!==Wu){var e=wt(Qu),t=xu.transition,n=bt;try{if(xu.transition=null,bt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Qu=0,0!=(6&ku))throw Error(o(331));var i=ku;for(ku|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!=(16&Xa.flags)){var u=s.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xa=l;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nu(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(ou(d),d===l){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xa=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!=(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nu(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!=(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!=(2048&(u=Xa).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(e){Ic(u,u.return,e)}if(u===a){Xa=null;break e}var A=u.sibling;if(null!==A){A.return=u.return,Xa=A;break e}Xa=u.return}}if(ku=i,zi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,xu.transition=t}}return!1}function Cc(e,t,n){e=Lo(e,t=pa(0,t=la(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Lo(t,e=ma(t,e=la(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Du&n)===n&&(4===Ru||3===Ru&&(130023424&Du)===Du&&500>Je()-Vu?hc(e,0):ju|=n),rc(e,t)}function Sc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=lt,0==(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=No(e,t))&&(yt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Sc(e,n)}function Tc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Oc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case C:return Lc(n.children,i,s,t);case I:a=8,i|=8;break;case E:return(e=Dc(12,n,t,2|i)).elementType=E,e.lanes=s,e;case T:return(e=Dc(13,n,t,i)).elementType=T,e.lanes=s,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=s,e;case P:return Mc(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case x:a=9;break e;case k:a=11;break e;case D:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,s,a,u){return e=new Bc(e,t,n,a,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return xi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,u){return(e=Uc(n,r,!0,e,0,o,0,a,u)).context=zc(null),n=e.current,(o=Ro(r=ec(),i=tc(n))).callback=null!=t?t:null,Lo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(nc(e,i,s,o),Mo(e,i,s)),s}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)wa=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),po();break;case 5:ss(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(us,1&us.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Fa(e,t,n):(Si(us,1&us.current),null!==(e=$a(e,t,n))?e.sibling:null);Si(us,1&us.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return $a(e,t,n)}(e,t,n);wa=0!=(131072&e.flags)}else wa=!1,io&&0!=(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Di(t,ki.current);Eo(t,n),i=Is(null,t,r,e,i,n);var s=Es();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Aa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Oc(e)?1:0;if(null!=e){if((e=e.$$typeof)===k)return 11;if(e===D)return 14}return 2}(r),e=yo(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Po(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Da(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Da(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=$a(e,t,n);break e}Aa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Sa(e,t),Aa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fa(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Si(vo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ti.current){t=$a(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ro(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Aa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=So(i)),t.flags|=1,Aa(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ca(e,t,r,i=yo(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),qa(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Eo(t,n),$o(t,r,i),Ko(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ea(e,t,n)}throw Error(o(156,t.tag))};var Wc="function"==typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Gc(s);a.call(e)}}$c(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Gc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Gc(u);a.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){$c(t,u,n,r)})),u}(n,t,e,i,r);return Gc(s)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));$c(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){$c(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0==(6&ku)&&(zu=Je()+500,zi()))}break;case 13:lc((function(){var t=No(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},_t=function(e){if(13===e.tag){var t=No(e,134217728);null!==t&&nc(t,e,134217728,ec()),Hc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=No(e,t);null!==n&&nc(n,e,t,ec()),Hc(e,t)}},It=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(o(90));H(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,Ai,Se,xe,cc]},nl={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Wc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Wc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},3935:function(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},4203:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,u=e[a],c=a+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[a]=n,r=a);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],l=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function A(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(l);null!==t&&R(A,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"==typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var d=r(l);null!==d&&R(A,d.startTime-n),u=!1}return u}finally{h=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,I=!1,E=null,S=-1,x=5,k=-1;function T(){return!(t.unstable_now()-k<x)}function N(){if(null!==E){var e=t.unstable_now();k=e;var n=!0;try{n=E(!0,e)}finally{n?C():(I=!1,E=null)}}else I=!1}if("function"==typeof b)C=function(){b(N)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=N,C=function(){O.postMessage(null)}}else C=function(){y(N,0)};function P(e){E=e,I||(I=!0,C())}function R(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(v(S),S=-1):g=!0,R(A,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},4142:function(e,t,n){e.exports=n(4203)},558:function(e,t,n){n.r(t),n.d(t,{Provider:function(){return B},ReactReduxContext:function(){return c},batch:function(){return o.unstable_batchedUpdates},connect:function(){return j},createDispatchHook:function(){return z},createSelectorHook:function(){return p},createStoreHook:function(){return U},shallowEqual:function(){return O},useDispatch:function(){return q},useSelector:function(){return m},useStore:function(){return V}});var r=n(1688),i=n(2798),o=n(3935);let s=function(e){e()};const a=()=>s;var u=n(7294);const c=(0,u.createContext)(null);function l(){return(0,u.useContext)(c)}const d=()=>{throw new Error("uSES not initialized!")};let h=d;const f=(e,t)=>e===t;function p(e=c){const t=e===c?l:()=>(0,u.useContext)(e);return function(e,n=f){const{store:r,subscription:i,getServerState:o}=t(),s=h(i.addNestedSub,r.getState,o||r.getState,e,n);return(0,u.useDebugValue)(s),s}}const m=p();function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var v=n(8679),b=n.n(v),w=n(2973);const A=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function _(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a,u,c,l,d,h=!1;return function(f,p){return h?function(h,f){const p=!o(f,u),m=!i(h,a,f,u);return a=h,u=f,p&&m?(c=e(a,u),t.dependsOnOwnProps&&(l=t(r,u)),d=n(c,l,u),d):p?(e.dependsOnOwnProps&&(c=e(a,u)),t.dependsOnOwnProps&&(l=t(r,u)),d=n(c,l,u),d):m?function(){const t=e(a,u),r=!s(t,c);return c=t,r&&(d=n(c,l,u)),d}():d}(f,p):(a=f,u=p,c=e(a,u),l=t(r,u),d=n(c,l,u),h=!0,d)}}function C(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function I(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function E(e,t){return function(t,{displayName:n}){const r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=I(e);let i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=I(i),i=r(t,n)),i},r}}function S(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function x(e,t,n){return g({},n,e,t)}const k={notify(){},get:()=>[]};function T(e,t){let n,r=k;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=a();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=k)},getListeners:()=>r};return s}const N="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?u.useLayoutEffect:u.useEffect;function D(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function O(e,t){if(D(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!D(e[n[r]],t[n[r]]))return!1;return!0}const P=["reactReduxForwardedRef"];let R=d;const L=[null,null];function M(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function F(e,t){return e===t}const j=function(e,t,n,{pure:r,areStatesEqual:i=F,areOwnPropsEqual:o=O,areStatePropsEqual:s=O,areMergedPropsEqual:a=O,forwardRef:l=!1,context:d=c}={}){const h=d,f=function(e){return e?"function"==typeof e?E(e):S(e,"mapStateToProps"):C((()=>({})))}(e),p=function(e){return e&&"object"==typeof e?C((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"==typeof i&&(n[r]=(...e)=>t(i(...e)))}return n}(e,t))):e?"function"==typeof e?E(e):S(e,"mapDispatchToProps"):C((e=>({dispatch:e})))}(t),m=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:r}){let i,o=!1;return function(t,n,s){const a=e(t,n,s);return o?r(a,i)||(i=a):(o=!0,i=a),i}}}(e):S(e,"mergeProps"):()=>x}(n),v=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:v,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function c(t){const[n,i,o]=(0,u.useMemo)((()=>{const{reactReduxForwardedRef:e}=t,n=y(t,P);return[t.context,e,n]}),[t]),s=(0,u.useMemo)((()=>n&&n.Consumer&&(0,w.isContextConsumer)(u.createElement(n.Consumer,null))?n:h),[n,h]),a=(0,u.useContext)(s),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),l=Boolean(a)&&Boolean(a.store),d=c?t.store:a.store,f=l?a.getServerState:d.getState,p=(0,u.useMemo)((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=y(t,A);return _(n(e,o),r(e,o),i(e,o),e,o)}(d.dispatch,r)),[d]),[m,b]=(0,u.useMemo)((()=>{if(!v)return L;const e=T(d,c?void 0:a.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,c,a]),C=(0,u.useMemo)((()=>c?a:g({},a,{subscription:m})),[c,a,m]),I=(0,u.useRef)(),E=(0,u.useRef)(o),S=(0,u.useRef)(),x=(0,u.useRef)(!1),k=((0,u.useRef)(!1),(0,u.useRef)(!1)),D=(0,u.useRef)();N((()=>(k.current=!0,()=>{k.current=!1})),[]);const O=(0,u.useMemo)((()=>()=>S.current&&o===E.current?S.current:p(d.getState(),o)),[d,o]),F=(0,u.useMemo)((()=>e=>m?function(e,t,n,r,i,o,s,a,u,c,l){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!a.current)return;const e=t.getState();let n,f;try{n=r(e,i.current)}catch(e){f=e,h=e}f||(h=null),n===o.current?s.current||c():(o.current=n,u.current=n,s.current=!0,l())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(v,d,m,p,E,I,x,k,S,b,e):()=>{}),[m]);var j,B;let U;j=M,B=[E,I,x,o,S,b],N((()=>j(...B)),undefined);try{U=R(F,O,f?()=>p(f(),o):O)}catch(e){throw D.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${D.current.stack}\n\n`),e}N((()=>{D.current=void 0,S.current=void 0,I.current=U}));const V=(0,u.useMemo)((()=>u.createElement(e,g({},U,{ref:i}))),[i,e,U]);return(0,u.useMemo)((()=>v?u.createElement(s.Provider,{value:C},V):V),[s,V,C])}const d=u.memo(c);if(d.WrappedComponent=e,d.displayName=c.displayName=n,l){const t=u.forwardRef((function(e,t){return u.createElement(d,g({},e,{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,b()(t,e)}return b()(d,e)}},B=function({store:e,context:t,children:n,serverState:r}){const i=(0,u.useMemo)((()=>{const t=T(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}}),[e,r]),o=(0,u.useMemo)((()=>e.getState()),[e]);N((()=>{const{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),o!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[i,o]);const s=t||c;return u.createElement(s.Provider,{value:i},n)};function U(e=c){const t=e===c?l:()=>(0,u.useContext)(e);return function(){const{store:e}=t();return e}}const V=U();function z(e=c){const t=e===c?V:U(e);return function(){return t().dispatch}}const q=z();var $,G;$=i.useSyncExternalStoreWithSelector,h=$,(e=>{R=e})(r.useSyncExternalStore),G=o.unstable_batchedUpdates,s=G},8359:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case l:case p:case f:case a:return e;default:return t}}case r:return t}}}(e)===u}},2973:function(e,t,n){e.exports=n(8359)},9818:function(e,t,n){n.r(t),n.d(t,{AbortedDeferredError:function(){return F},Await:function(){return ft},BrowserRouter:function(){return Ot},Form:function(){return Ft},HashRouter:function(){return Pt},Link:function(){return Lt},MemoryRouter:function(){return at},NavLink:function(){return Mt},Navigate:function(){return ut},NavigationType:function(){return r},Outlet:function(){return ct},Route:function(){return lt},Router:function(){return dt},RouterProvider:function(){return st},Routes:function(){return ht},ScrollRestoration:function(){return Bt},UNSAFE_DataRouterContext:function(){return Ie},UNSAFE_DataRouterStateContext:function(){return Ee},UNSAFE_DataStaticRouterContext:function(){return Ce},UNSAFE_LocationContext:function(){return ke},UNSAFE_NavigationContext:function(){return xe},UNSAFE_RouteContext:function(){return Te},UNSAFE_enhanceManualRouteObjects:function(){return bt},createBrowserRouter:function(){return Nt},createHashRouter:function(){return Dt},createMemoryRouter:function(){return wt},createPath:function(){return p},createRoutesFromChildren:function(){return yt},createRoutesFromElements:function(){return yt},createSearchParams:function(){return St},defer:function(){return U},generatePath:function(){return E},isRouteErrorResponse:function(){return q},json:function(){return M},matchPath:function(){return S},matchRoutes:function(){return b},parsePath:function(){return m},redirect:function(){return V},renderMatches:function(){return vt},resolvePath:function(){return N},unstable_HistoryRouter:function(){return Rt},useActionData:function(){return nt},useAsyncError:function(){return ot},useAsyncValue:function(){return it},useFetcher:function(){return Kt},useFetchers:function(){return Ht},useFormAction:function(){return $t},useHref:function(){return De},useInRouterContext:function(){return Oe},useLinkClickHandler:function(){return Ut},useLoaderData:function(){return et},useLocation:function(){return Pe},useMatch:function(){return Le},useMatches:function(){return Ze},useNavigate:function(){return Fe},useNavigation:function(){return Je},useNavigationType:function(){return Re},useOutlet:function(){return Ue},useOutletContext:function(){return Be},useParams:function(){return Ve},useResolvedPath:function(){return ze},useRevalidator:function(){return Xe},useRouteError:function(){return rt},useRouteLoaderData:function(){return tt},useRoutes:function(){return qe},useSearchParams:function(){return Vt},useSubmit:function(){return zt}});var r,i=n(7294),o=n.t(i,2);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const a="popstate";function u(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:i,v5Compat:o=!1}=e;t=n.map(((e,t)=>h(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let s=c(null==i?t.length-1:i),a=r.Pop,u=null;function c(e){return Math.min(Math.max(e,0),t.length-1)}function l(){return t[s]}function h(e,n,r){void 0===n&&(n=null);let i=f(t?l().pathname:"/",e,n,r);return d("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}return{get index(){return s},get action(){return a},get location(){return l()},createHref:e=>"string"==typeof e?e:p(e),push(e,n){a=r.Push;let i=h(e,n);s+=1,t.splice(s,t.length,i),o&&u&&u({action:a,location:i})},replace(e,n){a=r.Replace;let i=h(e,n);t[s]=i,o&&u&&u({action:a,location:i})},go(e){a=r.Pop,s=c(s+e),u&&u({action:a,location:l()})},listen:e=>(u=e,()=>{u=null})}}function c(e){return void 0===e&&(e={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:p(t)}),null,e)}function l(e){return void 0===e&&(e={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:p(t))}),(function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function d(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function h(e){return{usr:e.state,key:e.key}}function f(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,u=o.history,c=r.Pop,l=null;function d(){c=r.Pop,l&&l({action:c,location:p.location})}let p={get action(){return c},get location(){return e(o,u)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(a,d),l=e,()=>{o.removeEventListener(a,d),l=null}},createHref:e=>t(o,e),push:function(e,t){c=r.Push;let i=f(p.location,e,t);n&&n(i,e);let a=h(i),d=p.createHref(i);try{u.pushState(a,"",d)}catch(e){o.location.assign(d)}s&&l&&l({action:c,location:i})},replace:function(e,t){c=r.Replace;let i=f(p.location,e,t);n&&n(i,e);let o=h(i),a=p.createHref(i);u.replaceState(o,"",a),s&&l&&l({action:c,location:i})},go:e=>u.go(e)};return p}var y;function v(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map(((e,r)=>{let i=[...t,r],o="string"==typeof e.id?e.id:i.join("-");return k(!n.has(o),'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),n.add(o),s({},e,{id:o,children:e.children?v(e.children,i,n):void 0})}))}function b(e,t,n){void 0===n&&(n="/");let r=x(("string"==typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=I(i[e],r);return o}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(k(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=O([r,o.relativePath]),a=n.concat(o);e.children&&e.children.length>0&&(k(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),w(e.children,t,a,s)),(null!=e.path||e.index)&&t.push({path:s,score:C(s,e.index),routesMeta:a})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const A=/^:\w+$/,_=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=-2),t&&(r+=2),n.filter((e=>!_(e))).reduce(((e,t)=>e+(A.test(t)?3:""===t?1:10)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let s=n[e],a=e===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=S({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let l=s.route;o.push({params:r,pathname:O([i,c.pathname]),pathnameBase:P(O([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return o}function E(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,((e,n)=>(k(null!=t[n],'Missing ":'+n+'" param'),t[n]))).replace(/(\/?)\*/,((e,n,r,i)=>null==t["*"]?"/*"===i?"/":"":""+n+t["*"]))}function S(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),T("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return T(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function k(e,t){if(!1===e||null==e)throw new Error(t)}function T(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function N(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:R(r),hash:L(i)}}function D(e,t,n,r){void 0===r&&(r=!1);let i,o="string"==typeof e?m(e):s({},e),a=""===e||""===o.pathname,u=a?"/":o.pathname;if(r||null==u)i=n;else{let e=t.length-1;if(u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=N(o,i),l=u&&"/"!==u&&u.endsWith("/"),d=(a||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!d||(c.pathname+="/"),c}const O=e=>e.join("/").replace(/\/\/+/g,"/"),P=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",M=function(e,t){void 0===t&&(t={});let n="number"==typeof t?{status:t}:t,r=new Headers(n.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),s({},n,{headers:r}))};class F extends Error{}class j{constructor(e){let t;this.pendingKeys=new Set,this.subscriber=void 0,k(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,n)=>t=n)),this.controller=new AbortController;let n=()=>t(new F("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,null,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof F)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const i=this.subscriber;return n?(Object.defineProperty(e,"_error",{get:()=>n}),i&&i(!1),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),i&&i(!1),r)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach(((e,t)=>this.pendingKeys.delete(t)));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeys.size}get unwrappedData(){return k(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:B(r)})}),{})}}function B(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}function U(e){return new j(e)}const V=function(e,t){void 0===t&&(t=302);let n=t;"number"==typeof n?n={status:n}:void 0===n.status&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",e),new Response(null,s({},n,{headers:r}))};class z{constructor(e,t,n){this.status=e,this.statusText=t||"",this.data=n}}function q(e){return e instanceof z}const $={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},G={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};function K(e){k(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=v(e.routes),n=null,i=new Set,o=null,a=null,u=null,c=!1,l=b(t,e.history.location,e.basename),d=null;if(null==l){let{matches:e,route:n,error:r}=ie(t);l=e,d={[n.id]:r}}let h,p,m=!l.some((e=>e.route.loader))||null!=e.hydrationData,g={historyAction:e.history.action,location:e.history.location,matches:l,initialized:m,navigation:$,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||d,fetchers:new Map},y=r.Pop,w=!1,A=!1,_=!1,C=[],I=[],E=new Map,S=0,x=-1,T=new Map,N=new Set,D=new Map,O=new Map;function P(e){g=s({},g,e),i.forEach((e=>e(g)))}function R(t,n){P(s({},null!=g.actionData&&null!=g.navigation.formMethod&&"loading"===g.navigation.state?{}:{actionData:null},n,n.loaderData?{loaderData:ne(g.loaderData,n.loaderData,n.matches||[])}:{},{historyAction:y,location:t,initialized:!0,navigation:$,revalidation:"idle",restoreScrollPosition:!g.navigation.formData&&ee(t,n.matches||g.matches),preventScrollReset:w})),A||y===r.Pop||(y===r.Push?e.history.push(t,t.state):y===r.Replace&&e.history.replace(t,t.state)),y=r.Pop,w=!1,A=!1,_=!1,C=[],I=[]}async function L(n,i,c){p&&p.abort(),p=null,y=n,A=!0===(c&&c.startUninterruptedRevalidation),function(e,t){if(o&&a&&u){let n=t.map((e=>pe(e,g.loaderData))),r=a(e,n)||e.key;o[r]=u()}}(g.location,g.matches),w=!0===(c&&c.preventScrollReset);let l=c&&c.overrideNavigation,d=b(t,i,e.basename);if(!d){let{matches:e,route:n,error:r}=ie(t);return J(),void R(i,{matches:e,loaderData:{},errors:{[n.id]:r}})}if(m=i,(h=g.location).pathname===m.pathname&&h.search===m.search&&h.hash!==m.hash)return void R(i,{matches:d});var h,m;p=new AbortController;let v,T,L=Z(i,p.signal,c&&c.submission);if(c&&c.pendingError)T={[re(d).route.id]:c.pendingError};else if(c&&c.submission){let e=await async function(e,t,n,i,o){let a;B(),P({navigation:s({state:"submitting",location:t},n)});let u=me(i,t);if(u.route.action){if(a=await X("action",e,u),e.signal.aborted)return{shortCircuited:!0}}else a=oe(t);if(le(a)){let e=s({state:"loading",location:f(g.location,a.location)},n);return await F(a,e,o&&o.replace),{shortCircuited:!0}}if(ce(a)){let e=re(i,u.route.id);return!0!==(o&&o.replace)&&(y=r.Push),{pendingActionError:{[e.route.id]:a.error}}}if(ue(a))throw new Error("defer() is not supported in actions");return{pendingActionData:{[u.route.id]:a.data}}}(L,i,c.submission,d,{replace:c.replace});if(e.shortCircuited)return;v=e.pendingActionData,T=e.pendingActionError,l=s({state:"loading",location:i},c.submission)}let{shortCircuited:M,loaderData:U,errors:V}=await async function(e,t,n,r,i,o,a,u){let c=r;c||(c={state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[l,d]=Q(g,n,i,t,_,C,I,a,u,D);if(J((e=>!(n&&n.some((t=>t.route.id===e)))||l&&l.some((t=>t.route.id===e)))),0===l.length&&0===d.length)return R(t,{matches:n,loaderData:ne(g.loaderData,{},n),errors:u||null,actionData:a||null}),{shortCircuited:!0};A||(d.forEach((e=>{let[t]=e;const n=g.fetchers.get(t);let r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};g.fetchers.set(t,r)})),P(s({navigation:c,actionData:a||g.actionData||null},d.length>0?{fetchers:new Map(g.fetchers)}:{}))),x=++S,d.forEach((e=>{let[t]=e;return E.set(t,p)}));let{results:h,loaderResults:f,fetcherResults:m}=await j(g.matches,l,d,e);if(e.signal.aborted)return{shortCircuited:!0};d.forEach((e=>{let[t]=e;return E.delete(t)}));let y=se(h);if(y){let e=W(g,y);return await F(y,e,o),{shortCircuited:!0}}let{loaderData:v,errors:b}=te(g,n,l,f,u,d,m,O);return O.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&O.delete(t)}))})),function(){let e=[];for(let t of N){let n=g.fetchers.get(t);k(n,"Expected fetcher: "+t),"loading"===n.state&&(N.delete(t),e.push(t))}K(e)}(),s({loaderData:v,errors:b},Y(x)||d.length>0?{fetchers:new Map(g.fetchers)}:{})}(L,i,d,l,c&&c.submission,c&&c.replace,v,T);M||(p=null,R(i,{matches:d,loaderData:U,errors:V}))}function M(e){return g.fetchers.get(e)||G}async function F(e,t,n){e.revalidate&&(_=!0),k(t.location,"Expected a location on the redirect navigation"),p=null;let i=!0===n?r.Replace:r.Push;await L(i,t.location,{overrideNavigation:t})}async function j(e,t,n,r){let i=await Promise.all([...t.map((e=>X("loader",r,e))),...n.map((e=>{let[,t,n]=e;return X("loader",Z(t,r.signal),n)}))]),o=i.slice(0,t.length),s=i.slice(t.length);return await Promise.all([de(e,t,o,r.signal,!1,g.loaderData),de(e,n.map((e=>{let[,,t]=e;return t})),s,r.signal,!0)]),{results:i,loaderResults:o,fetcherResults:s}}function B(){_=!0,C.push(...J()),D.forEach(((e,t)=>{E.has(t)&&(I.push(t),q(t))}))}function U(e,t,n){let r=re(g.matches,t);V(e),P({errors:{[r.route.id]:n},fetchers:new Map(g.fetchers)})}function V(e){E.has(e)&&q(e),D.delete(e),T.delete(e),N.delete(e),g.fetchers.delete(e)}function q(e){let t=E.get(e);k(t,"Expected fetch controller: "+e),t.abort(),E.delete(e)}function K(e){for(let t of e){let e={state:"idle",data:M(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};g.fetchers.set(t,e)}}function Y(e){let t=[];for(let[n,r]of T)if(r<e){let e=g.fetchers.get(n);k(e,"Expected fetcher: "+n),"loading"===e.state&&(q(n),T.delete(n),t.push(n))}return K(t),t.length>0}function J(e){let t=[];return O.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),O.delete(r))})),t}function ee(e,t){if(o&&a&&u){let n=t.map((e=>pe(e,g.loaderData))),r=a(e,n)||e.key,i=o[r];if("number"==typeof i)return i}return null}return h={get basename(){return e.basename},get state(){return g},get routes(){return t},initialize:function(){return n=e.history.listen((e=>{let{action:t,location:n}=e;return L(t,n)})),g.initialized||L(r.Pop,g.location),h},subscribe:function(e){return i.add(e),()=>i.delete(e)},enableScrollRestoration:function(e,t,n){if(o=e,u=t,a=n||(e=>e.key),!c&&g.navigation===$){c=!0;let e=ee(g.location,g.matches);null!=e&&P({restoreScrollPosition:e})}return()=>{o=null,u=null,a=null}},navigate:async function(t,n){if("number"==typeof t)return void e.history.go(t);let{path:i,submission:o,error:s}=H(t,n),a=f(g.location,i,n&&n.state),u=!0===(n&&n.replace)||null!=o?r.Replace:r.Push,c=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0;return await L(u,a,{submission:o,pendingError:s,preventScrollReset:c,replace:n&&n.replace})},fetch:function(n,r,i,o){if("undefined"==typeof AbortController)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");E.has(n)&&q(n);let a=b(t,i,e.basename);if(!a)return void U(n,r,new z(404,"Not Found",null));let{path:u,submission:c}=H(i,o,!0),l=me(a,u);c?async function(n,r,i,o,a){if(B(),D.delete(n),!o.route.action){let{error:e}=oe(i);return void U(n,r,e)}let u=g.fetchers.get(n),c=s({state:"submitting"},a,{data:u&&u.data});g.fetchers.set(n,c),P({fetchers:new Map(g.fetchers)});let l=new AbortController,d=Z(i,l.signal,a);E.set(n,l);let h=await X("action",d,o);if(d.signal.aborted)return void(E.get(n)===l&&E.delete(n));if(le(h)){E.delete(n),N.add(n);let e=s({state:"loading"},a,{data:void 0});g.fetchers.set(n,e),P({fetchers:new Map(g.fetchers)});let t=s({state:"loading",location:f(g.location,h.location)},a);return void await F(h,t)}if(ce(h))return void U(n,r,h.error);ue(h)&&k(!1,"defer() is not supported in actions");let m=g.navigation.location||g.location,v=Z(m,l.signal),w="idle"!==g.navigation.state?b(t,g.navigation.location,e.basename):g.matches;k(w,"Didn't find any matches after fetcher action");let A=++S;T.set(n,A);let L=s({state:"loading",data:h.data},a);g.fetchers.set(n,L);let[M,V]=Q(g,w,a,m,_,C,I,{[o.route.id]:h.data},void 0,D);V.filter((e=>{let[t]=e;return t!==n})).forEach((e=>{let[t]=e,n=g.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};g.fetchers.set(t,r),E.set(t,l)})),P({fetchers:new Map(g.fetchers)});let{results:z,loaderResults:q,fetcherResults:$}=await j(g.matches,M,V,v);if(l.signal.aborted)return;T.delete(n),E.delete(n),V.forEach((e=>{let[t]=e;return E.delete(t)}));let G=se(z);if(G){let e=W(g,G);return void await F(G,e)}let{loaderData:K,errors:H}=te(g,g.matches,M,q,void 0,V,$,O),J={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};g.fetchers.set(n,J);let ee=Y(A);"loading"===g.navigation.state&&A>x?(k(y,"Expected pending action"),p&&p.abort(),R(g.navigation.location,{matches:w,loaderData:K,errors:H,fetchers:new Map(g.fetchers)})):(P(s({errors:H,loaderData:ne(g.loaderData,K,w)},ee?{fetchers:new Map(g.fetchers)}:{})),_=!1)}(n,r,u,l,c):(D.set(n,[u,l]),async function(e,t,n,r){let i=g.fetchers.get(e),o={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:i&&i.data};g.fetchers.set(e,o),P({fetchers:new Map(g.fetchers)});let s=new AbortController,a=Z(n,s.signal);E.set(e,s);let u=await X("loader",a,r);if(ue(u)&&(u=await he(u,a.signal,!0)||u),E.get(e)===s&&E.delete(e),a.signal.aborted)return;if(le(u)){let e=W(g,u);return void await F(u,e)}if(ce(u)){let n=re(g.matches,t);return g.fetchers.delete(e),void P({fetchers:new Map(g.fetchers),errors:{[n.route.id]:u.error}})}k(!ue(u),"Unhandled fetcher deferred data");let c={state:"idle",data:u.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};g.fetchers.set(e,c),P({fetchers:new Map(g.fetchers)})}(n,r,u,l))},revalidate:function(){B(),P({revalidation:"loading"}),"submitting"!==g.navigation.state&&("idle"!==g.navigation.state?L(y||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation}):L(g.historyAction,g.location,{startUninterruptedRevalidation:!0}))},createHref:ae,getFetcher:M,deleteFetcher:V,dispose:function(){n&&n(),i.clear(),p&&p.abort(),g.fetchers.forEach(((e,t)=>V(t)))},_internalFetchControllers:E,_internalActiveDeferreds:O},h}function H(e,t,n){void 0===n&&(n=!1);let r="string"==typeof e?e:p(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:r};if(null!=t.formMethod&&"get"!==t.formMethod)return{path:r,submission:{formMethod:t.formMethod,formAction:ae(m(r)),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:r};let i=m(r);try{let e=ee(t.formData);n&&i.search&&fe(i.search)&&e.append("index",""),i.search="?"+e}catch(e){return{path:r,error:new z(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:p(i)}}function W(e,t){let{formMethod:n,formAction:r,formEncType:i,formData:o}=e.navigation;return{state:"loading",location:f(e.location,t.location),formMethod:n||void 0,formAction:r||void 0,formEncType:i||void 0,formData:o||void 0}}function Q(e,t,n,r,i,o,s,a,u,c){let l=u?Object.values(u)[0]:a?Object.values(a)[0]:null,d=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(t,u?Object.keys(u)[0]:void 0).filter(((t,s)=>null!=t.route.loader&&(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(e.loaderData,e.matches[s],t)||o.some((e=>e===t.route.id))||J(e.location,e.matches[s],n,r,t,i,l)))),h=[];return c&&c.forEach(((e,t)=>{let[r,o]=e;(s.includes(t)||i&&J(r,o,n,r,o,i,l))&&h.push([t,r,o])})),[d,h]}function Y(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function J(e,t,n,r,i,o,a){let u=ge(e),c=t.params,l=ge(r),d=i.params,h=Y(t,i)||u.toString()===l.toString()||u.search!==l.search||o;if(i.route.shouldRevalidate){let e=i.route.shouldRevalidate(s({currentUrl:u,currentParams:c,nextUrl:l,nextParams:d},n,{actionResult:a,defaultShouldRevalidate:h}));if("boolean"==typeof e)return e}return h}async function X(e,t,n,r,i){let o,s,a;void 0===r&&(r=!1),void 0===i&&(i=!1);let u=new Promise(((e,t)=>a=t)),c=()=>a();t.signal.addEventListener("abort",c);try{let r=n.route[e];k(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),s=await Promise.race([r({request:t,params:n.params}),u])}catch(e){o=y.error,s=e}finally{t.signal.removeEventListener("abort",c)}if(s instanceof Response){let e,t=s.status,n=s.headers.get("Location");if(i)throw s;if(t>=300&&t<=399&&null!=n){if(r)throw s;return{type:y.redirect,status:t,location:n,revalidate:null!==s.headers.get("X-Remix-Revalidate")}}let a=s.headers.get("Content-Type");return e=a&&a.startsWith("application/json")?await s.json():await s.text(),o===y.error?{type:o,error:new z(t,s.statusText,e),headers:s.headers}:{type:y.data,data:e,statusCode:s.status,headers:s.headers}}return o===y.error?{type:o,error:s}:s instanceof j?{type:y.deferred,deferredData:s}:{type:y.data,data:s}}function Z(e,t,n){let r=ge(e).toString(),i={signal:t};if(n){let{formMethod:e,formEncType:t,formData:r}=n;i.method=e.toUpperCase(),i.body="application/x-www-form-urlencoded"===t?ee(r):r}return new Request(r,i)}function ee(e){let t=new URLSearchParams;for(let[n,r]of e.entries())k("string"==typeof r,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function te(e,t,n,r,i,o,a,u){let{loaderData:c,errors:l}=function(e,t,n,r,i){let o,s={},a=null,u=!1,c={};return n.forEach(((n,l)=>{let d=t[l].route.id;if(k(!le(n),"Cannot handle redirect results in processLoaderData"),ce(n)){let t=re(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),a=Object.assign(a||{},{[t.route.id]:i}),u||(u=!0,o=q(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else ue(n)?(i&&i.set(d,n.deferredData),s[d]=n.deferredData.data):(s[d]=n.data,200===n.statusCode||u||(o=n.statusCode),n.headers&&(c[d]=n.headers))})),r&&(a=r),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}(t,n,r,i,u);for(let t=0;t<o.length;t++){let[n,,r]=o[t];k(void 0!==a&&void 0!==a[t],"Did not find corresponding fetcher result");let i=a[t];if(ce(i)){let t=re(e.matches,r.route.id);l&&l[t.route.id]||(l=s({},l,{[t.route.id]:i.error})),e.fetchers.delete(n)}else{if(le(i))throw new Error("Unhandled fetcher revalidation redirect");if(ue(i))throw new Error("Unhandled fetcher deferred data");{let t={state:"idle",data:i.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(n,t)}}}return{loaderData:c,errors:l}}function ne(e,t,n){let r=s({},t);return n.forEach((n=>{let i=n.route.id;void 0===t[i]&&void 0!==e[i]&&(r[i]=e[i])})),r}function re(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ie(e){let t=e.find((e=>e.index||""===e.path||"/"===e.path))||{id:"__shim-404-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t,error:new z(404,"Not Found",null)}}function oe(e){let t="string"==typeof e?e:ae(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for ["+t+"]"),{type:y.error,error:new z(405,"Method Not Allowed","No action found for ["+t+"]")}}function se(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(le(n))return n}}function ae(e){return(e.pathname||"")+(e.search||"")}function ue(e){return e.type===y.deferred}function ce(e){return e.type===y.error}function le(e){return(e&&e.type)===y.redirect}async function de(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],u=t[s],c=e.find((e=>e.route.id===u.route.id)),l=null!=c&&!Y(c,u)&&void 0!==(o&&o[u.route.id]);ue(a)&&(i||l)&&await he(a,r,i).then((e=>{e&&(n[s]=e||n[s])}))}}async function he(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(e){return{type:y.error,error:e}}return{type:y.data,data:e.deferredData.data}}}function fe(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function pe(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function me(e,t){let n="string"==typeof t?m(t).search:t.search;return e[e.length-1].route.index&&!fe(n||"")?e.slice(-2)[0]:e.slice(-1)[0]}function ge(e){let t="undefined"!=typeof window&&void 0!==window.location?window.location.origin:"unknown://unknown",n="string"==typeof e?e:ae(e);return new URL(n,t)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}"function"==typeof Object.is&&Object.is;const{useState:ve,useEffect:be,useLayoutEffect:we,useDebugValue:Ae}=o;"undefined"==typeof window||void 0===window.document||window.document.createElement;const _e=o.useSyncExternalStore,Ce=i.createContext(null),Ie=i.createContext(null),Ee=i.createContext(null),Se=i.createContext(null),xe=i.createContext(null),ke=i.createContext(null),Te=i.createContext({outlet:null,matches:[]}),Ne=i.createContext(null);function De(e,t){let{relative:n}=void 0===t?{}:t;Oe()||k(!1);let{basename:r,navigator:o}=i.useContext(xe),{hash:s,pathname:a,search:u}=ze(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:O([r,a])),o.createHref({pathname:c,search:u,hash:s})}function Oe(){return null!=i.useContext(ke)}function Pe(){return Oe()||k(!1),i.useContext(ke).location}function Re(){return i.useContext(ke).navigationType}function Le(e){Oe()||k(!1);let{pathname:t}=Pe();return i.useMemo((()=>S(e,t)),[t,e])}function Me(e){return e.filter(((t,n)=>0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase))}function Fe(){Oe()||k(!1);let{basename:e,navigator:t}=i.useContext(xe),{matches:n}=i.useContext(Te),{pathname:r}=Pe(),o=JSON.stringify(Me(n).map((e=>e.pathnameBase))),s=i.useRef(!1);return i.useEffect((()=>{s.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof n)return void t.go(n);let a=D(n,JSON.parse(o),r,"path"===i.relative);"/"!==e&&(a.pathname="/"===a.pathname?e:O([e,a.pathname])),(i.replace?t.replace:t.push)(a,i.state,i)}),[e,t,o,r])}const je=i.createContext(null);function Be(){return i.useContext(je)}function Ue(e){let t=i.useContext(Te).outlet;return t?i.createElement(je.Provider,{value:e},t):t}function Ve(){let{matches:e}=i.useContext(Te),t=e[e.length-1];return t?t.params:{}}function ze(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=i.useContext(Te),{pathname:o}=Pe(),s=JSON.stringify(Me(r).map((e=>e.pathnameBase)));return i.useMemo((()=>D(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function qe(e,t){Oe()||k(!1);let n=i.useContext(Ee),{matches:o}=i.useContext(Te),s=o[o.length-1],a=s?s.params:{},u=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,l=Pe();if(t){var d;let e="string"==typeof t?m(t):t;"/"===u||(null==(d=e.pathname)?void 0:d.startsWith(u))||k(!1),c=e}else c=l;let h=c.pathname||"/",f=b(e,{pathname:"/"===u?h:h.slice(u.length)||"/"}),p=He(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:O([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,e.pathnameBase])}))),o,n||void 0);return t?i.createElement(ke.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:r.Pop}},p):p}function $e(){let e=rt(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unhandled Thrown Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,i.createElement("p",null," Hey developer "),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",i.createElement("code",{style:s},"errorElement")," props on",i.createElement("code",{style:s},"<Route>")))}class Ge extends i.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(Ne.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Ke(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Ce);return o&&n.route.errorElement&&(o._deepestRenderedBoundaryId=n.route.id),i.createElement(Te.Provider,{value:t},r)}function He(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let r=e,o=null==n?void 0:n.errors;if(null!=o){let e=r.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||k(!1),r=r.slice(0,Math.min(r.length,e+1))}return r.reduceRight(((e,s,a)=>{let u=s.route.id?null==o?void 0:o[s.route.id]:null,c=n?s.route.errorElement||i.createElement($e,null):null,l=()=>i.createElement(Ke,{match:s,routeContext:{outlet:e,matches:t.concat(r.slice(0,a+1))}},u?c:void 0!==s.route.element?s.route.element:e);return n&&(s.route.errorElement||0===a)?i.createElement(Ge,{location:n.location,component:c,error:u,children:l()}):l()}),null)}var We,Qe;function Ye(e){let t=i.useContext(Ee);return t||k(!1),t}function Je(){return Ye(We.UseNavigation).navigation}function Xe(){let e=i.useContext(Ie);e||k(!1);let t=Ye(We.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function Ze(){let{matches:e,loaderData:t}=Ye(We.UseMatches);return i.useMemo((()=>e.map((e=>{let{pathname:n,params:r}=e;return{id:e.route.id,pathname:n,params:r,data:t[e.route.id],handle:e.route.handle}}))),[e,t])}function et(){let e=Ye(We.UseLoaderData),t=i.useContext(Te);t||k(!1);let n=t.matches[t.matches.length-1];return n.route.id||k(!1),e.loaderData[n.route.id]}function tt(e){return Ye(We.UseRouteLoaderData).loaderData[e]}function nt(){let e=Ye(We.UseActionData);return i.useContext(Te)||k(!1),Object.values((null==e?void 0:e.actionData)||{})[0]}function rt(){var e;let t=i.useContext(Ne),n=Ye(We.UseRouteError),r=i.useContext(Te),o=r.matches[r.matches.length-1];return t||(r||k(!1),o.route.id||k(!1),null==(e=n.errors)?void 0:e[o.route.id])}function it(){let e=i.useContext(Se);return null==e?void 0:e._data}function ot(){let e=i.useContext(Se);return null==e?void 0:e._error}function st(e){let{fallbackElement:t,router:n}=e,r=_e(n.subscribe,(()=>n.state),(()=>n.state)),o=i.useMemo((()=>({createHref:n.createHref,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),s=n.basename||"/";return i.createElement(Ie.Provider,{value:{router:n,navigator:o,static:!1,basename:s}},i.createElement(Ee.Provider,{value:r},i.createElement(dt,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o},n.state.initialized?i.createElement(ht,null):t)))}function at(e){let{basename:t,children:n,initialEntries:r,initialIndex:o}=e,s=i.useRef();null==s.current&&(s.current=u({initialEntries:r,initialIndex:o,v5Compat:!0}));let a=s.current,[c,l]=i.useState({action:a.action,location:a.location});return i.useLayoutEffect((()=>a.listen(l)),[a]),i.createElement(dt,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a})}function ut(e){let{to:t,replace:n,state:r,relative:o}=e;Oe()||k(!1);let s=i.useContext(Ee),a=Fe();return i.useEffect((()=>{s&&"idle"!==s.navigation.state||a(t,{replace:n,state:r,relative:o})})),null}function ct(e){return Ue(e.context)}function lt(e){k(!1)}function dt(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:u=!1}=e;Oe()&&k(!1);let c=t.replace(/^\/*/,"/"),l=i.useMemo((()=>({basename:c,navigator:a,static:u})),[c,a,u]);"string"==typeof o&&(o=m(o));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=o,y=i.useMemo((()=>{let e=x(d,c);return null==e?null:{pathname:e,search:h,hash:f,state:p,key:g}}),[c,d,h,f,p,g]);return null==y?null:i.createElement(xe.Provider,{value:l},i.createElement(ke.Provider,{children:n,value:{location:y,navigationType:s}}))}function ht(e){let{children:t,location:n}=e,r=i.useContext(Ie);return qe(r&&!t?r.router.routes:yt(t),n)}function ft(e){let{children:t,errorElement:n,resolve:r}=e;return i.createElement(mt,{resolve:r,errorElement:n},i.createElement(gt,null,t))}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(We||(We={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Qe||(Qe={}));const pt=new Promise((()=>{}));class mt extends i.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,o=Qe.pending;if(n instanceof Promise)if(this.state.error){o=Qe.error;let e=this.state.error;r=Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(r=n,o=void 0!==r._error?Qe.error:void 0!==r._data?Qe.success:Qe.pending):(o=Qe.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else o=Qe.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(o===Qe.error&&r._error instanceof F)throw pt;if(o===Qe.error&&!t)throw r._error;if(o===Qe.error)return i.createElement(Se.Provider,{value:r,children:t});if(o===Qe.success)return i.createElement(Se.Provider,{value:r,children:e});throw r}}function gt(e){let{children:t}=e,n=it();return"function"==typeof t?t(n):i.createElement(i.Fragment,null,t)}function yt(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;if(e.type===i.Fragment)return void n.push.apply(n,yt(e.props.children,t));e.type!==lt&&k(!1);let o=[...t,r],s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(s.children=yt(e.props.children,o)),n.push(s)})),n}function vt(e){return He(e)}function bt(e){return e.map((e=>{let t=ye({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=bt(t.children)),t}))}function wt(e,t){return K({basename:null==t?void 0:t.basename,history:u({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:bt(e)}).initialize()}function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const Ct="get",It="application/x-www-form-urlencoded";function Et(e){return null!=e&&"string"==typeof e.tagName}function St(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}const xt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],kt=["aria-current","caseSensitive","className","end","style","to","children"],Tt=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative"];function Nt(e,t){var n;return K({basename:null==t?void 0:t.basename,history:c({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||(null==(n=window)?void 0:n.__staticRouterHydrationData),routes:bt(e)}).initialize()}function Dt(e,t){var n;return K({basename:null==t?void 0:t.basename,history:l({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||(null==(n=window)?void 0:n.__staticRouterHydrationData),routes:bt(e)}).initialize()}function Ot(e){let{basename:t,children:n,window:r}=e,o=i.useRef();null==o.current&&(o.current=c({window:r,v5Compat:!0}));let s=o.current,[a,u]=i.useState({action:s.action,location:s.location});return i.useLayoutEffect((()=>s.listen(u)),[s]),i.createElement(dt,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}function Pt(e){let{basename:t,children:n,window:r}=e,o=i.useRef();null==o.current&&(o.current=l({window:r,v5Compat:!0}));let s=o.current,[a,u]=i.useState({action:s.action,location:s.location});return i.useLayoutEffect((()=>s.listen(u)),[s]),i.createElement(dt,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}function Rt(e){let{basename:t,children:n,history:r}=e;const[o,s]=i.useState({action:r.action,location:r.location});return i.useLayoutEffect((()=>r.listen(s)),[r]),i.createElement(dt,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:r})}const Lt=i.forwardRef((function(e,t){let{onClick:n,relative:r,reloadDocument:o,replace:s,state:a,target:u,to:c,preventScrollReset:l}=e,d=_t(e,xt),h=De(c,{relative:r}),f=Ut(c,{replace:s,state:a,target:u,preventScrollReset:l,relative:r});return i.createElement("a",At({},d,{href:h,onClick:o?n:function(e){n&&n(e),e.defaultPrevented||f(e)},ref:t,target:u}))})),Mt=i.forwardRef((function(e,t){let n,{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:a=!1,style:u,to:c,children:l}=e,d=_t(e,kt),h=ze(c),f=Le({path:h.pathname,end:a,caseSensitive:o}),p=i.useContext(Ee),m=null==p?void 0:p.navigation.location,g=ze(m||""),y=null!=i.useMemo((()=>m?S({path:h.pathname,end:a,caseSensitive:o},g.pathname):null),[m,h.pathname,o,a,g.pathname]),v=null!=f,b=v?r:void 0;n="function"==typeof s?s({isActive:v,isPending:y}):[s,v?"active":null,y?"pending":null].filter(Boolean).join(" ");let w="function"==typeof u?u({isActive:v,isPending:y}):u;return i.createElement(Lt,At({},d,{"aria-current":b,className:n,ref:t,style:w,to:c}),"function"==typeof l?l({isActive:v,isPending:y}):l)})),Ft=i.forwardRef(((e,t)=>i.createElement(jt,At({},e,{ref:t})))),jt=i.forwardRef(((e,t)=>{let{reloadDocument:n,replace:r,method:o=Ct,action:s,onSubmit:a,fetcherKey:u,routeId:c,relative:l}=e,d=_t(e,Tt),h=qt(u,c),f="get"===o.toLowerCase()?"get":"post",p=$t(s,{relative:l});return i.createElement("form",At({ref:t,method:f,action:p,onSubmit:n?a:e=>{if(a&&a(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter;h(t||e.currentTarget,{method:o,replace:r,relative:l})}},d))}));function Bt(e){let{getKey:t,storageKey:n}=e;return function(e){let{getKey:t,storageKey:n}=void 0===e?{}:e,r=Pe(),o=Ze(),s=Je(),a=i.useContext(Ie);a||k(!1);let{router:u}=a,c=i.useContext(Ee);(null==u||null==c)&&k(!1);let{restoreScrollPosition:l,preventScrollReset:d}=c;var h;i.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),h=i.useCallback((()=>{if("idle"===s.state){let e=(t?t(r,o):null)||r.key;Qt[e]=window.scrollY}sessionStorage.setItem(n||Wt,JSON.stringify(Qt)),window.history.scrollRestoration="auto"}),[n,t,s.state,r,o]),i.useEffect((()=>(window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)})),[h]),i.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(n||Wt);e&&(Qt=JSON.parse(e))}catch(e){}}),[n]),i.useLayoutEffect((()=>{let e=null==u?void 0:u.enableScrollRestoration(Qt,(()=>window.scrollY),t);return()=>e&&e()}),[u,t]),i.useLayoutEffect((()=>{if(!1!==l)if("number"!=typeof l){if(r.hash){let e=document.getElementById(r.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==d&&window.scrollTo(0,0)}else window.scrollTo(0,l)}),[r,l,d])}({getKey:t,storageKey:n}),null}function Ut(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a}=void 0===t?{}:t,u=Fe(),c=Pe(),l=ze(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:p(c)===p(l);u(e,{replace:n,state:o,preventScrollReset:s,relative:a})}}),[c,u,l,r,o,n,e,s,a])}function Vt(e){let t=i.useRef(St(e)),n=Pe(),r=i.useMemo((()=>function(e,t){let n=St(e);for(let e of t.keys())n.has(e)||t.getAll(e).forEach((t=>{n.append(e,t)}));return n}(n.search,t.current)),[n.search]),o=Fe(),s=i.useCallback(((e,t)=>{const n=St("function"==typeof e?e(r):e);o("?"+n,t)}),[o,r]);return[r,s]}function zt(){return qt()}function qt(e,t){let n=i.useContext(Ie);n||k(!1);let{router:r}=n,o=$t();return i.useCallback((function(n,i){if(void 0===i&&(i={}),"undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:s,encType:a,formData:u,url:c}=function(e,t,n){let r,i,o,s;if(Et(a=e)&&"form"===a.tagName.toLowerCase()){let a=n.submissionTrigger;r=n.method||e.getAttribute("method")||Ct,i=n.action||e.getAttribute("action")||t,o=n.encType||e.getAttribute("enctype")||It,s=new FormData(e),a&&a.name&&s.append(a.name,a.value)}else if(function(e){return Et(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Et(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||a.getAttribute("method")||Ct,i=n.action||e.getAttribute("formaction")||a.getAttribute("action")||t,o=n.encType||e.getAttribute("formenctype")||a.getAttribute("enctype")||It,s=new FormData(a),e.name&&s.append(e.name,e.value)}else{if(Et(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||Ct,i=n.action||t,o=n.encType||It,e instanceof FormData)s=e;else if(s=new FormData,e instanceof URLSearchParams)for(let[t,n]of e)s.append(t,n);else if(null!=e)for(let t of Object.keys(e))s.append(t,e[t])}var a;let{protocol:u,host:c}=window.location;return{url:new URL(i,u+"//"+c),method:r,encType:o,formData:s}}(n,o,i),l=c.pathname+c.search,d={replace:i.replace,formData:u,formMethod:s,formEncType:a};e?(null==t&&k(!1),r.fetch(e,t,l,d)):r.navigate(l,d)}),[o,r,e,t])}function $t(e,t){let{relative:n}=void 0===t?{}:t,r=i.useContext(Te);r||k(!1);let[o]=r.matches.slice(-1),s=ze(null!=e?e:".",{relative:n}),a=Pe();if(null==e&&(s.search=a.search,s.hash=a.hash,o.route.index)){let e=new URLSearchParams(s.search);e.delete("index"),s.search=e.toString()?"?"+e.toString():""}return e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),p(s)}let Gt=0;function Kt(){var e;let t=i.useContext(Ie);t||k(!1);let{router:n}=t,r=i.useContext(Te);r||k(!1);let o=null==(e=r.matches[r.matches.length-1])?void 0:e.route.id;null==o&&k(!1);let[s]=i.useState((()=>String(++Gt))),[a]=i.useState((()=>(o||k(!1),function(e,t){return i.forwardRef(((n,r)=>i.createElement(jt,At({},n,{ref:r,fetcherKey:e,routeId:t}))))}(s,o)))),[u]=i.useState((()=>e=>{n||k(!1),o||k(!1),n.fetch(s,o,e)})),c=qt(s,o),l=n.getFetcher(s),d=i.useMemo((()=>At({Form:a,submit:c,load:u},l)),[l,a,c,u]);return i.useEffect((()=>()=>{n?n.deleteFetcher(s):console.warn("No fetcher available to clean up from useFetcher()")}),[n,s]),d}function Ht(){let e=i.useContext(Ee);return e||k(!1),[...e.fetchers.values()]}const Wt="react-router-scroll-positions";let Qt={}},5251:function(e,t,n){var r=n(7294),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},2408:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,C={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:C.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===o?"."+k(u,0):o,A(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(u=0,o=""===o?".":o+":",A(e))for(var c=0;c<e.length;c++){var l=o+k(a=e[c],c);u+=T(a,t,i,l,s)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=T(a=a.value,t,i,l=o+k(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:C};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},7294:function(e,t,n){e.exports=n(2408)},5893:function(e,t,n){e.exports=n(5251)},4928:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(9164);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},427:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(5807);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},9799:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(7500);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},9559:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(4816);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},3615:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(3820);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},3219:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(4014);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},8303:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(6702);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},8487:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(2106);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},5390:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(7865);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},4088:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(822);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},6227:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(5724);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},5405:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(1681);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},8076:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(7356);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},3716:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(2652);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},3409:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(1022);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},8483:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(3890);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},996:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(2764);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},9939:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(5163);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},3812:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(9179);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},2852:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(5788);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},9708:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(4387);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},5661:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(448);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},26:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(3379),i=n.n(r),o=n(1551);i()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},3379:function(e,t,n){var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],u=t.base?a[0]+t.base:a[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var d=s(l),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:l,updater:m(h,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,p=0;function m(e,t){var n,r,i;if(t.singleton){var o=p++;n=f||(f=u(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=u(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var u=a(e,t),c=0;c<n.length;c++){var l=s(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=u}}}},7551:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.About=void 0;const a=n(5893);n(4928);const u=s(n(9426)),c=s(n(5011)),l=s(n(1994)),d=n(1591),h=n(1099),f=o(n(7294)),p=n(9818),m=n(8074),g=n(8086),y=n(8938),v=n(1160),b=n(6546),w=n(7289),A=n(370),_=n(790),C=n(8468),I=n(7210),E=n(9353),S=n(9905);t.About=function(){const[e,t]=f.default.useState(new Date),n=(0,y.useAppDispatch)();(0,f.useEffect)((()=>{try{const e=(0,d.query)((0,d.collection)(h.db,"privileges"),(0,d.where)("email","==",i));(async function(){return await(0,d.getDocs)(e)})().then((e=>{e.forEach((e=>{e.data().email===i&&console.log(e.id," => ",e.data());const t=sessionStorage.getItem("user"),r=JSON.parse(t);n((0,g.setUser)({email:r.email,id:r.id,token:r.token,role:e.data().role}))}))}))}catch(e){console.error("Error reading students list: ",e)}}),[]);const{isAuth:r,email:i,role:o}=(0,m.useAuth)();return r?r&&!o?(0,a.jsx)(v.Header,{className:"header",level:1,text:"  . ..."}):r&&"trainer"===o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Header,{className:"header",level:1,text:"  "}),(0,a.jsx)(b.Emblem,{src:u.default,className:"emblem"}),(0,a.jsxs)("button",{className:"signOut",onClick:()=>{n((0,g.removeUser)()),sessionStorage.clear()},children:["Logaut from ",i]}),(0,a.jsx)(A.Navigation,{children:(0,a.jsx)(I.List4Trainer,{})}),(0,a.jsxs)("div",{className:"app__container",children:[(0,a.jsx)("div",{className:"date__container",children:(0,S.formatDate)(e,"DDD DD MMM YYYY")}),(0,a.jsx)(E.Calendar,{selectedDate:e,selectDate:e=>t(e)})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Header,{className:"header",level:1,text:"  "}),(0,a.jsx)(b.Emblem,{src:u.default,className:"emblem"}),(0,a.jsxs)("button",{className:"signOut",onClick:()=>{n((0,g.removeUser)()),sessionStorage.clear()},children:["Logaut from ",i]}),(0,a.jsx)(A.Navigation,{children:(0,a.jsx)(w.List,{})}),(0,a.jsx)(_.Article,{}),(0,a.jsx)(v.Header,{className:"header",level:3,text:""}),(0,a.jsxs)("footer",{className:"footer",children:[(0,a.jsx)(C.Contacts,{src:c.default,href:"https://vk.com/footballacademynn"}),(0,a.jsx)(C.Contacts,{src:l.default,href:"https://www.instagram.com/footballacademynn"})]})]}):(0,a.jsx)(p.Navigate,{to:"/login"})}},9680:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedBack=void 0;const i=n(5893);n(427);const o=r(n(9426)),s=n(1160),a=n(6546),u=n(7289),c=n(370),l=n(5173);t.FeedBack=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Header,{className:"header",level:1,text:"  "}),(0,i.jsx)(a.Emblem,{src:o.default,className:"emblem"}),(0,i.jsx)(c.Navigation,{children:(0,i.jsx)(u.List,{})}),(0,i.jsx)(s.Header,{className:"header",level:3,text:" "}),(0,i.jsx)(l.EmailForm,{})]})}},4563:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LoginPage=void 0;const r=n(5893);n(9799);const i=n(9818),o=n(6680),s=n(1160);t.LoginPage=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Header,{className:"header",text:"   ",level:1}),(0,r.jsx)(o.Login,{}),(0,r.jsx)("p",{className:"registration",children:(0,r.jsx)(i.Link,{to:"/register",children:""})})]})}},7044:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Photo=void 0;const i=n(5893),o=r(n(9426)),s=r(n(547)),a=r(n(8051)),u=r(n(9812)),c=r(n(3311)),l=n(1160),d=n(6546),h=n(7289),f=n(370),p=n(7910);t.Photo=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Header,{className:"header",level:1,text:"  "}),(0,i.jsx)(d.Emblem,{src:o.default,className:"emblem"}),(0,i.jsx)(f.Navigation,{children:(0,i.jsx)(h.List,{})}),(0,i.jsx)(p.Slider,{foto1:s.default,foto2:a.default,foto3:u.default,foto4:c.default})]})}},5636:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Register=void 0;const r=n(5893);n(9559);const i=n(9818),o=n(4533);t.Register=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:""}),(0,r.jsx)(o.SignUp,{}),(0,r.jsxs)("p",{className:"accountExist",children:["      ? ",(0,r.jsx)(i.Link,{to:"/login",children:""})]})]})}},4931:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SendMessage=void 0;const i=n(5893);n(3615);const o=r(n(9426)),s=n(1160),a=n(6546),u=n(7210),c=n(370),l=n(2345);t.SendMessage=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Header,{className:"header",level:1,text:"  "}),(0,i.jsx)(a.Emblem,{src:o.default,className:"emblem"}),(0,i.jsx)(c.Navigation,{children:(0,i.jsx)(u.List4Trainer,{})}),(0,i.jsx)(s.Header,{className:"header",level:3,text:" "}),(0,i.jsx)(l.SendForm,{})]})}},7011:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentInfo=void 0;const i=n(5893);n(3219);const o=r(n(8967)),s=r(n(9118)),a=n(9818),u=n(8086),c=n(8938),l=n(8074),d=n(1160);t.StudentInfo=function(){const e=sessionStorage.getItem("user"),t=JSON.parse(e);if(!t)return(0,i.jsx)(a.Navigate,{to:"/login"});const n=(0,c.useAppDispatch)();n((0,u.setUser)({email:t.email,id:t.id,token:t.token}));const{isAuth:r,email:h}=(0,l.useAuth)();return r?(0,i.jsxs)("div",{className:"studentInfo",children:[(0,i.jsx)("img",{className:"studentInfo__logo",src:o.default}),(0,i.jsxs)("button",{onClick:()=>{n((0,u.removeUser)()),sessionStorage.clear()},children:["Logaut from ",h]}),(0,i.jsx)(d.Header,{className:"header",level:3,text:""}),(0,i.jsxs)("table",{className:"studentInfo__table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:""}),(0,i.jsx)("th",{children:""}),(0,i.jsx)("th",{children:""}),(0,i.jsx)("th",{children:""})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:" "}),(0,i.jsx)("td",{children:' " "'}),(0,i.jsx)("td",{children:"Soccer"}),(0,i.jsx)("td",{children:" "})]})})]}),(0,i.jsx)("p",{className:"studentInfo__back",children:(0,i.jsx)(a.Link,{to:"/studentsList",children:(0,i.jsx)("img",{className:"backImg",src:s.default})})})]}):(0,i.jsx)(a.Navigate,{to:"/login"})}},1233:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentsList=void 0;const i=n(5893);n(8303);const o=n(6546),s=r(n(9426)),a=n(7294),u=n(9818),c=n(8086),l=n(8938),d=n(8074),h=n(1591),f=n(1099),p=n(1160),m=n(7289),g=n(370),y=n(528);t.StudentsList=function(){(0,a.useEffect)((()=>{try{(async function(){return await(0,h.getDocs)((0,h.collection)(f.db,"studentsList"))})().then((e=>{e.forEach((e=>{const t=document.querySelector(".studentsList");t.innerHTML=t?.innerHTML+(0,y.StudentList)(e.data())}))}))}catch(e){console.error("   : ",e)}}));const e=sessionStorage.getItem("user"),t=JSON.parse(e);if(!t)return(0,i.jsx)(u.Navigate,{to:"/login"});(0,l.useAppDispatch)()((0,c.setUser)({email:t.email,id:t.id,token:t.token}));const{isAuth:n,email:r}=(0,d.useAuth)();return n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Header,{className:"header",level:1,text:"  "}),(0,i.jsx)(o.Emblem,{src:s.default,className:"emblem"}),(0,i.jsx)(g.Navigation,{children:(0,i.jsx)(m.List,{})}),(0,i.jsx)(p.Header,{className:"header",level:3,text:" "}),(0,i.jsx)("div",{className:"studentsList"})]}):(0,i.jsx)(u.Navigate,{to:"/login"})}},6753:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentsListControl=void 0;const i=n(5893);n(8487);const o=r(n(9426)),s=n(7294),a=n(9818),u=n(8086),c=n(8938),l=n(8074),d=n(3054),h=n(1160),f=n(6546),p=n(370),m=n(7036),g=n(7210),y=n(2105),v=n(1591),b=n(1099);t.StudentsListControl=function(){const e=(0,a.useNavigate)();(0,s.useEffect)((()=>{const t=document.querySelector(".studentsListControl");t.innerHTML="";try{(async function(){return await(0,v.getDocs)((0,v.collection)(b.db,"studentsList"))})().then((n=>{n.forEach((n=>{t.innerHTML=t?.innerHTML+(0,y.StudentListControl)(n.data(),n.id),document.querySelector(`.btn${n.id}`).addEventListener("click",(()=>{(async()=>{await(0,v.deleteDoc)((0,v.doc)(b.db,"studentsList",n.id))})(),e("/studentsListControl")}))}))}))}catch(e){console.error("Error reading students list: ",e)}}));const t=(0,c.useAppDispatch)(),n=sessionStorage.getItem("user"),r=JSON.parse(n);if(!r)return(0,i.jsx)(a.Navigate,{to:"/login"});t((0,u.setUser)({email:r.email,id:r.id,token:r.token})),console.log(d.store.getState());const{isAuth:w,email:A}=(0,l.useAuth)();return w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Header,{className:"header",level:1,text:"  "}),(0,i.jsx)(f.Emblem,{src:o.default,className:"emblem"}),(0,i.jsx)(p.Navigation,{children:(0,i.jsx)(g.List4Trainer,{})}),(0,i.jsx)(h.Header,{className:"header",level:3,text:" "}),(0,i.jsx)("div",{className:"studentsListControl"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(m.AddStudentForm,{})]}):(0,i.jsx)(a.Navigate,{to:"/login"})}},7036:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AddStudentForm=void 0;const r=n(5893);n(5390);const i=n(7294),o=n(9818),s=n(1099),a=n(1591),u=n(1160);t.AddStudentForm=function(){const e=(0,o.useNavigate)(),[t,n]=(0,i.useState)(""),[c,l]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)("");return(0,r.jsx)("div",{className:"addStudentForm",children:(0,r.jsxs)("form",{onSubmit:r=>(r=>{r.preventDefault();try{!async function(){await(0,a.addDoc)((0,a.collection)(s.db,"studentsList"),{name:c,surname:t,age:Number(f),date:d,teamName:m,teamId:1})}()}catch(r){console.error("  ",r)}p(""),h(""),l(""),n(""),g(""),e("/studentsListControl")})(r),children:[(0,r.jsx)(u.Header,{className:"headerAddStudent",level:2,text:"  "}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:""}),(0,r.jsx)("input",{className:"addStudentFormInput",type:"text",value:t,onChange:e=>n(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:""}),(0,r.jsx)("input",{className:"addStudentFormInput",type:"text",value:c,onChange:e=>l(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:""}),(0,r.jsx)("input",{className:"addStudentFormInput",type:"text",value:f,onChange:e=>p(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:" "}),(0,r.jsx)("input",{className:"addStudentFormInput",type:"text",value:d,onChange:e=>h(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:" "}),(0,r.jsx)("input",{className:"addStudentFormInput",type:"text",value:m,onChange:e=>g(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{className:"addStudentButton",type:"submit",children:""})]})})}},790:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Article=void 0;const r=n(5893);n(4088);const i=n(1160),o=n(6967),s=n(1558);t.Article=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("article",{className:"about-parameters",children:[(0,r.jsx)(i.Header,{className:"article__header",level:1,text:" !"}),(0,r.jsx)(s.Paragraph,{text:o.ARTICLE_TEXT})]})})}},6967:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ARTICLE_TEXT=void 0,t.ARTICLE_TEXT=",   ,   \n,    -, \n       .   \n,          ,\n      \n       .  \n      10     \n    ,      \n   ,     \n       , \n, , , .  \n       ,  \n   .   -  \n , ,    \n,       \n ,   .    \n,     ( 4-6 )  \n,        ,  \n  ,    \n.      \n     ,   \n,    .  ,  \n          \n     ."},9353:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Calendar=void 0;const r=n(5893);n(6227);const i=n(9905),o=n(5680),s=n(1591),a=n(1099);t.Calendar=({locale:e="default",selectedDate:t,selectDate:n,firstWeekDayNumber:u=2})=>{const{functions:c,state:l}=(0,o.useCalendar)({locale:e,selectedDate:t,firstWeekDayNumber:u});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"calendar",children:[(0,r.jsxs)("div",{className:"calendar__header",children:[(0,r.jsx)("div",{"aria-hidden":!0,className:"calendar__header__arrow__left",onClick:()=>c.onClickArrow("left")}),"days"===l.mode&&(0,r.jsxs)("div",{"aria-hidden":!0,onClick:()=>c.setMode("monthes"),children:[l.monthesNames[l.selectedMonth.monthIndex].month," ",l.selectedYear]}),"monthes"===l.mode&&(0,r.jsx)("div",{"aria-hidden":!0,onClick:()=>c.setMode("years"),children:l.selectedYear}),"years"===l.mode&&(0,r.jsxs)("div",{children:[l.selectedYearsInterval[0]," -"," ",l.selectedYearsInterval[l.selectedYearsInterval.length-1]]}),(0,r.jsx)("div",{"aria-hidden":!0,className:"calendar__header__arrow__right",onClick:()=>c.onClickArrow("right")})]}),(0,r.jsxs)("div",{className:"calendar__body",children:["days"===l.mode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"calendar__week__names",children:l.weekDaysNames.map((e=>(0,r.jsx)("div",{children:e.dayShort},e.dayShort)))}),(0,r.jsx)("div",{className:"calendar__days",children:l.calendarDays.map((e=>{const t=(0,i.checkIsToday)(e.date),o=(0,i.checkDateIsEqual)(e.date,l.selectedDay.date),u=e.monthIndex!==l.selectedMonth.monthIndex;return(0,r.jsx)("div",{"aria-hidden":!0,onClick:()=>{c.setSelectedDay(e),n(e.date);const t=document.querySelector(".tasks");t.innerHTML="";try{const n=(0,s.query)((0,s.collection)(a.db,"tasks"),(0,s.where)("date","==",e.date.toDateString()));(async function(){return await(0,s.getDocs)(n)})().then((e=>{e.forEach((e=>{const n=e.data();console.log("task=",n),t.innerHTML=t.innerHTML+`<p>:${n.teamName}</p><p>: ${n.date}</p><p>: ${n.time}</p><hr/>`,console.log("divTask=",t),console.log(e.id)}))}))}catch(e){console.error("Error reading students list: ",e)}},className:["calendar__day",t?"calendar__today__item":"",o?"calendar__selected__item":"",u?"calendar__additional__day":""].join(" "),children:e.dayNumber},`${e.dayNumber}-${e.monthIndex}`)}))})]}),"monthes"===l.mode&&(0,r.jsx)("div",{className:"calendar__pick__items__container",children:l.monthesNames.map((e=>{const t=(new Date).getMonth()===e.monthIndex&&l.selectedYear===(new Date).getFullYear(),n=e.monthIndex===l.selectedMonth.monthIndex;return(0,r.jsx)("div",{"aria-hidden":!0,onClick:()=>{c.setSelectedMonthByIndex(e.monthIndex),c.setMode("days")},className:["calendar__pick__item",n?"calendar__selected__item":"",t?"calendar__today__item":""].join(" "),children:e.monthShort},e.month)}))}),"years"===l.mode&&(0,r.jsxs)("div",{className:"calendar__pick__items__container",children:[(0,r.jsx)("div",{className:"calendar__unchoosable__year",children:l.selectedYearsInterval[0]-1}),l.selectedYearsInterval.map((e=>{const t=(new Date).getFullYear()===e,n=e===l.selectedYear;return(0,r.jsx)("div",{"aria-hidden":!0,onClick:()=>{c.setSelectedYear(e),c.setMode("monthes")},className:["calendar__pick__item",t?"calendar__today__item":"",n?"calendar__selected__item":""].join(" "),children:e},e)})),(0,r.jsx)("div",{className:"calendar__unchoosable__year",children:l.selectedYearsInterval[l.selectedYearsInterval.length-1]+1})]})]})]}),(0,r.jsx)("div",{className:"tasks"})]})}},8900:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkDateIsEqual=void 0,t.checkDateIsEqual=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},279:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsToday=void 0;const r=n(8900);t.checkIsToday=e=>{const t=new Date;return(0,r.checkDateIsEqual)(t,e)}},8611:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createDate=void 0;const r=n(1825);t.createDate=e=>{const t=e?.locale??"default",n=e?.date??new Date,i=n.getDate(),o=n.toLocaleDateString(t,{weekday:"long"}),s=n.getDay()+1,a=n.toLocaleDateString(t,{weekday:"short"}),u=n.getFullYear(),c=n.toLocaleDateString(t,{year:"2-digit"}),l=n.toLocaleDateString(t,{month:"long"}),d=n.toLocaleDateString(t,{month:"short"}),h=n.getMonth()+1,f=n.getMonth(),p=n.getTime();return{date:n,dayNumber:i,day:o,dayNumberInWeek:s,dayShort:a,year:u,yearShort:c,month:l,monthShort:d,monthNumber:h,monthIndex:f,timestamp:p,week:(0,r.getWeekNumber)(n)}}},2739:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createMonth=void 0;const r=n(8611),i=n(6848);t.createMonth=e=>{const t=e?.date??new Date,n=e?.locale??"default",o=(0,r.createDate)({date:t,locale:n}),{month:s,year:a,monthNumber:u,monthIndex:c}=o,l=e=>(0,r.createDate)({date:new Date(a,c,e),locale:n});return{getDay:l,monthName:s,monthIndex:c,monthNumber:u,year:a,createMonthDays:()=>{const e=[];for(let t=0;t<=(0,i.getMonthNumberOfDays)(c,a)-1;t+=1)e[t]=l(t+1);return e}}}},8035:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createYear=void 0;const r=n(8611),i=n(2739);t.createYear=e=>{const t=e?.locale??"default",n=(0,r.createDate)(),o=e?.year??n.year,s=e?.monthNumber??n.monthNumber;return{createYearMonthes:()=>{const e=[];for(let r=0;r<=11;r+=1)e[r]=(n=r,(0,i.createMonth)({date:new Date(o,n),locale:t}).createMonthDays());var n;return e},month:(0,i.createMonth)({date:new Date(o,s-1),locale:t}),year:o}}},3170:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=void 0;const r=n(8611);t.formatDate=(e,t)=>{const n=(0,r.createDate)({date:e});return t.replace(/\bYYYY\b/,n.year.toString()).replace(/\bYYY\b/,n.yearShort).replace(/\bWW\b/,n.week.toString().padStart(2,"0")).replace(/\bW\b/,n.week.toString()).replace(/\bDDDD\b/,n.day).replace(/\bDDD\b/,n.dayShort).replace(/\bDD\b/,n.dayNumber.toString().padStart(2,"0")).replace(/\bD\b/,n.dayNumber.toString()).replace(/\bMMMM\b/,n.month).replace(/\bMMM\b/,n.monthShort).replace(/\bMM\b/,n.monthNumber.toString().padStart(2,"0")).replace(/\bM\b/,n.monthNumber.toString())}},6848:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMonthNumberOfDays=void 0,t.getMonthNumberOfDays=(e,t=(new Date).getFullYear())=>new Date(t,e+1,0).getDate()},1730:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getMonthesNames=void 0;const r=n(8611);t.getMonthesNames=(e="defalut")=>{const t=Array.from({length:12}),n=new Date;return t.forEach(((i,o)=>{const{month:s,monthIndex:a,monthShort:u,date:c}=(0,r.createDate)({locale:e,date:new Date(n.getFullYear(),n.getMonth()+o,1)});t[a]={month:s,monthIndex:a,monthShort:u,date:c}})),t}},5860:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getWeekDaysNames=void 0;const r=n(8611);t.getWeekDaysNames=(e=4,t="default")=>{const n=Array.from({length:7}),i=new Date;return n.forEach(((e,o)=>{const{day:s,dayNumberInWeek:a,dayShort:u}=(0,r.createDate)({locale:t,date:new Date(i.getFullYear(),i.getMonth(),i.getDate()+o)});n[a-1]={day:s,dayShort:u}})),[...n.slice(e-1),...n.slice(0,e-1)]}},1825:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getWeekNumber=void 0,t.getWeekNumber=e=>{const t=new Date(e.getFullYear(),0,1),n=(e.getTime()-t.getTime())/864e5;return Math.ceil((n+t.getDay()+1)/7)}},9905:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8611),t),i(n(3170),t),i(n(1730),t),i(n(5860),t),i(n(1825),t),i(n(279),t),i(n(8035),t),i(n(2739),t),i(n(6848),t),i(n(8900),t)},8468:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Contacts=void 0;const r=n(5893);n(5405),t.Contacts=function({href:e,src:t}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"footer__div",children:(0,r.jsx)("p",{children:(0,r.jsx)("a",{href:e,children:(0,r.jsx)("img",{src:t})})})})})}},5173:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EmailForm=void 0;const r=n(5893);n(8076);const i=n(7294),o=n(5365);t.EmailForm=function(){const[e,t]=(0,i.useState)(""),[n,s]=(0,i.useState)(""),[a,u]=(0,i.useState)(""),[c,l]=(0,i.useState)("");return(0,r.jsx)("div",{className:"EmailForm",children:(0,r.jsxs)("form",{onSubmit:r=>(r=>{r.preventDefault(),(0,o.send)("service_bmhvhui","template_71fswn7",{from_name:e,to_name:"Dmitry",child_name:n,child_age:a,message:c},"hNnMYU-JY_Omwj-1p").then((e=>{console.log("SUCCESS!",e.status,e.text)})).catch((e=>{console.log("FAILED...",e)})),t(""),s(""),u(""),l("")})(r),children:[(0,r.jsx)("label",{children:"  "}),(0,r.jsx)("input",{className:"emailFormInput",type:"text",name:"from_name",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:""}),(0,r.jsx)("input",{className:"emailFormInput",type:"text",name:"to_name",placeholder:"Dmitry",readOnly:!0}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:"  "}),(0,r.jsx)("input",{className:"emailFormInput",type:"text",name:"childName",value:n,onChange:e=>s(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:"  "}),(0,r.jsx)("input",{className:"emailFormInput",type:"text",name:"childAge",value:a,onChange:e=>u(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:" "}),(0,r.jsx)("input",{className:"emailFormInput",type:"text",name:"message",value:c,onChange:e=>l(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{className:"emailFormButton",type:"submit",children:""})]})})}},6546:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Emblem=void 0;const r=n(5893);n(3716),t.Emblem=function({src:e,className:t}){return(0,r.jsx)("img",{className:t,src:e})}},4713:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;const r=n(5893);n(3409);const i=n(7294);t.Form=function({title:e,handleClick:t}){const[n,o]=(0,i.useState)(""),[s,a]=(0,i.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{className:"loginFormInput",type:"email",value:n,onChange:e=>{o(e.target.value)},placeholder:"email"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{className:"loginFormInput",type:"password",value:s,onChange:e=>{a(e.target.value)},placeholder:"password"}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{className:"loginFormButton",onClick:()=>t(n,s),children:e})]})}},1160:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const r=n(5893);n(8483),t.Header=function({text:e,level:t,className:n}){const i="h"+t;return(0,r.jsx)(i,{className:n,children:e})}},7289:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;const r=n(5893);n(996);const i=n(9818);t.List=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("ul",{className:"navigation__list",children:[(0,r.jsx)("li",{className:"navigation__list-element",children:(0,r.jsx)(i.Link,{to:"/",children:""})}),(0,r.jsx)("li",{className:"navigation__list-element",children:(0,r.jsx)(i.Link,{to:"/studentsList",children:" "})}),(0,r.jsx)("li",{className:"navigation__list-element",children:(0,r.jsx)(i.Link,{to:"/feedBack",children:"   "})}),(0,r.jsx)("li",{className:"navigation__list-element",children:(0,r.jsx)(i.Link,{to:"/photo",children:" "})})]})})}},7210:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.List4Trainer=void 0;const r=n(5893);n(9939);const i=n(9818);t.List4Trainer=function(){const e="navigation__list-element";return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("ul",{className:"navigation__list",children:[(0,r.jsx)("li",{className:e,children:(0,r.jsx)(i.Link,{to:"/",children:""})}),(0,r.jsx)("li",{className:e,children:(0,r.jsx)(i.Link,{to:"/studentsListControl",children:"  "})}),(0,r.jsx)("li",{className:e,children:(0,r.jsx)(i.Link,{to:"/messageToParents",children:"  "})})]})})}},6680:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;const r=n(5893),i=n(9818),o=n(8086),s=n(8938),a=n(5427),u=n(4713);t.Login=function({title:e,handleClick:t}){const n=(0,s.useAppDispatch)(),c=(0,i.useNavigate)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.Form,{title:"",handleClick:function(e,t){const r=(0,a.getAuth)();(0,a.signInWithEmailAndPassword)(r,e,t).then((({user:t})=>{console.log(t),n((0,o.setUser)({email:t.email,id:t.uid,token:t.refreshToken,role:null})),sessionStorage.setItem("user",JSON.stringify({email:e,id:t.uid,token:t.refreshToken})),c("/")})).catch((()=>{alert("     !")}))}})})}},370:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=void 0;const r=n(5893);n(3812),t.Navigation=function({children:e}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("nav",{className:"navigation",children:e})})}},1558:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Paragraph=void 0;const r=n(5893);t.Paragraph=function({text:e}){return(0,r.jsx)("p",{className:"article__header-about",children:e})}},6156:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(5893),i=n(9818),o=n(558),s=n(3054),a=n(7551),u=n(1233),c=n(7011),l=n(6753),d=n(9680),h=n(4563),f=n(5636),p=n(4931),m=n(7044);t.App=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.BrowserRouter,{children:(0,r.jsx)(o.Provider,{store:s.store,children:(0,r.jsxs)(i.Routes,{children:[(0,r.jsx)(i.Route,{path:"/",element:(0,r.jsx)(a.About,{})}),(0,r.jsx)(i.Route,{path:"/login",element:(0,r.jsx)(h.LoginPage,{})}),(0,r.jsx)(i.Route,{path:"/register",element:(0,r.jsx)(f.Register,{})}),(0,r.jsx)(i.Route,{path:"/studentsList",element:(0,r.jsx)(u.StudentsList,{})}),(0,r.jsx)(i.Route,{path:"/studentInfo",element:(0,r.jsx)(c.StudentInfo,{})}),(0,r.jsx)(i.Route,{path:"/feedBack",element:(0,r.jsx)(d.FeedBack,{})}),(0,r.jsx)(i.Route,{path:"/photo",element:(0,r.jsx)(m.Photo,{})}),(0,r.jsx)(i.Route,{path:"/studentsListControl",element:(0,r.jsx)(l.StudentsListControl,{})}),(0,r.jsx)(i.Route,{path:"/messageToParents",element:(0,r.jsx)(p.SendMessage,{})})]})})})})},2345:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SendForm=void 0;const r=n(5893);n(2852);const i=n(7294),o=n(5365);t.SendForm=function(){const[e,t]=(0,i.useState)(""),[n,s]=(0,i.useState)(""),[a,u]=(0,i.useState)("");return(0,r.jsx)("div",{className:"sendForm",children:(0,r.jsxs)("form",{onSubmit:r=>(r=>{r.preventDefault(),(0,o.send)("service_bmhvhui","template_r49ekbe",{from_name:"Dmitry",to_name:e,message:a,reply_to:n},"hNnMYU-JY_Omwj-1p").then((e=>{console.log("SUCCESS!",e.status,e.text)})).catch((e=>{console.log("FAILED...",e)})),t(""),s(""),u("")})(r),children:[(0,r.jsx)("label",{children:" "}),(0,r.jsx)("input",{className:"sendFormInput",type:"text",name:"from_name",placeholder:"Dmitry",readOnly:!0}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:" (  )"}),(0,r.jsx)("input",{className:"sendFormInput",type:"text",name:"to_name",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:" email"}),(0,r.jsx)("input",{className:"sendFormInput",type:"text",name:"reply_to",value:n,onChange:e=>s(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{children:" "}),(0,r.jsx)("input",{className:"sendFormInput",type:"text",name:"message",value:a,onChange:e=>u(e.target.value)}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{className:"sendFormButton",type:"submit",children:""})]})})}},4533:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SignUp=void 0;const r=n(5893);n(9708);const i=n(9818),o=n(5427),s=n(1591),a=n(1099),u=n(8086),c=n(8938),l=n(4713);t.SignUp=function(){const e=(0,c.useAppDispatch)(),t=(0,i.useNavigate)();return(0,r.jsx)(l.Form,{title:"",handleClick:function(n,r){const i=(0,o.getAuth)();(0,o.createUserWithEmailAndPassword)(i,n,r).then((({user:r})=>{console.log(r),e((0,u.setUser)({email:r.email,id:r.uid,token:r.refreshToken,role:null})),sessionStorage.setItem("user",JSON.stringify({email:n,id:r.uid,token:r.refreshToken})),async function(){await(0,s.addDoc)((0,s.collection)(a.db,"privileges"),{email:n,role:"parent"})}(),t("/login")})).catch((()=>{alert("  !"),t("/login")}))}})}},7910:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;const r=n(5893);n(5661);const i=n(7294),o=n(5818);t.Slider=function({foto1:e,foto2:t,foto3:n,foto4:s}){return(0,i.useEffect)((()=>{const e=document.querySelector(".slider"),t=new o.SliderLogic(e);t.showSlides(e,1),document.querySelector(".previous").addEventListener("click",(()=>{t.previous(e)})),document.querySelector(".next").addEventListener("click",(()=>{t.next(e)}))}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("ul",{className:"slider",children:[(0,r.jsx)("li",{className:"slider__item",children:(0,r.jsx)("img",{src:e})}),(0,r.jsx)("li",{className:"slider__item",children:(0,r.jsx)("img",{src:t})}),(0,r.jsx)("li",{className:"slider__item",children:(0,r.jsx)("img",{src:n})}),(0,r.jsx)("li",{className:"slider__item",children:(0,r.jsx)("img",{src:s})}),(0,r.jsx)("a",{className:"previous",children:""}),(0,r.jsx)("a",{className:"next",children:""})]})})}},5818:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderLogic=void 0;let n=1;t.SliderLogic=class{el;constructor(e){this.el=e}showSlides(e,t){const r=e.querySelectorAll(".slider__item");t>r.length&&(n=1),t<1&&(n=r.length);for(const e of r)e.style.display="none";r[n-1].style.display="block"}previous(e){this.showSlides(e,n-=1)}next(e){this.showSlides(e,n+=1)}}},528:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentList=void 0;const i=r(n(5075));t.StudentList=function(e){return`\n        <div className="studentsList__div">\n            <p className="studentsList__div-p">\n                <a\n                    href="/studentInfo"\n                >\n                    <img className="foto" src=${i.default} />\n                </a>\n                <br />${e.surname} ${e.name}\n            </p>\n            <p className="studentsList__div-p">${e.age}</p>            \n            <p class="studentsList__div-p"> : ${e.date}</p>\n            <p class="studentsList__div-p">: ${e.teamName}</p>\n        </div>`}},2105:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentListControl=void 0;const i=r(n(5075));t.StudentListControl=function(e,t){return`\n        <div class="studentsListControl__div">\n            <p class="studentsListControl__div-p">               \n                <img class="foto" src=${i.default} />                \n                <br />${e.surname} ${e.name}\n            </p>\n            <p class="studentsListControl__div-p">${e.age} </p>\n            <p class="studentsListControl__div-p"> : ${e.date}</p>\n            <p class="studentsListControl__div-p">: ${e.teamName}</p>\n            <button class="btn${t}"></button>\n        </div>`}},1099:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.db=t.app=void 0;const r=n(5503),i=n(1591);t.app=(0,r.initializeApp)({apiKey:"AIzaSyD5sxeemPXFs-xzTDV0ty2XWV31yo7I5hM",authDomain:"auth-16e49.firebaseapp.com",projectId:"auth-16e49",storageBucket:"auth-16e49.appspot.com",messagingSenderId:"412681518351",appId:"1:412681518351:web:cbdf0c0bee92c99e36927a"}),t.db=(0,i.getFirestore)(t.app)},8938:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useAppSelector=t.useAppDispatch=void 0;const r=n(558);t.useAppDispatch=()=>(0,r.useDispatch)(),t.useAppSelector=r.useSelector},8074:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useAuth=void 0;const r=n(8938);t.useAuth=function(){const{email:e,token:t,id:n,role:i}=(0,r.useAppSelector)((e=>e.user));return console.log("useAuth=",e,t,n,i),{isAuth:!!e,email:e,token:t,id:n,role:i}}},5680:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCalendar=void 0;const i=r(n(7294)),o=n(9905),s=e=>{const t=10*Math.floor(e/10);return[...Array(10)].map(((e,n)=>t+n))};t.useCalendar=({locale:e="default",selectedDate:t,firstWeekDayNumber:n=2})=>{const[r,a]=i.default.useState("days"),[u,c]=i.default.useState((0,o.createDate)({date:t})),[l,d]=i.default.useState((0,o.createMonth)({date:new Date(u.year,u.monthIndex),locale:e})),[h,f]=i.default.useState(u.year),[p,m]=i.default.useState(s(u.year)),g=i.default.useMemo((()=>(0,o.getMonthesNames)(e)),[]),y=i.default.useMemo((()=>(0,o.getWeekDaysNames)(n,e)),[]),v=i.default.useMemo((()=>l.createMonthDays()),[l,h]),b=i.default.useMemo((()=>{const t=(0,o.getMonthNumberOfDays)(l.monthIndex,h),r=(0,o.createMonth)({date:new Date(h,l.monthIndex-1),locale:e}).createMonthDays(),i=(0,o.createMonth)({date:new Date(h,l.monthIndex+1),locale:e}).createMonthDays(),s=v[0],a=v[t-1],u=n-1,c=s.dayNumberInWeek-1-u<0?7-(n-s.dayNumberInWeek):s.dayNumberInWeek-1-u,d=7-a.dayNumberInWeek+u>6?7-a.dayNumberInWeek-(7-u):7-a.dayNumberInWeek+u,f=v.length+c+d,p=[];for(let e=0;e<c;e+=1){const t=c-e;p[e]=r[r.length-t]}for(let e=c;e<f-d;e+=1)p[e]=v[e-c];for(let e=f-d;e<f;e+=1)p[e]=i[e-f+d];return p}),[l.year,l.monthIndex,h]);return{state:{mode:r,calendarDays:b,weekDaysNames:y,monthesNames:g,selectedDay:u,selectedMonth:l,selectedYear:h,selectedYearsInterval:p},functions:{onClickArrow:t=>{if("years"===r&&"left"===t)return m(s(p[0]-10));if("years"===r&&"right"===t)return m(s(p[0]+10));if("monthes"===r&&"left"===t){const e=h-1;return p.includes(e)||m(s(e)),f(h-1)}if("monthes"===r&&"right"===t){const e=h+1;return p.includes(e)||m(s(e)),f(h+1)}if("days"===r){const n="left"===t?l.monthIndex-1:l.monthIndex+1;if(-1===n){const t=h-1;return f(t),p.includes(t)||m(s(t)),d((0,o.createMonth)({date:new Date(h-1,11),locale:e}))}if(12===n){const t=h+1;return f(t),p.includes(t)||m(s(t)),d((0,o.createMonth)({date:new Date(t,0),locale:e}))}d((0,o.createMonth)({date:new Date(h,n),locale:e}))}},setMode:a,setSelectedDay:c,setSelectedMonthByIndex:t=>{d((0,o.createMonth)({date:new Date(h,t),locale:e}))},setSelectedYear:f,setSelectedYearsInterval:m}}}},8086:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.removeUser=t.setUser=void 0;const i=(0,n(9162).createSlice)({name:"user",initialState:{email:null,token:null,id:null,role:null},reducers:{setUser(e,t){e.email=t.payload.email,e.token=t.payload.token,e.id=t.payload.id,e.role=t.payload.role},removeUser(e){e.email=null,e.token=null,e.id=null,e.role=null}}});r=i.actions,t.setUser=r.setUser,t.removeUser=r.removeUser,t.default=i.reducer},3054:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;const i=n(9162),o=r(n(8086));t.store=(0,i.configureStore)({reducer:{user:o.default}})},3250:function(e,t,n){var r=n(7294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),s((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},139:function(e,t,n){var r=n(7294),i=n(1688),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,a=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!u){if(u=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=s(e,d[0],d[1]);return u((function(){h.hasValue=!0,h.value=f}),[f]),l(f),f}},1688:function(e,t,n){e.exports=n(3250)},2798:function(e,t,n){e.exports=n(139)},5075:function(e,t,n){e.exports=n.p+"images/4.jpg"},9118:function(e,t,n){e.exports=n.p+"images/back.gif"},9426:function(e,t,n){e.exports=n.p+"images/emblem.jpg"},547:function(e,t,n){e.exports=n.p+"images/foto1.jpg"},8051:function(e,t,n){e.exports=n.p+"images/foto2.jpg"},9812:function(e,t,n){e.exports=n.p+"images/foto3.jpg"},3311:function(e,t,n){e.exports=n.p+"images/foto4.jpg"},1994:function(e,t,n){e.exports=n.p+"images/insta.jpg"},8967:function(e,t,n){e.exports=n.p+"images/team.jpg"},5011:function(e,t,n){e.exports=n.p+"images/vk.png"},389:function(e,t,n){n.d(t,{ZR:function(){return o.ZR},Jn:function(){return j},l4:function(){return S},H9:function(){return N},Vr:function(){return D},Af:function(){return k},Z8:function(){return L},lz:function(){return T},qX:function(){return P},Xd:function(){return O},wN:function(){return R},P2:function(){return z},Mq:function(){return U},C6:function(){return V},ZF:function(){return B},TP:function(){return $},KN:function(){return q},Ub:function(){return G}});var r=n(8463),i=n(3333),o=n(4444);let s,a;const u=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,h=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(g(this),e),m(u.get(this))}:function(...e){return m(t.apply(g(this),e))}:function(e,...n){const r=t.call(g(this),e,...n);return l.set(r,e.sort?e.sort():[e]),m(r)}:(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));c.set(e,t)}(e),n=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,f):e);var t,n}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(m(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&u.set(t,e)})).catch((()=>{})),h.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=p(e);return t!==e&&(d.set(e,t),h.set(t,e)),t}const g=e=>h.get(e),y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],b=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return b.set(t,o),o}var A;A=f,f={...A,get:(e,t,n)=>w(e,t)||A.get(e,t,n),has:(e,t)=>!!w(e,t)||A.has(e,t)};class _{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const C="@firebase/app",I="0.7.33",E=new i.Yd("@firebase/app"),S="[DEFAULT]",x={[C]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},k=new Map,T=new Map;function N(e,t){try{e.container.addComponent(t)}catch(n){E.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function D(e,t){e.container.addOrOverwriteComponent(t)}function O(e){const t=e.name;if(T.has(t))return E.debug(`There were multiple attempts to register component ${t}.`),!1;T.set(t,e);for(const t of k.values())N(t,e);return!0}function P(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function R(e,t,n=S){P(e,t).clearInstance(n)}function L(){T.clear()}const M=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class F{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw M.create("app-deleted",{appName:this._name})}}const j="9.10.0";function B(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:S,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw M.create("bad-app-name",{appName:String(i)});const s=k.get(i);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw M.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const e of T.values())a.addComponent(e);const u=new F(e,n,a);return k.set(i,u),u}function U(e=S){const t=k.get(e);if(!t)throw M.create("no-app",{appName:e});return t}function V(){return Array.from(k.values())}async function z(e){const t=e.name;k.has(t)&&(k.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function q(e,t,n){var i;let o=null!==(i=x[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void E.warn(e.join(" "))}O(new r.wA(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}function $(e,t){if(null!==e&&"function"!=typeof e)throw M.create("invalid-log-argument");(0,i.Am)(e,t)}function G(e){(0,i.Ub)(e)}const K="firebase-heartbeat-store";let H=null;function W(){return H||(H=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=m(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(K)}}).catch((e=>{throw M.create("idb-open",{originalErrorMessage:e.message})}))),H}async function Q(e,t){var n;try{const n=(await W()).transaction(K,"readwrite"),r=n.objectStore(K);return await r.put(t,Y(e)),n.done}catch(e){if(e instanceof o.ZR)E.warn(e.message);else{const t=M.create("idb-set",{originalErrorMessage:null===(n=e)||void 0===n?void 0:n.message});E.warn(t.message)}}}function Y(e){return`${e.name}!${e.options.appId}`}class J{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Z(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=X();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=X(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ee(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ee(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,o.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function X(){return(new Date).toISOString().substring(0,10)}class Z{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then((()=>!0)).catch((()=>!1))}async read(){return await this._canUseIndexedDBPromise&&await async function(e){var t;try{return(await W()).transaction(K).objectStore(K).get(Y(e))}catch(e){if(e instanceof o.ZR)E.warn(e.message);else{const n=M.create("idb-get",{originalErrorMessage:null===(t=e)||void 0===t?void 0:t.message});E.warn(n.message)}}}(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Q(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Q(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ee(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}O(new r.wA("platform-logger",(e=>new _(e)),"PRIVATE")),O(new r.wA("heartbeat",(e=>new J(e)),"PRIVATE")),q(C,I,""),q(C,I,"esm2017"),q("fire-js","")},8463:function(e,t,n){n.d(t,{H0:function(){return a},wA:function(){return i}});var r=n(4444);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},3333:function(e,t,n){n.d(t,{Am:function(){return d},Ub:function(){return l},Yd:function(){return c},in:function(){return i}});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach((t=>{t.setLogLevel(e)}))}function d(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const s=o.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}}}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return n[e]}}));return s.default=function(){return n},i.d(o,s),o},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e}(),i.nc=void 0,function(){const e=i(5893);i(26),i(1099);const t=i(6156),n=i(3935),r=document.getElementById("root");(0,n.render)((0,e.jsx)(t.App,{}),r)}()}();
//# sourceMappingURL=main.js.map